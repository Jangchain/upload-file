
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Document</title>
</head>
<body>
<div id="content_views" class="markdown_views prism-atom-one-light">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p><img src="https://i-blog.csdnimg.cn/blog_migrate/e9413fcd109f2f3d7297192eab0c0b2a.gif" alt="doutub_gif"></p> 
<h2><a id="OD_4"></a>åä¸ºODé¢è¯•çœŸé¢˜ç²¾é€‰</h2> 
<p>ğŸŒŸ å¼ºçƒˆæ¨èï¼šåä¸ºODæŠ€æœ¯é¢è¯•çœŸé¢˜ç²¾é€‰ ğŸŒŸ</p> 
<p>å¤§å®¶å¥½ï¼ä»Šå¤©æˆ‘ç»™å¤§å®¶æ¨èä¸€ä»½å¤‡å—èµèª‰çš„åä¸ºODæŠ€æœ¯é¢è¯•ç²¾é€‰é¢˜ç›®ã€‚ æ‰€æœ‰é¢˜ç›®å‡ä¸ºåä¸ºodå®é™…é¢è¯•è¿‡ç¨‹ä¸­å‡ºç°çš„é—®é¢˜ã€‚è¿™äº›é¢è¯•é¢˜ä¸»è¦æ¶‰åŠåˆ°ç¼–ç¨‹å…«è‚¡æ–‡ã€èŒä¸šæ€åº¦ä»¥åŠç‹¬ç‰¹çš„ä¸ªæ€§ç‰¹ç‚¹ã€‚è®©æˆ‘ä»¬ä¸€èµ·æ·±å…¥äº†è§£è¿™ä¸ªç²¾å¿ƒæ•´ç†çš„é¢è¯•é¢˜é›†å§ï¼ğŸ˜Š å¸Œæœ›è¿™äº›é—®é¢˜èƒ½å¤Ÿå¸®åŠ©ä½ åœ¨é¢è¯•ä¸­è„±é¢–è€Œå‡ºï¼Œå±•ç°å‡ºä½ çš„æŠ€æœ¯å®åŠ›å’Œç‹¬ç‰¹é­…åŠ›ã€‚åŠ æ²¹ï¼ğŸ’ªğŸ’¼</p> 
<p>ä¸“æ ï¼š<a href="https://blog.csdn.net/banxia_frontend/category_12436481.html">åä¸ºODé¢è¯•çœŸé¢˜ç²¾é€‰</a></p> 
<h2><a id="1_arrayList_13"></a>1. arrayListæ˜¯æ€ä¹ˆå®ç°åŠ¨æ€æ•°ç»„çš„</h2> 
<p><code>ArrayList</code>åœ¨Javaä¸­æ˜¯ä¸€ç§å¸¸ç”¨çš„åŠ¨æ€æ•°ç»„å®ç°ã€‚å®ƒå†…éƒ¨ä½¿ç”¨ä¸€ä¸ªæ•°ç»„æ¥å­˜å‚¨å…ƒç´ ã€‚å½“æˆ‘ä»¬å‘<code>ArrayList</code>æ·»åŠ å…ƒç´ æ—¶ï¼Œå¦‚æœå†…éƒ¨æ•°ç»„å·²æ»¡ï¼Œ<code>ArrayList</code>ä¼šåˆ›å»ºä¸€ä¸ªæ–°çš„æ•°ç»„ï¼Œé€šå¸¸æ˜¯åŸæ•°ç»„å¤§å°çš„1.5å€ï¼Œç„¶åå°†åŸæ•°ç»„çš„æ‰€æœ‰å…ƒç´ å¤åˆ¶åˆ°æ–°æ•°ç»„ä¸­ï¼Œè¿™ä¸ªè¿‡ç¨‹ç§°ä¸ºæ•°ç»„æ‰©å®¹ã€‚</p> 
<p>ä»¥ä¸‹æ˜¯è¿™ä¸ªè¿‡ç¨‹çš„ç®€åŒ–ç‰ˆä»£ç ï¼š</p> 
<pre><code class="prism language-java"><span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">add</span><span class="token punctuation">(</span><span class="token class-name">E</span> e<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token function">ensureCapacity</span><span class="token punctuation">(</span>size <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// å¢åŠ å‰ï¼Œå…ˆç¡®ä¿å®¹é‡è¶³å¤Ÿ</span>
    elementData<span class="token punctuation">[</span>size<span class="token operator">++</span><span class="token punctuation">]</span> <span class="token operator">=</span> e<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">ensureCapacity</span><span class="token punctuation">(</span><span class="token keyword">int</span> minCapacity<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">int</span> oldCapacity <span class="token operator">=</span> elementData<span class="token punctuation">.</span>length<span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>minCapacity <span class="token operator">&gt;</span> oldCapacity<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">int</span> newCapacity <span class="token operator">=</span> oldCapacity <span class="token operator">*</span> <span class="token number">3</span><span class="token operator">/</span><span class="token number">2</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>  <span class="token comment">// æ–°å®¹é‡ä¸ºæ—§å®¹é‡çš„1.5å€</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>newCapacity <span class="token operator">&lt;</span> minCapacity<span class="token punctuation">)</span>
            newCapacity <span class="token operator">=</span> minCapacity<span class="token punctuation">;</span>
        elementData <span class="token operator">=</span> <span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">copyOf</span><span class="token punctuation">(</span>elementData<span class="token punctuation">,</span> newCapacity<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// å¤åˆ¶åˆ°æ–°æ•°ç»„</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>è¿™ç§åŠ¨æ€è°ƒæ•´å®¹é‡çš„æ–¹å¼ä½¿<code>ArrayList</code>å¯ä»¥åœ¨è¿è¡Œæ—¶åŠ¨æ€åœ°æ·»åŠ æˆ–åˆ é™¤å…ƒç´ ï¼Œè€Œæ— éœ€äº‹å…ˆçŸ¥é“éœ€è¦å­˜å‚¨å¤šå°‘å…ƒç´ ï¼Œå› æ­¤è¢«ç§°ä¸ºåŠ¨æ€æ•°ç»„ã€‚</p> 
<p>ç„¶è€Œï¼Œè¿™ç§åŠ¨æ€è°ƒæ•´å®¹é‡çš„æ–¹å¼ä¹Ÿå¸¦æ¥äº†ä¸€äº›æ€§èƒ½å¼€é”€ã€‚æ¯æ¬¡æ•°ç»„æ‰©å®¹æ—¶ï¼Œéƒ½éœ€è¦åˆ›å»ºæ–°æ•°ç»„å¹¶å¤åˆ¶å…ƒç´ ï¼Œè¿™æ˜¯ä¸€ä¸ªæ—¶é—´å¤æ‚åº¦ä¸ºO(n)çš„æ“ä½œã€‚å› æ­¤ï¼Œå¦‚æœå¯ä»¥é¢„ä¼°åˆ°éœ€è¦å­˜å‚¨çš„å…ƒç´ æ•°é‡ï¼Œæœ€å¥½åœ¨åˆ›å»º<code>ArrayList</code>æ—¶æŒ‡å®šåˆå§‹å®¹é‡ï¼Œä»¥å‡å°‘æ‰©å®¹æ“ä½œçš„æ¬¡æ•°ï¼Œæé«˜æ€§èƒ½ã€‚</p> 
<h2><a id="2___jdk13jdk17_41"></a>2. jdk13ã€jdk17æ–°ç‰¹æ€§ï¼Ÿ</h2> 
<h3><a id="_JDK8__46"></a>ä¸€ JDK8 æ–°ç‰¹æ€§</h3> 
<h3><a id="11_Lambda__48"></a>1.1 Lambda è¡¨è¾¾å¼</h3> 
<p>Lambdaè¡¨è¾¾å¼æ˜¯Java 8å¼•å…¥çš„ä¸€ä¸ªé‡è¦ç‰¹æ€§ï¼Œå®ƒå…è®¸ä»¥æ›´ç®€æ´çš„æ–¹å¼ç¼–å†™åŒ¿åå‡½æ•°ï¼ŒLambdaè¡¨è¾¾å¼å¯ä»¥çœ‹ä½œæ˜¯ä¸€ç§è½»é‡çº§çš„å‡½æ•°å¼ç¼–ç¨‹çš„è¯­æ³•è¡¨ç¤º Lambdaè¡¨è¾¾å¼çš„åŸºæœ¬è¯­æ³•å¦‚ä¸‹ï¼š</p> 
<pre><code>(parameter1, parameter2, ..., parameterN) -&gt; { 
    // æ–¹æ³•ä½“
}
</code></pre> 
<p>Lambdaè¡¨è¾¾å¼åŒ…å«ä»¥ä¸‹å‡ ä¸ªéƒ¨åˆ†ï¼š</p> 
<ul><li>å‚æ•°åˆ—è¡¨ï¼šåŒ…å«åœ¨åœ†æ‹¬å·å†…ï¼Œå¯ä»¥æ˜¯é›¶ä¸ªæˆ–å¤šä¸ªå‚æ•°ã€‚</li><li>ç®­å¤´æ“ä½œç¬¦ï¼šç”±ç®­å¤´ç¬¦å· â€œ-&gt;â€ è¡¨ç¤ºï¼Œç”¨äºåˆ†éš”å‚æ•°åˆ—è¡¨å’Œæ–¹æ³•ä½“ã€‚</li><li>æ–¹æ³•ä½“ï¼šåŒ…å«åœ¨èŠ±æ‹¬å·å†…ï¼Œå®ç°å…·ä½“çš„æ“ä½œé€»è¾‘ã€‚</li></ul> 
<p>Lambdaè¡¨è¾¾å¼çš„ä¸»è¦ç”¨é€”æ˜¯ç®€åŒ–ä»£ç ï¼Œå°¤å…¶æ˜¯åœ¨ä½¿ç”¨å‡½æ•°å¼æ¥å£æ—¶éå¸¸æ–¹ä¾¿ã€‚å‡½æ•°å¼æ¥å£æ˜¯åªåŒ…å«ä¸€ä¸ªæŠ½è±¡æ–¹æ³•çš„æ¥å£ï¼ŒLambdaè¡¨è¾¾å¼å¯ä»¥ä¸å‡½æ•°å¼æ¥å£@FunctionalInterfaceä¸€èµ·ä½¿ç”¨ï¼Œä»è€Œå®ç°å‡½æ•°å¼ç¼–ç¨‹çš„æ•ˆæœã€‚ <img src="https://i-blog.csdnimg.cn/blog_migrate/94add2c18a9d515d587ae51483dac999.png" alt="image.png"></p> 
<pre><code>package lambda;

/**
 * @description: ä½¿ç”¨ lambda è¡¨è¾¾å¼åˆ›å»ºçº¿ç¨‹
 * @author: shu
 * @createDate: 2023/6/30 9:49
 * @version: 1.0
 */
public class Thread01 {
    public static void main(String[] args) {
        // 1.1 ä½¿ç”¨åŒ¿åå†…éƒ¨ç±»
        new Thread(new Runnable() {
            @Override
            public void run() {
                System.out.println("Hello World! 1.1");
            }
        }).start();

        // 1.2 ä½¿ç”¨ lambda è¡¨è¾¾å¼
        new Thread(() -&gt; System.out.println("Hello World! 1.2 ")).start();

        // 1.3 ä½¿ç”¨ lambda è¡¨è¾¾å¼å’Œç±»å‹æ¨å¯¼
        new Thread(() -&gt; {
            System.out.println("Hello World! 1.3");
        }).start();
    }
}

</code></pre> 
<p>Lambdaè¡¨è¾¾å¼å¯ä»¥æ›´ç®€æ´åœ°è¡¨ç¤ºåŒ¿åå‡½æ•°ï¼Œé¿å…äº†ä¼ ç»Ÿçš„åŒ¿åå†…éƒ¨ç±»çš„å†—ä½™ä»£ç ï¼Œæé«˜äº†ä»£ç çš„å¯è¯»æ€§å’Œå¯ç»´æŠ¤æ€§ã€‚å®ƒæ˜¯Java 8å¼•å…¥çš„ä¸€ä¸ªå¼ºå¤§ç‰¹æ€§ï¼Œå¹¿æ³›åº”ç”¨äºå‡½æ•°å¼ç¼–ç¨‹å’ŒJava 8ä»¥åçš„å„ç§APIä¸­ã€‚</p> 
<h3><a id="12_API_99"></a>1.2 æ–°çš„æ—¥æœŸAPI</h3> 
<p>JDK 8å¼•å…¥äº†ä¸€ä¸ªæ–°çš„æ—¥æœŸå’Œæ—¶é—´APIï¼Œåä¸º<code>java.time</code>ï¼Œå®ƒæä¾›äº†æ›´åŠ çµæ´»å’Œæ˜“äºä½¿ç”¨çš„æ—¥æœŸå’Œæ—¶é—´å¤„ç†åŠŸèƒ½ã€‚è¯¥APIåœ¨è®¾è®¡ä¸Šéµå¾ªäº†ä¸å¯å˜æ€§å’Œçº¿ç¨‹å®‰å…¨æ€§çš„åŸåˆ™ï¼Œå¹¶ä¸”æä¾›äº†è®¸å¤šæ–¹ä¾¿çš„æ–¹æ³•æ¥å¤„ç†æ—¥æœŸã€æ—¶é—´ã€æ—¶é—´é—´éš”å’Œæ—¶åŒºç­‰ã€‚ ä¸‹é¢æ˜¯<code>java.time</code>åŒ…ä¸­ä¸€äº›ä¸»è¦çš„ç±»å’Œæ¥å£ï¼š</p> 
<ol start="0"><li><code>LocalDate</code>ï¼šè¡¨ç¤ºæ—¥æœŸï¼Œä¾‹å¦‚ï¼šå¹´ã€æœˆã€æ—¥ã€‚</li><li><code>LocalTime</code>ï¼šè¡¨ç¤ºæ—¶é—´ï¼Œä¾‹å¦‚ï¼šæ—¶ã€åˆ†ã€ç§’ã€‚</li><li><code>LocalDateTime</code>ï¼šè¡¨ç¤ºæ—¥æœŸå’Œæ—¶é—´ï¼Œç»“åˆäº†<code>LocalDate</code>å’Œ<code>LocalTime</code>ã€‚</li><li><code>ZonedDateTime</code>ï¼šè¡¨ç¤ºå¸¦æ—¶åŒºçš„æ—¥æœŸå’Œæ—¶é—´ã€‚</li><li><code>Instant</code>ï¼šè¡¨ç¤ºæ—¶é—´æˆ³ï¼Œç²¾ç¡®åˆ°çº³ç§’çº§åˆ«ã€‚</li><li><code>Duration</code>ï¼šè¡¨ç¤ºæ—¶é—´é—´éš”ï¼Œä¾‹å¦‚ï¼šå°æ—¶ã€åˆ†é’Ÿã€ç§’ã€‚</li><li><code>Period</code>ï¼šè¡¨ç¤ºæ—¥æœŸé—´éš”ï¼Œä¾‹å¦‚ï¼šå¹´ã€æœˆã€æ—¥ã€‚</li><li><code>DateTimeFormatter</code>ï¼šç”¨äºæ—¥æœŸå’Œæ—¶é—´çš„æ ¼å¼åŒ–å’Œè§£æã€‚</li><li><code>ZoneId</code>ï¼šè¡¨ç¤ºæ—¶åŒºã€‚</li><li><code>ZoneOffset</code>ï¼šè¡¨ç¤ºæ—¶åŒºåç§»é‡ã€‚</li></ol> 
<p>è¿™äº›ç±»æä¾›äº†ä¸€ç³»åˆ—æ–¹æ³•æ¥æ‰§è¡Œæ—¥æœŸå’Œæ—¶é—´çš„è®¡ç®—ã€æ ¼å¼åŒ–ã€è§£æå’Œæ¯”è¾ƒç­‰æ“ä½œã€‚è€Œä¸”ï¼Œ<code>java.time</code>åŒ…è¿˜æä¾›äº†å¯¹æ—¥å†ç³»ç»Ÿçš„æ”¯æŒï¼ŒåŒ…æ‹¬å¯¹ISO-8601æ—¥å†ç³»ç»Ÿçš„å…¨é¢æ”¯æŒã€‚ ä»¥ä¸‹æ˜¯ä¸€ä¸ªç®€å•çš„ç¤ºä¾‹ï¼Œå±•ç¤ºäº†å¦‚ä½•ä½¿ç”¨æ–°çš„æ—¥æœŸAPIåˆ›å»ºå’Œæ“ä½œæ—¥æœŸå’Œæ—¶é—´ï¼š</p> 
<pre><code>package lambda;

import java.time.LocalDate;
import java.time.LocalDateTime;
import java.time.LocalTime;
import java.time.format.DateTimeFormatter;


/**
 * @description: æ–°çš„æ—¥æœŸå’Œæ—¶é—´ API ç¤ºä¾‹
 * @author: shu
 * @createDate: 2023/6/30 10:15
 * @version: 1.0
 */
public class DateDemo01 {
    public static void main(String[] args) {
        // åˆ›å»ºæ—¥æœŸ
        LocalDate date = LocalDate.now();
        System.out.println("Today's date: " + date);

        // åˆ›å»ºæ—¶é—´
        LocalTime time = LocalTime.now();
        System.out.println("Current time: " + time);

        // åˆ›å»ºæ—¥æœŸå’Œæ—¶é—´
        LocalDateTime dateTime = LocalDateTime.now();
        System.out.println("Current date and time: " + dateTime);

        // æ ¼å¼åŒ–æ—¥æœŸå’Œæ—¶é—´
        String formattedDateTime = dateTime.format(DateTimeFormatter.ofPattern("yyyy-MM-dd HH:mm:ss"));
        System.out.println("Formatted date and time: " + formattedDateTime);

        // æ‰§è¡Œæ—¥æœŸçš„è®¡ç®—æ“ä½œ
        LocalDate tomorrow = date.plusDays(1);
        System.out.println("Tomorrow's date: " + tomorrow);

        // æ‰§è¡Œæ—¶é—´çš„æ¯”è¾ƒæ“ä½œ
        boolean isBefore = time.isBefore(LocalTime.NOON);
        System.out.println("Is current time before noon? " + isBefore);
    }
}
</code></pre> 
<h3><a id="13_Optional_160"></a>1.3 ä½¿ç”¨Optional</h3> 
<p>JDK 8å¼•å…¥äº†ä¸€ä¸ªæ–°çš„ç±»ï¼Œåä¸º<code>Optional</code>ï¼Œç”¨äºè§£å†³åœ¨å¤„ç†å¯èƒ½ä¸ºnullçš„å€¼æ—¶å‡ºç°çš„NullPointerExceptionï¼ˆç©ºæŒ‡é’ˆå¼‚å¸¸ï¼‰é—®é¢˜ã€‚<code>Optional</code>ç±»çš„è®¾è®¡ç›®æ ‡æ˜¯é¼“åŠ±æ›´å¥½çš„ç¼–ç¨‹å®è·µï¼Œæ˜ç¡®è¡¨ç¤ºä¸€ä¸ªå€¼å¯èƒ½ä¸ºç©ºï¼Œå¹¶é¼“åŠ±å¼€å‘äººå‘˜åœ¨ä½¿ç”¨è¿™äº›å¯èƒ½ä¸ºç©ºçš„å€¼æ—¶è¿›è¡Œæ˜¾å¼çš„å¤„ç†ã€‚ <code>Optional</code>ç±»æ˜¯ä¸€ä¸ªå®¹å™¨å¯¹è±¡ï¼Œå¯ä»¥åŒ…å«ä¸€ä¸ªéç©ºçš„å€¼æˆ–è€…æ²¡æœ‰å€¼ã€‚å®ƒæä¾›äº†ä¸€ç³»åˆ—æ–¹æ³•æ¥å¤„ç†åŒ…å«å€¼å’Œæ²¡æœ‰å€¼çš„æƒ…å†µï¼Œä¾‹å¦‚ï¼šè·å–å€¼ã€åˆ¤æ–­æ˜¯å¦æœ‰å€¼ã€è·å–é»˜è®¤å€¼ã€æ‰§è¡Œæ“ä½œç­‰ã€‚ ä¸‹é¢æ˜¯<code>Optional</code>ç±»çš„ä¸€äº›å¸¸ç”¨æ–¹æ³•ï¼š</p> 
<ol start="0"><li><code>of()</code>ï¼šåˆ›å»ºä¸€ä¸ªåŒ…å«éç©ºå€¼çš„Optionalå¯¹è±¡ã€‚</li><li><code>empty()</code>ï¼šåˆ›å»ºä¸€ä¸ªç©ºçš„Optionalå¯¹è±¡ã€‚</li><li><code>ofNullable()</code>ï¼šæ ¹æ®æŒ‡å®šçš„å€¼åˆ›å»ºä¸€ä¸ªOptionalå¯¹è±¡ï¼Œå…è®¸å€¼ä¸ºnullã€‚</li><li><code>isPresent()</code>ï¼šåˆ¤æ–­Optionalå¯¹è±¡æ˜¯å¦åŒ…å«å€¼ã€‚</li><li><code>get()</code>ï¼šè·å–Optionalå¯¹è±¡ä¸­çš„å€¼ï¼Œå¦‚æœæ²¡æœ‰å€¼ï¼Œåˆ™æŠ›å‡ºNoSuchElementExceptionå¼‚å¸¸ã€‚</li><li><code>orElse()</code>ï¼šè·å–Optionalå¯¹è±¡ä¸­çš„å€¼ï¼Œå¦‚æœæ²¡æœ‰å€¼ï¼Œåˆ™è¿”å›é»˜è®¤å€¼ã€‚</li><li><code>orElseGet()</code>ï¼šè·å–Optionalå¯¹è±¡ä¸­çš„å€¼ï¼Œå¦‚æœæ²¡æœ‰å€¼ï¼Œåˆ™é€šè¿‡æä¾›çš„Supplierå‡½æ•°ç”Ÿæˆä¸€ä¸ªé»˜è®¤å€¼ã€‚</li><li><code>orElseThrow()</code>ï¼šè·å–Optionalå¯¹è±¡ä¸­çš„å€¼ï¼Œå¦‚æœæ²¡æœ‰å€¼ï¼Œåˆ™é€šè¿‡æä¾›çš„Supplierå‡½æ•°æŠ›å‡ºæŒ‡å®šçš„å¼‚å¸¸ã€‚</li><li><code>map()</code>ï¼šå¯¹Optionalå¯¹è±¡ä¸­çš„å€¼è¿›è¡Œè½¬æ¢ï¼Œå¹¶è¿”å›ä¸€ä¸ªæ–°çš„Optionalå¯¹è±¡ã€‚</li><li><code>flatMap()</code>ï¼šå¯¹Optionalå¯¹è±¡ä¸­çš„å€¼è¿›è¡Œè½¬æ¢ï¼Œå¹¶è¿”å›ä¸€ä¸ªæ–°çš„Optionalå¯¹è±¡ï¼Œè¯¥æ–¹æ³•å…è®¸è½¬æ¢å‡½æ•°è¿”å›ä¸€ä¸ªOptionalå¯¹è±¡ã€‚</li></ol> 
<p>ä»¥ä¸‹æ˜¯ä¸€ä¸ªç®€å•çš„ç¤ºä¾‹ï¼Œå±•ç¤ºäº†å¦‚ä½•ä½¿ç”¨<code>Optional</code>ç±»æ¥å¤„ç†å¯èƒ½ä¸ºç©ºçš„å€¼ï¼š</p> 
<pre><code>import java.util.Optional;

/**
 * @description: Optional ç¤ºä¾‹
 * @author: shu
 * @createDate: 2023/6/30 10:20
 * @version: 1.0
 */
public class OptionalDemo {
    public static void main(String[] args) {
        String value = "Hello";

        // åˆ›å»ºä¸€ä¸ªåŒ…å«éç©ºå€¼çš„Optionalå¯¹è±¡
        Optional&lt;String&gt; optional = Optional.of(value);

        // åˆ¤æ–­Optionalå¯¹è±¡æ˜¯å¦åŒ…å«å€¼
        if (optional.isPresent()) {
            // è·å–Optionalå¯¹è±¡ä¸­çš„å€¼
            String result = optional.get();
            System.out.println("Value: " + result);
        }

        // è·å–Optionalå¯¹è±¡ä¸­çš„å€¼ï¼Œå¦‚æœæ²¡æœ‰å€¼ï¼Œåˆ™è¿”å›é»˜è®¤å€¼
        String defaultValue = optional.orElse("Default Value");
        System.out.println("Default Value: " + defaultValue);

        // å¯¹Optionalå¯¹è±¡ä¸­çš„å€¼è¿›è¡Œè½¬æ¢
        Optional&lt;String&gt; transformed = optional.map(String::toUpperCase);
        if (transformed.isPresent()) {
            System.out.println("Transformed Value: " + transformed.get());
        }
    }
}
</code></pre> 
<p>åœ¨ä¸Šé¢çš„ç¤ºä¾‹ä¸­ï¼Œæˆ‘ä»¬åˆ›å»ºäº†ä¸€ä¸ªåŒ…å«éç©ºå€¼çš„Optionalå¯¹è±¡ï¼Œå¹¶ä½¿ç”¨<code>isPresent()</code>å’Œ<code>get()</code>æ–¹æ³•æ¥åˆ¤æ–­å’Œè·å–å€¼ã€‚ç„¶åï¼Œæˆ‘ä»¬ä½¿ç”¨<code>orElse()</code>æ–¹æ³•æ¥è·å–å€¼æˆ–è¿”å›é»˜è®¤å€¼ï¼Œä»¥åŠä½¿ç”¨<code>map()</code>æ–¹æ³•å¯¹å€¼è¿›è¡Œè½¬æ¢ã€‚ <code>Optional</code>ç±»å¯ä»¥åœ¨ä»£ç ä¸­æä¾›æ›´åŠ å®‰å…¨å’Œæ¸…æ™°çš„å¤„ç†ç©ºå€¼çš„æ–¹å¼ã€‚ç„¶è€Œï¼Œå®ƒå¹¶ä¸é€‚ç”¨äºæ‰€æœ‰çš„åœºæ™¯ï¼Œéœ€è¦æ ¹æ®å®é™…æƒ…å†µæ¥åˆ¤æ–­æ˜¯å¦ä½¿ç”¨<code>Optional</code>ã€‚è¯·æ³¨æ„ï¼Œè¿‡åº¦ä½¿ç”¨<code>Optional</code>å¯èƒ½ä¼šå¯¼è‡´ä»£ç å†—ä½™ï¼Œå› æ­¤éœ€è¦æƒè¡¡ä½¿ç”¨çš„åˆ©å¼Šã€‚</p> 
<h3><a id="14_Base64httpslinkjuejincntargethttps3A2F2Fsocsdnnet2Fso2Fsearch3Fq3DBase6426spm3D1001210130017020_httpssocsdnnetsosearchqBase64spm1001210130017020_215"></a>1.4 ä½¿ç”¨<a href="https://link.juejin.cn/?target=https%3A%2F%2Fso.csdn.net%2Fso%2Fsearch%3Fq%3DBase64%26spm%3D1001.2101.3001.7020" rel="nofollow" title="https://so.csdn.net/so/search?q=Base64&amp;spm=1001.2101.3001.7020">Base64</a></h3> 
<p>åœ¨JDK 8ä¸­ï¼ŒJavaæä¾›äº†å¯¹Base64ç¼–ç å’Œè§£ç çš„æ”¯æŒï¼Œé€šè¿‡<code>java.util.Base64</code>ç±»æ¥å®ç°ã€‚Base64æ˜¯ä¸€ç§ç”¨äºå°†äºŒè¿›åˆ¶æ•°æ®ç¼–ç ä¸ºæ–‡æœ¬çš„ç¼–ç æ–¹å¼ï¼Œå¸¸ç”¨äºåœ¨ç½‘ç»œä¼ è¾“ä¸­æˆ–å­˜å‚¨æ•°æ®æ—¶å°†äºŒè¿›åˆ¶æ•°æ®è¡¨ç¤ºä¸ºå¯æ‰“å°å­—ç¬¦ ä¸‹é¢æ˜¯ä¸€äº›åŸºæœ¬çš„ä½¿ç”¨ç¤ºä¾‹ï¼š</p> 
<ol start="0"><li>ç¼–ç ä¸ºBase64å­—ç¬¦ä¸²ï¼š</li></ol> 
<pre><code>import java.util.Base64;

/**
 * @description: ç¼–ç ç¤ºä¾‹
 * @author: shu
 * @createDate: 2023/7/1 9:23
 * @version: 1.0
 */
public class EncodedDemo {
    public static void main(String[] args) {
        // åŸå§‹æ•°æ®
        String originalData = "Hello, World!";
        // ç¼–ç ä¸ºBase64å­—ç¬¦ä¸²
        String encodedData = Base64.getEncoder().encodeToString(originalData.getBytes());
        System.out.println("Encoded data: " + encodedData);
    }
}
</code></pre> 
<ol start="2"><li>è§£ç Base64å­—ç¬¦ä¸²ï¼š</li></ol> 
<pre><code>import java.util.Base64;

/**
 * @description: è§£ç ç¤ºä¾‹
 * @author: shu
 * @createDate: 2023/7/1 9:24
 * @version: 1.0
 */
public class DecodeDemo {
    public static void main(String[] args) {
        // Base64å­—ç¬¦ä¸²
        String encodedData = "SGVsbG8sIFdvcmxkIQ==";
        // è§£ç ä¸ºåŸå§‹æ•°æ®
        byte[] decodedData = Base64.getDecoder().decode(encodedData);
        System.out.println("Decoded data: " + new String(decodedData));
    }
}
</code></pre> 
<p>åœ¨ä¸Šè¿°ç¤ºä¾‹ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨<code>Base64.getEncoder()</code>æ–¹æ³•è·å–ä¸€ä¸ª<code>Base64.Encoder</code>å¯¹è±¡ï¼Œå¹¶è°ƒç”¨å…¶<code>encodeToString()</code>æ–¹æ³•å°†åŸå§‹æ•°æ®ç¼–ç ä¸ºBase64å­—ç¬¦ä¸²ã€‚åŒæ ·ï¼Œæˆ‘ä»¬ä½¿ç”¨<code>Base64.getDecoder()</code>æ–¹æ³•è·å–ä¸€ä¸ª<code>Base64.Decoder</code>å¯¹è±¡ï¼Œå¹¶è°ƒç”¨å…¶<code>decode()</code>æ–¹æ³•è§£ç Base64å­—ç¬¦ä¸²ä¸ºåŸå§‹æ•°æ®ã€‚ <code>java.util.Base64</code>ç±»è¿˜æä¾›äº†å…¶ä»–ä¸€äº›æ–¹æ³•ï¼Œä¾‹å¦‚ï¼š</p> 
<ul><li><code>Base64.getEncoder().encodeToString(byte[] src)</code>ï¼šå°†å­—èŠ‚æ•°ç»„ç¼–ç ä¸ºBase64å­—ç¬¦ä¸²ã€‚</li><li><code>Base64.getDecoder().decode(String src)</code>ï¼šå°†Base64å­—ç¬¦ä¸²è§£ç ä¸ºå­—èŠ‚æ•°ç»„ã€‚</li><li><code>Base64.getMimeEncoder().encodeToString(byte[] src)</code>ï¼šå°†å­—èŠ‚æ•°ç»„ç¼–ç ä¸ºMIMEç±»å‹çš„Base64å­—ç¬¦ä¸²ã€‚</li><li><code>Base64.getMimeDecoder().decode(String src)</code>ï¼šå°†MIMEç±»å‹çš„Base64å­—ç¬¦ä¸²è§£ç ä¸ºå­—èŠ‚æ•°ç»„ã€‚</li><li><code>Base64.getUrlEncoder().encodeToString(byte[] src)</code>ï¼šå°†å­—èŠ‚æ•°ç»„ç¼–ç ä¸ºURLå®‰å…¨çš„Base64å­—ç¬¦ä¸²ã€‚</li><li><code>Base64.getUrlDecoder().decode(String src)</code>ï¼šå°†URLå®‰å…¨çš„Base64å­—ç¬¦ä¸²è§£ç ä¸ºå­—èŠ‚æ•°ç»„ã€‚</li></ul> 
<p>è¿™äº›æ–¹æ³•å¯ä»¥æ ¹æ®ä¸åŒçš„éœ€æ±‚é€‰æ‹©ä½¿ç”¨ã€‚ éœ€è¦æ³¨æ„çš„æ˜¯ï¼ŒBase64ç¼–ç æ˜¯ä¸åŠ å¯†çš„ï¼Œä»…ç”¨äºç¼–ç å’Œè§£ç æ•°æ®ï¼Œå¦‚æœéœ€è¦åŠ å¯†å’Œè§£å¯†æ•°æ®ï¼Œè¯·ä½¿ç”¨åŠ å¯†ç®—æ³•ï¼Œå¦‚AESã€RSAç­‰ã€‚</p> 
<h3><a id="15__274"></a>1.5 æ¥å£çš„é»˜è®¤æ–¹æ³•å’Œé™æ€æ–¹æ³•</h3> 
<p>JDK 8å¼•å…¥äº†æ¥å£çš„é»˜è®¤æ–¹æ³•å’Œé™æ€æ–¹æ³•ï¼Œè¿™ä½¿å¾—åœ¨æ¥å£ä¸­æ·»åŠ æ–°åŠŸèƒ½å˜å¾—æ›´åŠ çµæ´»ã€‚</p> 
<ol start="0"><li>é»˜è®¤æ–¹æ³•ï¼ˆDefault Methodsï¼‰ï¼š é»˜è®¤æ–¹æ³•å…è®¸åœ¨æ¥å£ä¸­å®šä¹‰å…·æœ‰é»˜è®¤å®ç°çš„æ–¹æ³•ã€‚è¿™ä½¿å¾—åœ¨ä¸ç ´åç°æœ‰å®ç°ç±»çš„æƒ…å†µä¸‹ï¼Œå¯ä»¥å‘ç°æœ‰æ¥å£æ·»åŠ æ–°çš„æ–¹æ³•ã€‚</li></ol> 
<p>ä»¥ä¸‹æ˜¯é»˜è®¤æ–¹æ³•çš„ç¤ºä¾‹ï¼š</p> 
<pre><code>public interface MyInterface {
    // æŠ½è±¡æ–¹æ³•
    void abstractMethod();

    // é»˜è®¤æ–¹æ³•
    default void defaultMethod() {
        System.out.println("This is a default method.");
    }
}

public class MyClass implements MyInterface {
    @Override
    public void abstractMethod() {
        System.out.println("Implementing abstractMethod() in MyClass.");
    }
}

/**
 * @description:
 * @author: shu
 * @createDate: 2023/7/1 9:29
 * @version: 1.0
 */
public class DefaultMethodsDemo {
    public static void main(String[] args) {
        MyClass obj = new MyClass();
        obj.abstractMethod();
        obj.defaultMethod();
    }
    
}
</code></pre> 
<p>åœ¨ä¸Šè¿°ç¤ºä¾‹ä¸­ï¼Œ<code>MyInterface</code>æ¥å£ä¸­å®šä¹‰äº†ä¸€ä¸ªæŠ½è±¡æ–¹æ³•<code>abstractMethod()</code>å’Œä¸€ä¸ªé»˜è®¤æ–¹æ³•<code>defaultMethod()</code>ã€‚<code>MyClass</code>ç±»å®ç°äº†<code>MyInterface</code>æ¥å£ï¼Œå¹¶æä¾›äº†å¯¹æŠ½è±¡æ–¹æ³•çš„å…·ä½“å®ç°ã€‚æ­¤å¤–ï¼Œ<code>MyClass</code>ç±»å¯ä»¥ç»§æ‰¿é»˜è®¤æ–¹æ³•<code>defaultMethod()</code>çš„é»˜è®¤å®ç°ã€‚</p> 
<ol start="2"><li>é™æ€æ–¹æ³•ï¼ˆStatic Methodsï¼‰ï¼š é™æ€æ–¹æ³•æ˜¯æ¥å£ä¸­çš„å¦ä¸€ç§ç±»å‹çš„æ–¹æ³•ï¼Œå®ƒä¸ç‰¹å®šçš„æ¥å£å…³è”ï¼Œå¹¶ä¸”åªèƒ½é€šè¿‡æ¥å£åç§°æ¥è°ƒç”¨ã€‚</li></ol> 
<p>ä»¥ä¸‹æ˜¯é™æ€æ–¹æ³•çš„ç¤ºä¾‹ï¼š</p> 
<pre><code>public interface MyInterface {
    // æŠ½è±¡æ–¹æ³•
    void abstractMethod();

    // é™æ€æ–¹æ³•
    static void staticMethod() {
        System.out.println("This is a static method.");
    }
}

public class MyClass implements MyInterface {
    @Override
    public void abstractMethod() {
        System.out.println("Implementing abstractMethod() in MyClass.");
    }
}

public class Main {
    public static void main(String[] args) {
        MyClass obj = new MyClass();
        obj.abstractMethod();
        MyInterface.staticMethod();
    }
}
</code></pre> 
<p>åœ¨ä¸Šè¿°ç¤ºä¾‹ä¸­ï¼Œ<code>MyInterface</code>æ¥å£ä¸­å®šä¹‰äº†ä¸€ä¸ªæŠ½è±¡æ–¹æ³•<code>abstractMethod()</code>å’Œä¸€ä¸ªé™æ€æ–¹æ³•<code>staticMethod()</code>ã€‚<code>MyClass</code>ç±»å®ç°äº†<code>MyInterface</code>æ¥å£ï¼Œå¹¶æä¾›äº†å¯¹æŠ½è±¡æ–¹æ³•çš„å…·ä½“å®ç°ã€‚<code>staticMethod()</code>å¯ä»¥é€šè¿‡æ¥å£åç§°ç›´æ¥è°ƒç”¨ã€‚ é€šè¿‡é»˜è®¤æ–¹æ³•å’Œé™æ€æ–¹æ³•ï¼Œæ¥å£çš„åŠŸèƒ½å¯ä»¥æ›´åŠ çµæ´»åœ°æ‰©å±•ï¼Œè€Œæ— éœ€ç ´åå·²æœ‰çš„å®ç°ç±»ã€‚è¿™åœ¨JDK 8ä¹‹å‰æ˜¯ä¸å¯èƒ½çš„ã€‚</p> 
<h3><a id="16__351"></a>1.6 æ–¹æ³•å¼•ç”¨æ ¼å¼</h3> 
<p>åœ¨JDK 8ä¸­ï¼Œå¼•å…¥äº†æ–¹æ³•å¼•ç”¨ï¼ˆMethod Referenceï¼‰çš„æ¦‚å¿µï¼Œç”¨äºç®€åŒ–å‡½æ•°å¼æ¥å£ï¼ˆFunctional Interfaceï¼‰çš„å®ç°ã€‚æ–¹æ³•å¼•ç”¨å…è®¸æ‚¨ç›´æ¥å¼•ç”¨ç°æœ‰æ–¹æ³•ä½œä¸ºLambdaè¡¨è¾¾å¼çš„æ›¿ä»£ï¼Œä½¿ä»£ç æ›´åŠ ç®€æ´å’Œæ˜“è¯»ã€‚åœ¨JDK 8ä¸­ï¼Œæœ‰å››ç§ä¸åŒçš„æ–¹æ³•å¼•ç”¨æ ¼å¼ï¼š</p> 
<ol start="0"><li>é™æ€æ–¹æ³•å¼•ç”¨ï¼ˆStatic Method Referenceï¼‰ï¼šæ ¼å¼ä¸º<code>ç±»å::é™æ€æ–¹æ³•å</code>ã€‚ä¾‹å¦‚ï¼Œ<code>Integer::parseInt</code>è¡¨ç¤ºå¼•ç”¨Integerç±»çš„é™æ€æ–¹æ³•parseIntã€‚</li><li>å®ä¾‹æ–¹æ³•å¼•ç”¨ï¼ˆInstance Method Referenceï¼‰ï¼šæ ¼å¼ä¸º<code>å¯¹è±¡::å®ä¾‹æ–¹æ³•å</code>ã€‚ä¾‹å¦‚ï¼Œ<code>System.out::println</code>è¡¨ç¤ºå¼•ç”¨System.outå¯¹è±¡çš„printlnæ–¹æ³•ã€‚</li><li>å¯¹è±¡æ–¹æ³•å¼•ç”¨ï¼ˆObject Method Referenceï¼‰ï¼šæ ¼å¼ä¸º<code>ç±»å::å®ä¾‹æ–¹æ³•å</code>ã€‚è¿™ç§å¼•ç”¨é€‚ç”¨äºæ— å‚å®ä¾‹æ–¹æ³•ã€‚ä¾‹å¦‚ï¼Œ<code>String::length</code>è¡¨ç¤ºå¼•ç”¨Stringç±»çš„lengthæ–¹æ³•ã€‚</li><li>æ„é€ æ–¹æ³•å¼•ç”¨ï¼ˆConstructor Method Referenceï¼‰ï¼šæ ¼å¼ä¸º<code>ç±»å::new</code>ã€‚ä¾‹å¦‚ï¼Œ<code>ArrayList::new</code>è¡¨ç¤ºå¼•ç”¨ArrayListç±»çš„æ„é€ æ–¹æ³•ã€‚</li></ol> 
<p>åœ¨ä½¿ç”¨æ–¹æ³•å¼•ç”¨æ—¶ï¼Œè¦æ ¹æ®æ¥å£çš„æŠ½è±¡æ–¹æ³•çš„å‚æ•°ä¸ªæ•°å’Œè¿”å›ç±»å‹é€‰æ‹©é€‚å½“çš„æ–¹æ³•å¼•ç”¨æ ¼å¼ã€‚ ä»¥ä¸‹æ˜¯ä¸€ä¸ªç®€å•çš„ç¤ºä¾‹ï¼Œå±•ç¤ºäº†è¿™äº›æ–¹æ³•å¼•ç”¨æ ¼å¼çš„ä½¿ç”¨ï¼š</p> 
<pre><code>import java.util.Arrays;
import java.util.List;
import java.util.stream.Collectors;

/**
 * @description: æ–¹æ³•å¼•ç”¨ç¤ºä¾‹
 * @author: shu
 * @createDate: 2023/7/1 9:32
 * @version: 1.0
 */
public class MethodReferenceDemo {
    public static void main(String[] args) {
        List&lt;String&gt; names = Arrays.asList("Alice", "Bob", "Charlie");
        // é™æ€æ–¹æ³•å¼•ç”¨
        names.forEach(System.out::println);
        // å®ä¾‹æ–¹æ³•å¼•ç”¨
        names.forEach(String::toUpperCase);
        // å¯¹è±¡æ–¹æ³•å¼•ç”¨
        names.forEach(String::length);
        // æ„é€ æ–¹æ³•å¼•ç”¨
        List&lt;Integer&gt; lengths = names.stream()
                .map(Integer::new)
                .collect(Collectors.toList());
    }
}
</code></pre> 
<h3><a id="17_Streamhttpslinkjuejincntargethttps3A2F2Fsocsdnnet2Fso2Fsearch3Fq3DStream26spm3D1001210130017020_httpssocsdnnetsosearchqStreamspm1001210130017020_390"></a>1.7 <a href="https://link.juejin.cn/?target=https%3A%2F%2Fso.csdn.net%2Fso%2Fsearch%3Fq%3DStream%26spm%3D1001.2101.3001.7020" rel="nofollow" title="https://so.csdn.net/so/search?q=Stream&amp;spm=1001.2101.3001.7020">Stream</a>ç±»</h3> 
<p>JDKä¸­çš„Streamç±»æ˜¯Java 8å¼•å…¥çš„ä¸€ä¸ªæ–°æ¦‚å¿µï¼Œç”¨äºå¤„ç†é›†åˆå’Œæ•°ç»„ç­‰æ•°æ®æºçš„å…ƒç´ åºåˆ—ã€‚Streamç±»æä¾›äº†ä¸€ç§æµå¼æ“ä½œçš„æ–¹å¼ï¼Œå¯ä»¥ç”¨äºå¯¹æ•°æ®è¿›è¡Œè¿‡æ»¤ã€æ˜ å°„ã€æ’åºã€èšåˆç­‰å„ç§æ“ä½œï¼Œä»è€Œæ›´åŠ æ–¹ä¾¿å’Œé«˜æ•ˆåœ°å¤„ç†æ•°æ®ã€‚ ä¸‹é¢æ˜¯ä¸€äº›Streamç±»çš„ä¸»è¦ç‰¹ç‚¹å’Œç”¨æ³•ï¼š</p> 
<ol start="0"><li>æµçš„åˆ›å»ºï¼šå¯ä»¥é€šè¿‡é›†åˆã€æ•°ç»„ã€I/Oé€šé“ç­‰å¤šç§æ–¹å¼åˆ›å»ºæµã€‚ä¾‹å¦‚ï¼Œé€šè¿‡<code>Collection.stream()</code>æ–¹æ³•å¯ä»¥ä»é›†åˆåˆ›å»ºä¸€ä¸ªæµï¼Œé€šè¿‡<code>Arrays.stream()</code>æ–¹æ³•å¯ä»¥ä»æ•°ç»„åˆ›å»ºä¸€ä¸ªæµã€‚</li><li>ä¸­é—´æ“ä½œï¼šStreamç±»æä¾›äº†ä¸€ç³»åˆ—ä¸­é—´æ“ä½œæ–¹æ³•ï¼Œç”¨äºå¯¹æµè¿›è¡Œè½¬æ¢ã€è¿‡æ»¤ã€æ˜ å°„ç­‰æ“ä½œï¼Œè¿™äº›æ“ä½œä¼šè¿”å›ä¸€ä¸ªæ–°çš„Streamå¯¹è±¡ã€‚å¸¸è§çš„ä¸­é—´æ“ä½œæ–¹æ³•åŒ…æ‹¬<code>filter()</code>ã€<code>map()</code>ã€<code>sorted()</code>ç­‰ã€‚</li><li>ç»ˆç«¯æ“ä½œï¼šStreamç±»ä¹Ÿæä¾›äº†ä¸€ç³»åˆ—ç»ˆç«¯æ“ä½œæ–¹æ³•ï¼Œç”¨äºå¯¹æµè¿›è¡Œæœ€ç»ˆçš„å¤„ç†ï¼Œè¿”å›ä¸€ä¸ªç»“æœæˆ–äº§ç”Ÿä¸€ä¸ªå‰¯ä½œç”¨ã€‚å¸¸è§çš„ç»ˆç«¯æ“ä½œæ–¹æ³•åŒ…æ‹¬<code>forEach()</code>ã€<code>collect()</code>ã€<code>reduce()</code>ç­‰ã€‚</li><li>æƒ°æ€§æ±‚å€¼ï¼šStreamç±»çš„ä¸­é—´æ“ä½œæ˜¯æƒ°æ€§æ±‚å€¼çš„ï¼Œå³åœ¨è°ƒç”¨ç»ˆç«¯æ“ä½œä¹‹å‰ï¼Œä¸­é—´æ“ä½œå¹¶ä¸ä¼šç«‹å³æ‰§è¡Œã€‚è¿™ç§æ–¹å¼å¯ä»¥ä¼˜åŒ–æ€§èƒ½ï¼Œåªå¯¹éœ€è¦å¤„ç†çš„å…ƒç´ è¿›è¡Œæ“ä½œã€‚</li><li>å¹¶è¡Œå¤„ç†ï¼šStreamç±»å¯ä»¥æ”¯æŒå¹¶è¡Œå¤„ç†ï¼Œå³åœ¨å¤„ç†å¤§é‡æ•°æ®æ—¶ï¼Œå¯ä»¥å°†æ“ä½œå¹¶è¡ŒåŒ–ä»¥æé«˜å¤„ç†é€Ÿåº¦ã€‚é€šè¿‡<code>parallel()</code>æ–¹æ³•å¯ä»¥å°†æµè½¬æ¢ä¸ºå¹¶è¡Œæµã€‚</li></ol> 
<p>ä¸‹é¢æ˜¯ä¸€ä¸ªç®€å•çš„ç¤ºä¾‹ï¼Œå±•ç¤ºäº†Streamç±»çš„ä½¿ç”¨ï¼š</p> 
<pre><code>import java.util.Arrays;
import java.util.List;
import java.util.stream.Collectors;

/**
 * @description:
 * @author: shu
 * @createDate: 2023/7/1 9:36
 * @version: 1.0
 */
public class StreamDemo {
    public static void main(String[] args) {
        List&lt;String&gt; names = Arrays.asList("Alice", "Bob", "Charlie", "Dave", "Eve");

        // è¿‡æ»¤é•¿åº¦å¤§äº3çš„å…ƒç´ 
        names.stream()
                .filter(name -&gt; name.length() &gt; 3)
                .forEach(System.out::println);

        // è½¬æ¢ä¸ºå¤§å†™å¹¶æ’åº
        List&lt;String&gt; uppercaseNames = names.stream()
                .map(String::toUpperCase)
                .sorted()
                .collect(Collectors.toList());

        // æ±‚é•¿åº¦ä¹‹å’Œ
        int totalLength = names.stream()
                .mapToInt(String::length)
                .sum();
    }
}
</code></pre> 
<p>å…·ä½“å‚è€ƒæˆ‘å‰é¢å†™çš„æ–‡ç« </p> 
<h3><a id="18__438"></a>1.8 æ³¨è§£ç›¸å…³çš„æ”¹å˜</h3> 
<p>åœ¨JDK 8ä¸­ï¼Œæ³¨è§£ç›¸å…³çš„æ”¹å˜ä¸»è¦é›†ä¸­åœ¨ä¸¤ä¸ªæ–¹é¢ï¼šé‡å¤æ³¨è§£ï¼ˆRepeatable Annotationsï¼‰å’Œå¯ä½¿ç”¨çš„ç±»å‹ï¼ˆType Annotationsï¼‰ã€‚</p> 
<ol start="0"><li>é‡å¤æ³¨è§£ï¼ˆRepeatable Annotationsï¼‰ï¼šåœ¨JDK 8ä¹‹å‰ï¼Œæ¯ä¸ªæ³¨è§£åœ¨ä¸€ä¸ªå…ƒç´ ä¸Šåªèƒ½ä½¿ç”¨ä¸€æ¬¡ã€‚è€Œåœ¨JDK 8ä¸­ï¼Œå¼•å…¥äº†é‡å¤æ³¨è§£çš„æ¦‚å¿µï¼Œå…è®¸åœ¨åŒä¸€ä¸ªå…ƒç´ ä¸Šå¤šæ¬¡ä½¿ç”¨ç›¸åŒçš„æ³¨è§£ã€‚ä¸ºäº†æ”¯æŒé‡å¤æ³¨è§£ï¼Œæ–°å¢äº†ä¸¤ä¸ªå…ƒæ³¨è§£ï¼ˆMeta-Annotationsï¼‰ï¼š@Repeatableå’Œ@Retentionã€‚ @Repeatableæ³¨è§£ç”¨äºæ³¨è§£å£°æ˜ï¼ŒæŒ‡å®šäº†æ³¨è§£çš„å®¹å™¨æ³¨è§£ï¼Œè¯¥å®¹å™¨æ³¨è§£å…è®¸åœ¨åŒä¸€ä¸ªå…ƒç´ ä¸Šå¤šæ¬¡ä½¿ç”¨ç›¸åŒçš„æ³¨è§£ã€‚ @Retentionæ³¨è§£ç”¨äºæŒ‡å®šæ³¨è§£çš„ç”Ÿå‘½å‘¨æœŸï¼Œå®ƒå¯ä»¥åº”ç”¨äºæ³¨è§£å£°æ˜å’Œå®¹å™¨æ³¨è§£ã€‚å¸¸ç”¨çš„ç”Ÿå‘½å‘¨æœŸåŒ…æ‹¬@Retention(RetentionPolicy.SOURCE)ã€@Retention(RetentionPolicy.CLASS)å’Œ@Retention(RetentionPolicy.RUNTIME)ã€‚ é€šè¿‡ä½¿ç”¨é‡å¤æ³¨è§£ï¼Œå¯ä»¥æ›´çµæ´»åœ°åœ¨åŒä¸€ä¸ªå…ƒç´ ä¸Šåº”ç”¨å¤šä¸ªç›¸åŒçš„æ³¨è§£ï¼Œè€Œä¸éœ€è¦åˆ›å»ºé¢å¤–çš„å®¹å™¨æ³¨è§£ã€‚</li><li>å¯ä½¿ç”¨çš„ç±»å‹ï¼ˆType Annotationsï¼‰ï¼šåœ¨JDK 8ä¹‹å‰ï¼Œæ³¨è§£ä¸»è¦åº”ç”¨äºç±»ã€æ–¹æ³•ã€å­—æ®µç­‰å…ƒç´ çš„å£°æ˜ä¸Šã€‚è€Œåœ¨JDK 8ä¸­ï¼Œå¼•å…¥äº†å¯ä½¿ç”¨çš„ç±»å‹ï¼Œä½¿å¾—æ³¨è§£å¯ä»¥åº”ç”¨äºæ›´å¤šçš„ä½ç½®ï¼ŒåŒ…æ‹¬ç±»å‹çš„ä½¿ç”¨ä¸Šã€‚ å¯ä½¿ç”¨çš„ç±»å‹æ³¨è§£é€šè¿‡åœ¨ç±»å‹å‰é¢æ·»åŠ æ³¨è§£ï¼Œæ¥å¯¹ç±»å‹ä½¿ç”¨è¿›è¡Œçº¦æŸå’Œæ ‡è®°ã€‚ä¾‹å¦‚ï¼Œå¯ä»¥åœ¨å˜é‡å£°æ˜ã€æ–¹æ³•å‚æ•°ã€æ³›å‹ç±»å‹å‚æ•°ç­‰ä½ç½®ä½¿ç”¨æ³¨è§£ã€‚ å¯ä½¿ç”¨çš„ç±»å‹æ³¨è§£æä¾›äº†æ›´ä¸°å¯Œçš„è¯­ä¹‰ï¼Œå¯ä»¥å¸®åŠ©ç¼–è¯‘å™¨å’Œé™æ€åˆ†æå·¥å…·æ£€æŸ¥ç±»å‹ä½¿ç”¨çš„åˆæ³•æ€§ï¼Œå¹¶æä¾›æ›´ç²¾ç¡®çš„ç±»å‹æ£€æŸ¥å’Œçº¦æŸã€‚</li></ol> 
<p>è¿™äº›æ”¹å˜ä½¿å¾—æ³¨è§£åœ¨JDK 8ä¸­å˜å¾—æ›´åŠ çµæ´»å’Œå¼ºå¤§ï¼Œå¯ä»¥æ›´å¥½åœ°åº”ç”¨äºä»£ç çš„æè¿°ã€åˆ†æå’Œçº¦æŸã€‚é‡å¤æ³¨è§£å’Œå¯ä½¿ç”¨çš„ç±»å‹ä¸ºå¼€å‘äººå‘˜æä¾›äº†æ›´å¤šçš„é€‰æ‹©å’Œæ‰©å±•æ€§ï¼Œä½¿å¾—æ³¨è§£åœ¨Javaè¯­è¨€ä¸­çš„åº”ç”¨æ›´åŠ å¹¿æ³›å’Œå¤šæ ·åŒ–ã€‚</p> 
<h3><a id="19_parallel_447"></a>1.9 æ”¯æŒå¹¶è¡Œï¼ˆparallelï¼‰æ•°ç»„</h3> 
<p>åœ¨JDK 8ä¸­ï¼Œå¼•å…¥äº†å¯¹å¹¶è¡Œæ•°ç»„æ“ä½œçš„æ”¯æŒã€‚è¿™ä¸ªåŠŸèƒ½ç”±Arraysç±»å’Œæ–°çš„ParallelSorteræ¥å£æä¾› Arraysç±»ä¸­æ–°å¢äº†ä¸€äº›ç”¨äºå¹¶è¡Œæ“ä½œæ•°ç»„çš„æ–¹æ³•ï¼Œå…¶ä¸­æœ€çªå‡ºçš„æ˜¯<code>parallelSort()</code>æ–¹æ³•ã€‚è¯¥æ–¹æ³•ç”¨äºå¯¹æ•°ç»„è¿›è¡Œå¹¶è¡Œæ’åºï¼Œå¯ä»¥æ˜¾è‘—æé«˜æ’åºçš„æ€§èƒ½ã€‚ä¸ä¼ ç»Ÿçš„<code>sort()</code>æ–¹æ³•ç›¸æ¯”ï¼Œ<code>parallelSort()</code>æ–¹æ³•ä¼šå°†æ•°ç»„åˆ’åˆ†ä¸ºå¤šä¸ªå°å—ï¼Œå¹¶åœ¨å¤šä¸ªçº¿ç¨‹ä¸Šå¹¶è¡Œè¿›è¡Œæ’åºã€‚ ä»¥ä¸‹æ˜¯ä¸€ä¸ªç¤ºä¾‹ä»£ç ï¼Œå±•ç¤ºäº†<code>parallelSort()</code>æ–¹æ³•çš„ä½¿ç”¨ï¼š</p> 
<pre><code>import java.util.Arrays;

/**
 * @description:
 * @author: shu
 * @createDate: 2023/7/1 9:39
 * @version: 1.0
 */
public class ParallelArrayDemo {
    public static void main(String[] args) {
        int[] numbers = {5, 2, 8, 1, 9, 3, 7, 6, 4};
        // å¹¶è¡Œæ’åºæ•°ç»„
        Arrays.parallelSort(numbers);
        // æ‰“å°æ’åºç»“æœ
        for (int number : numbers) {
            System.out.println(number);
        }
    }
}
</code></pre> 
<p>åœ¨ä¸Šé¢çš„ç¤ºä¾‹ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨<code>parallelSort()</code>æ–¹æ³•å¯¹æ•´å‹æ•°ç»„è¿›è¡Œå¹¶è¡Œæ’åºï¼Œç„¶åéå†æ•°ç»„æ‰“å°æ’åºç»“æœã€‚ éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå¹¶è¡Œæ•°ç»„æ“ä½œé€‚ç”¨äºä¸€äº›å¯ä»¥è¢«åˆ’åˆ†ä¸ºç‹¬ç«‹å—çš„æ“ä½œï¼Œå¦‚æ’åºã€æŸ¥æ‰¾ç­‰ã€‚å¯¹äºä¸€äº›éœ€è¦ä¾èµ–å‰åå…ƒç´ å…³ç³»çš„æ“ä½œï¼Œå¯èƒ½ä¸é€‚åˆä½¿ç”¨å¹¶è¡Œæ•°ç»„æ“ä½œã€‚ å¹¶è¡Œæ•°ç»„æ“ä½œå¯ä»¥å……åˆ†åˆ©ç”¨å¤šæ ¸å¤„ç†å™¨çš„ä¼˜åŠ¿ï¼Œæé«˜å¤„ç†å¤§è§„æ¨¡æ•°æ®æ—¶çš„æ€§èƒ½ã€‚ä½†åœ¨ä½¿ç”¨å¹¶è¡Œæ“ä½œæ—¶ï¼Œä¹Ÿéœ€è¦æ³¨æ„åˆç†åˆ’åˆ†ä»»åŠ¡å’Œæ•°æ®çš„è´Ÿè½½å‡è¡¡ï¼Œä»¥é¿å…çº¿ç¨‹ç«äº‰å’Œæ•ˆç‡ä¸‹é™ã€‚</p> 
<h3><a id="110_Concurrency_475"></a>1.10 å¯¹å¹¶å‘ç±»ï¼ˆConcurrencyï¼‰çš„æ‰©å±•</h3> 
<p>åœ¨JDK 8ä¸­ï¼Œå¯¹å¹¶å‘ç±»ï¼ˆConcurrencyï¼‰è¿›è¡Œäº†ä¸€äº›æ‰©å±•ï¼Œä»¥æä¾›æ›´å¼ºå¤§ã€æ›´çµæ´»çš„å¹¶å‘ç¼–ç¨‹èƒ½åŠ›ã€‚ä»¥ä¸‹æ˜¯å‡ ä¸ªä¸»è¦çš„æ‰©å±•ï¼š</p> 
<ol start="0"><li>CompletableFutureç±»ï¼šCompletableFutureç±»æ˜¯ä¸€ä¸ªå®ç°äº†CompletableFutureæ¥å£çš„å¼‚æ­¥è®¡ç®—ç±»ï¼Œç”¨äºå¤„ç†å¼‚æ­¥ä»»åŠ¡çš„ç»“æœã€‚å®ƒæä¾›äº†ä¸€ç³»åˆ—æ–¹æ³•ï¼Œå¯ä»¥é€šè¿‡å›è°ƒã€ç»„åˆå’Œè½¬æ¢ç­‰æ–¹å¼å¤„ç†å¼‚æ­¥ä»»åŠ¡çš„å®Œæˆç»“æœã€‚CompletableFutureç±»ä½¿å¾—å¼‚æ­¥ç¼–ç¨‹æ›´åŠ æ–¹ä¾¿å’Œç›´è§‚ã€‚</li></ol> 
<pre><code>import java.util.concurrent.CompletableFuture;
import java.util.concurrent.ConcurrentHashMap;

/**
 * @description: CompletableFutureå¹¶å‘ç¼–ç¨‹ç¤ºä¾‹
 * @author: shu
 * @createDate: 2023/7/1 9:45
 * @version: 1.0
 */
public class ConcurrencyDemo {
    public static void main(String[] args) {
        ConcurrentHashMap&lt;String, Integer&gt; map = new ConcurrentHashMap&lt;&gt;();

        // ä½¿ç”¨CompletableFutureè¿›è¡Œå¼‚æ­¥è®¡ç®—
        CompletableFuture&lt;Integer&gt; future1 = CompletableFuture.supplyAsync(() -&gt; {
            // æ¨¡æ‹Ÿè€—æ—¶æ“ä½œ
            try {
                Thread.sleep(2000);
            } catch (InterruptedException e) {
                e.printStackTrace();
            }
            return 42;
        });

        CompletableFuture&lt;Integer&gt; future2 = CompletableFuture.supplyAsync(() -&gt; {
            // æ¨¡æ‹Ÿè€—æ—¶æ“ä½œ
            try {
                Thread.sleep(3000);
            } catch (InterruptedException e) {
                e.printStackTrace();
            }
            return 100;
        });

        // ä½¿ç”¨CompletableFutureå¤„ç†å¼‚æ­¥è®¡ç®—ç»“æœ
        CompletableFuture&lt;Void&gt; combinedFuture = CompletableFuture.allOf(future1, future2);
        combinedFuture.thenRun(() -&gt; {
            int result1 = future1.join();
            int result2 = future2.join();
            map.put("result1", result1);
            map.put("result2", result2);
            System.out.println("Results: " + map);
        });

        // ç­‰å¾…æ‰€æœ‰ä»»åŠ¡å®Œæˆ
        combinedFuture.join();
    }
}
</code></pre> 
<ol start="2"><li>LongAdderå’ŒDoubleAdderç±»ï¼šLongAdderå’ŒDoubleAdderç±»æ˜¯å¯¹AtomicLongå’ŒAtomicDoubleçš„æ”¹è¿›ã€‚å®ƒä»¬æä¾›äº†æ›´é«˜çš„å¹¶å‘æ€§èƒ½ï¼Œåœ¨é«˜å¹¶å‘åœºæ™¯ä¸‹æ›´é€‚åˆä½¿ç”¨ã€‚LongAdderå’ŒDoubleAdderç±»é€šè¿‡åˆ†è§£å†…éƒ¨è®¡æ•°å™¨ï¼Œå°†æ›´æ–°æ“ä½œåˆ†æ•£åˆ°å¤šä¸ªå˜é‡ä¸Šï¼Œä»¥å‡å°‘ç«äº‰å’Œé”äº‰ç”¨ã€‚</li></ol> 
<pre><code>import java.util.concurrent.atomic.DoubleAdder;
import java.util.concurrent.atomic.LongAdder;

/**
 * @description:
 * @author: shu
 * @createDate: 2023/7/1 9:51
 * @version: 1.0
 */
public class AdderDemo {
    public static void main(String[] args) {
        LongAdder longAdder = new LongAdder();
        DoubleAdder doubleAdder = new DoubleAdder();

        // å¤šçº¿ç¨‹å¹¶å‘å¢åŠ å€¼
        Thread thread1 = new Thread(() -&gt; {
            for (int i = 0; i &lt; 1000; i++) {
                longAdder.increment();
                doubleAdder.add(0.5);
            }
        });

        Thread thread2 = new Thread(() -&gt; {
            for (int i = 0; i &lt; 1000; i++) {
                longAdder.increment();
                doubleAdder.add(0.5);
            }
        });

        thread1.start();
        thread2.start();

        try {
            thread1.join();
            thread2.join();
        } catch (InterruptedException e) {
            e.printStackTrace();
        }

        // è¾“å‡ºç»“æœ
        System.out.println("LongAdder Result: " + longAdder.sum());
        System.out.println("DoubleAdder Result: " + doubleAdder.sum());
    }
}
</code></pre> 
<ol start="3"><li>StampedLockç±»ï¼šStampedLockç±»æ˜¯ä¸€ç§ä¹è§‚è¯»å†™é”ï¼Œç”¨äºä¼˜åŒ–è¯»å¤šå†™å°‘çš„åœºæ™¯ã€‚ä¸ä¼ ç»Ÿçš„è¯»å†™é”ç›¸æ¯”ï¼ŒStampedLockç±»å¼•å…¥äº†ä¹è§‚è¯»æ¨¡å¼ï¼Œé¿å…äº†è·å–é”çš„å¼€é”€ï¼Œæä¾›æ›´å¥½çš„å¹¶å‘æ€§èƒ½ã€‚</li></ol> 
<pre><code>import java.util.concurrent.locks.StampedLock;

/**
 * @description:
 * @author: shu
 * @createDate: 2023/7/1 9:52
 * @version: 1.0
 */
public class StampedLockDemo {
    private double x, y;
    private final StampedLock lock = new StampedLock();

    public void move(double deltaX, double deltaY) {
        long stamp = lock.writeLock();
        try {
            x += deltaX;
            y += deltaY;
        } finally {
            lock.unlockWrite(stamp);
        }
    }

    public double distanceFromOrigin() {
        long stamp = lock.tryOptimisticRead();
        double currentX = x;
        double currentY = y;
        if (!lock.validate(stamp)) {
            stamp = lock.readLock();
            try {
                currentX = x;
                currentY = y;
            } finally {
                lock.unlockRead(stamp);
            }
        }
        return Math.sqrt(currentX * currentX + currentY * currentY);
    }

    public static void main(String[] args) {
        StampedLockDemo example = new StampedLockDemo();
        example.move(3, 4);
        double distance = example.distanceFromOrigin();
        System.out.println("Distance from origin: " + distance);
    }
}
</code></pre> 
<ol start="4"><li>ConcurrentHashMapç±»çš„æ”¹è¿›ï¼šConcurrentHashMapç±»åœ¨JDK 8ä¸­è¿›è¡Œäº†ä¸€äº›æ”¹è¿›ï¼Œæä¾›äº†æ›´å¥½çš„å¹¶å‘æ€§èƒ½å’Œæ‰©å±•æ€§ã€‚æ”¹è¿›åŒ…æ‹¬åˆ†æ®µé”ï¼ˆSegmented Lockingï¼‰æœºåˆ¶çš„ä¼˜åŒ–å’Œå†…éƒ¨æ•°æ®ç»“æ„çš„æ”¹è¿›ï¼Œä»¥å‡å°‘ç«äº‰å’Œæé«˜å¹¶å‘æ€§èƒ½ã€‚</li></ol> 
<pre><code>import java.util.concurrent.ConcurrentHashMap;

/**
 * @description:
 * @author: shu
 * @createDate: 2023/7/1 9:54
 * @version: 1.0
 */
public class ConcurrentHashMapDemo {
    public static void main(String[] args) {
        ConcurrentHashMap&lt;String, Integer&gt; map = new ConcurrentHashMap&lt;&gt;();

        // å¤šçº¿ç¨‹å¹¶å‘æ“ä½œmap
        Thread thread1 = new Thread(() -&gt; {
            for (int i = 0; i &lt; 1000; i++) {
                map.put("A" + i, i);
            }
        });

        Thread thread2 = new Thread(() -&gt; {
            for (int i = 0; i &lt; 1000; i++) {
                map.put("B" + i, i);
            }
        });

        thread1.start();
        thread2.start();

        try {
            thread1.join();
            thread2.join();
        } catch (InterruptedException e) {
            e.printStackTrace();
        }

        // è¾“å‡ºmapçš„å¤§å°å’Œå†…å®¹
        System.out.println("Map size: " + map.size());
        System.out.println("Map content: " + map);
    }
}
</code></pre> 
<p>è¿™äº›æ‰©å±•æä¾›äº†æ›´å¤šå¹¶å‘ç¼–ç¨‹çš„å·¥å…·å’Œé€‰æ‹©ï¼Œä½¿å¾—åœ¨å¹¶å‘åœºæ™¯ä¸‹ç¼–å†™é«˜æ•ˆã€å¯é çš„ä»£ç æ›´åŠ å®¹æ˜“ã€‚å¼€å‘äººå‘˜å¯ä»¥æ ¹æ®å…·ä½“éœ€æ±‚é€‰æ‹©åˆé€‚çš„å¹¶å‘ç±»ï¼Œä»¥æé«˜åº”ç”¨ç¨‹åºçš„æ€§èƒ½å’Œå¯ä¼¸ç¼©æ€§ã€‚</p> 
<h3><a id="_JDK9__678"></a>äºŒ JDK9 æ–°ç‰¹æ€§</h3> 
<h3><a id="21__680"></a>2.1 æ¨¡å—åŒ–</h3> 
<p>JDK 9 å¼•å…¥äº†ä¸€ä¸ªé‡è¦çš„ç‰¹æ€§ï¼Œå³æ¨¡å—åŒ–ç³»ç»Ÿï¼ˆModule Systemï¼‰ï¼Œä¹Ÿç§°ä¸º Java å¹³å°æ¨¡å—ç³»ç»Ÿï¼ˆJava Platform Module Systemï¼ŒJPMSï¼‰ã€‚è¯¥ç‰¹æ€§çš„ç›®æ ‡æ˜¯æ”¹å–„ Java å¹³å°çš„å¯ä¼¸ç¼©æ€§ã€å®‰å…¨æ€§å’Œæ€§èƒ½ã€‚ æ¨¡å—åŒ–ç³»ç»Ÿçš„ä¸»è¦æ€æƒ³æ˜¯å°† Java å¹³å°åˆ†è§£ä¸ºä¸€ç³»åˆ—æ¨¡å—ï¼Œæ¯ä¸ªæ¨¡å—éƒ½æœ‰è‡ªå·±çš„å°è£…å’Œä¾èµ–å…³ç³»ã€‚è¿™äº›æ¨¡å—å¯ä»¥è¢«ç»„åˆåœ¨ä¸€èµ·ï¼Œä»¥æ„å»ºæ›´å¤§çš„åº”ç”¨ç¨‹åºæˆ–åº“ã€‚ ä¸‹é¢æ˜¯ä¸€äº› JDK 9 æ¨¡å—åŒ–çš„å…³é”®æ¦‚å¿µï¼š</p> 
<ol start="0"><li>æ¨¡å—ï¼ˆModuleï¼‰ï¼šæ¨¡å—æ˜¯ä¸€ä¸ªç‹¬ç«‹çš„å•å…ƒï¼Œå®ƒç”±ä¸€ç»„ç›¸å…³çš„åŒ…å’Œç±»ç»„æˆï¼Œå¹¶ä¸”å…·æœ‰æ¸…æ™°çš„è¾¹ç•Œã€‚æ¨¡å—å¯ä»¥æŒ‡å®šå®ƒæ‰€ä¾èµ–çš„å…¶ä»–æ¨¡å—ï¼Œå¹¶ä¸”å¯ä»¥æ˜ç¡®åœ°å£°æ˜å®ƒå¯¹å¤–éƒ¨ä¸–ç•Œæä¾›çš„å…¬å…± APIã€‚</li><li>æ¨¡å—åŒ–æºä»£ç ï¼ˆModule Source Codeï¼‰ï¼šåœ¨ JDK 9 ä¸­ï¼Œæºä»£ç è¢«ç»„ç»‡ä¸ºä¸€ç»„æ¨¡å—ã€‚æ¯ä¸ªæ¨¡å—éƒ½æœ‰è‡ªå·±çš„ç›®å½•ç»“æ„ï¼Œå…¶ä¸­åŒ…å«æ¨¡å—å®šä¹‰æ–‡ä»¶ <code>module-info.java</code>ï¼Œç”¨äºå£°æ˜æ¨¡å—çš„åç§°ã€ä¾èµ–å…³ç³»å’Œå¯¼å‡ºçš„åŒ…ç­‰ä¿¡æ¯ã€‚</li><li>æ¨¡å—è·¯å¾„ï¼ˆModule Pathï¼‰ï¼šæ¨¡å—è·¯å¾„æ˜¯ä¸€ç»„ç›®å½•æˆ– JAR æ–‡ä»¶çš„é›†åˆï¼Œç”¨äºåŠ è½½å’Œé“¾æ¥æ¨¡å—ã€‚ä¸ä¼ ç»Ÿçš„ç±»è·¯å¾„ä¸åŒï¼Œæ¨¡å—è·¯å¾„å…è®¸æ˜¾å¼åœ°æŒ‡å®šæ¨¡å—ä¹‹é—´çš„ä¾èµ–å…³ç³»ã€‚</li><li>æ¨¡å—åŒ– JAR æ–‡ä»¶ï¼ˆModular JAR Fileï¼‰ï¼šåœ¨ JDK 9 ä¸­ï¼Œå¯ä»¥ä½¿ç”¨æ–°çš„ JAR æ–‡ä»¶æ ¼å¼æ¥åˆ›å»ºæ¨¡å—åŒ–çš„ JAR æ–‡ä»¶ã€‚è¿™äº› JAR æ–‡ä»¶åŒ…å«æ¨¡å—å®šä¹‰æ–‡ä»¶ä»¥åŠå…¶ä»–æ¨¡å—æ‰€éœ€çš„ç±»å’Œèµ„æºã€‚</li><li>æ¨¡å—åŒ–å‘½ä»¤ï¼ˆModule-Related Commandsï¼‰ï¼šJDK 9 å¼•å…¥äº†ä¸€äº›æ–°çš„å‘½ä»¤ï¼Œç”¨äºå¤„ç†æ¨¡å—åŒ–ç³»ç»Ÿã€‚ä¾‹å¦‚ï¼Œ<code>jdeps</code> å‘½ä»¤ç”¨äºåˆ†ææ¨¡å—ä¹‹é—´çš„ä¾èµ–å…³ç³»ï¼Œ<code>jlink</code> å‘½ä»¤ç”¨äºæ„å»ºè‡ªå®šä¹‰è¿è¡Œæ—¶é•œåƒã€‚</li></ol> 
<p>æ¨¡å—åŒ–ç³»ç»Ÿå¸¦æ¥äº†è®¸å¤šå¥½å¤„ï¼ŒåŒ…æ‹¬ï¼š</p> 
<ul><li>æ›´å¥½çš„å¯ç»´æŠ¤æ€§ï¼šæ¨¡å—çš„è¾¹ç•Œæ¸…æ™°ï¼Œæ˜“äºç†è§£å’Œç»´æŠ¤ã€‚</li><li>æ›´å¥½çš„å¯æ‰©å±•æ€§ï¼šæ¨¡å—ä¹‹é—´çš„ä¾èµ–å…³ç³»æ›´æ˜ç¡®ï¼Œä½¿å¾—åº”ç”¨ç¨‹åºå’Œåº“çš„ç»„åˆæ›´åŠ çµæ´»ã€‚</li><li>æ›´å¥½çš„æ€§èƒ½ï¼šæ¨¡å—åŒ–ç³»ç»Ÿå¯ä»¥è¿›è¡Œæ›´ç²¾ç¡®çš„ä¾èµ–åˆ†æå’Œæ‡’åŠ è½½ï¼Œä»è€Œæé«˜åº”ç”¨ç¨‹åºçš„å¯åŠ¨æ—¶é—´å’Œè¿è¡Œæ—¶æ€§èƒ½ã€‚</li><li>æ›´å¥½çš„å®‰å…¨æ€§ï¼šæ¨¡å—å¯ä»¥æ˜ç¡®å£°æ˜å®ƒä»¬çš„å¯¹å¤–éƒ¨ä¸–ç•Œçš„å…¬å…± APIï¼Œä»è€Œæä¾›æ›´ç»†ç²’åº¦çš„è®¿é—®æ§åˆ¶ã€‚</li></ul> 
<p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå°½ç®¡ JDK 9 å¼•å…¥äº†æ¨¡å—åŒ–ç³»ç»Ÿï¼Œä½†å¹¶ä¸æ˜¯æ‰€æœ‰çš„ Java åº“å’Œåº”ç”¨ç¨‹åºéƒ½éœ€è¦ç«‹å³è¿ç§»åˆ°æ¨¡å—åŒ–ç³»ç»Ÿã€‚åœ¨ JDK 9 ä¸­ï¼Œä»ç„¶å¯ä»¥ä½¿ç”¨ä¼ ç»Ÿçš„ç±»è·¯å¾„æ¥è¿è¡Œéæ¨¡å—åŒ–çš„ä»£ç ã€‚ä½†æ˜¯ï¼Œæ¨¡å—åŒ–ç³»ç»Ÿä¸ºé‚£äº›éœ€è¦æ›´å¥½çš„å¯ä¼¸ç¼©æ€§å’Œå®‰å…¨æ€§çš„é¡¹ç›®æä¾›äº†ä¸€ä¸ªå¼ºå¤§çš„å·¥å…·ã€‚</p> 
<blockquote> 
 <p>æ¡ˆä¾‹ä¸€</p> 
</blockquote> 
<p>æ¥ä¸ªæ¡ˆä¾‹ï¼šé¦–å…ˆåœ¨æ¨¡å—åŒ–ä¸­å’Œéœ€è¦å†è·Ÿç›®å½•ä¸‹å®šä¹‰module-info.javaï¼Œé‡Œé¢ä¸Šé¢ä½ éœ€è¦å¯¼å…¥æˆ–è€…æš´éœ²çš„æ¨¡å—</p> 
<pre><code>/**
 * @description:
 * @author: shu
 * @createDate: 2023/6/30 11:20
 * @version: 1.0
 */
module Model {
    // TODO: 2023/6/30 å¯¼å…¥æˆ‘ä»¬éœ€è¦çš„æ¨¡å—
    requires cn.hutool;
    // TODO: 2023/6/30 å¯¼å‡ºæˆ‘ä»¬éœ€è¦çš„æ¨¡å—
    exports  com.shu.model;
}
</code></pre> 
<p><img src="https://i-blog.csdnimg.cn/blog_migrate/29b9ef482c7fcd8fa64552e111674ee1.png" alt="image.png"> æˆ‘ä»¬è°ƒç”¨æ–¹æ³•ï¼Œå¦‚æœæ²¡æœ‰å¯¼å…¥æ¨¡å—ä½ ä¼šå‘ç°æ²¡æœ‰å‘ç°è¯¥ç±»</p> 
<pre><code>import cn.hutool.core.convert.Convert;

/**
 * @description:
 * @author: shu
 * @createDate: 2023/6/30 11:21
 * @version: 1.0
 */
public class Test01 {
    public static void main(String[] args) {
        int a = 1;
        //aSträ¸º"1"
        String aStr = Convert.toStr(a);
        long[] b = {1,2,3,4,5};
        //bSträ¸ºï¼š"[1, 2, 3, 4, 5]"
        String bStr = Convert.toStr(b);

    }
}
</code></pre> 
<p><img src="https://i-blog.csdnimg.cn/blog_migrate/09ac89c843a8ba737c32a73f6df85572.png" alt="image.png"> <img src="https://i-blog.csdnimg.cn/blog_migrate/0d5a06d9ad41c38377c036fcf43c3b5e.png" alt="image.png"></p> 
<blockquote> 
 <p>æ¡ˆä¾‹äºŒ</p> 
</blockquote> 
<p>å½“ä¸€ä¸ªæ¡ˆä¾‹æ¥è¯´æ˜ JDK 9 çš„æ¨¡å—åŒ–ç³»ç»Ÿå¦‚ä½•å·¥ä½œã€‚ å‡è®¾æˆ‘ä»¬æ­£åœ¨å¼€å‘ä¸€ä¸ªç®€å•çš„å›¾ä¹¦ç®¡ç†åº”ç”¨ç¨‹åºï¼Œå®ƒç”±å‡ ä¸ªæ¨¡å—ç»„æˆï¼š<code>bookmanagement.core</code>ã€<code>bookmanagement.ui</code> å’Œ <code>bookmanagement.data</code>ã€‚å…¶ä¸­ï¼Œ<code>bookmanagement.core</code> æ¨¡å—æä¾›æ ¸å¿ƒä¸šåŠ¡é€»è¾‘ï¼Œ<code>bookmanagement.ui</code> æ¨¡å—æä¾›ç”¨æˆ·ç•Œé¢ï¼Œ<code>bookmanagement.data</code> æ¨¡å—æä¾›æ•°æ®è®¿é—®åŠŸèƒ½ã€‚ æ¯ä¸ªæ¨¡å—éƒ½æœ‰è‡ªå·±çš„ç›®å½•ç»“æ„ï¼Œå¹¶ä¸”åŒ…å«ä¸€ä¸ªæ¨¡å—å®šä¹‰æ–‡ä»¶ <code>module-info.java</code>ã€‚ é¦–å…ˆï¼Œè®©æˆ‘ä»¬çœ‹ä¸€ä¸‹ <code>bookmanagement.core</code> æ¨¡å—çš„ <code>module-info.java</code> æ–‡ä»¶ï¼š</p> 
<pre><code>module bookmanagement.core {
    // éœ€è¦çš„æ¨¡å—
    requires bookmanagement.data;
    // æš´éœ²çš„æ¨¡å—
    exports com.example.bookmanagement.core;
}
</code></pre> 
<p>åœ¨è¿™ä¸ªæ–‡ä»¶ä¸­ï¼Œæˆ‘ä»¬å£°æ˜äº† <code>bookmanagement.core</code> æ¨¡å—çš„åç§°ï¼Œå¹¶ä¸”æŒ‡å®šäº†å®ƒä¾èµ–äº <code>bookmanagement.data</code> æ¨¡å—ã€‚æˆ‘ä»¬è¿˜é€šè¿‡ <code>exports</code> å…³é”®å­—æ˜ç¡®å£°æ˜äº† <code>com.example.bookmanagement.core</code> åŒ…å¯¹å¤–çš„å…¬å…± APIã€‚ æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬æ¥çœ‹ä¸€ä¸‹ <code>bookmanagement.ui</code> æ¨¡å—çš„ <code>module-info.java</code> æ–‡ä»¶ï¼š</p> 
<pre><code>module bookmanagement.ui {
    requires bookmanagement.core;
    exports com.example.bookmanagement.ui;
    // ä½¿ç”¨é‚£ä¸ªæ¥å£
    uses com.example.bookmanagement.core.BookService;
}
</code></pre> 
<p>åœ¨è¿™ä¸ªæ–‡ä»¶ä¸­ï¼Œæˆ‘ä»¬å£°æ˜äº† <code>bookmanagement.ui</code> æ¨¡å—çš„åç§°ï¼Œå¹¶ä¸”æŒ‡å®šäº†å®ƒä¾èµ–äº <code>bookmanagement.core</code> æ¨¡å—ã€‚æˆ‘ä»¬é€šè¿‡ <code>exports</code> å…³é”®å­—å£°æ˜äº† <code>com.example.bookmanagement.ui</code> åŒ…å¯¹å¤–çš„å…¬å…± APIï¼Œå¹¶ä¸”ä½¿ç”¨ <code>uses</code> å…³é”®å­—å£°æ˜äº†å®ƒä½¿ç”¨äº† <code>com.example.bookmanagement.core.BookService</code> æ¥å£ã€‚ æœ€åï¼Œæˆ‘ä»¬æ¥çœ‹ä¸€ä¸‹ <code>bookmanagement.data</code> æ¨¡å—çš„ <code>module-info.java</code> æ–‡ä»¶ï¼š</p> 
<pre><code>module bookmanagement.data {
    exports com.example.bookmanagement.data;
    provides com.example.bookmanagement.core.BookService
    with com.example.bookmanagement.data.DefaultBookService;
}
</code></pre> 
<p>åœ¨è¿™ä¸ªæ–‡ä»¶ä¸­ï¼Œæˆ‘ä»¬å£°æ˜äº† <code>bookmanagement.data</code> æ¨¡å—çš„åç§°ï¼Œå¹¶ä¸”é€šè¿‡ <code>exports</code> å…³é”®å­—å£°æ˜äº† <code>com.example.bookmanagement.data</code> åŒ…å¯¹å¤–çš„å…¬å…± APIã€‚æˆ‘ä»¬è¿˜ä½¿ç”¨ <code>provides</code> å…³é”®å­—å£°æ˜äº† <code>com.example.bookmanagement.core.BookService</code> æ¥å£çš„å®ç°ç±»ä¸º <code>com.example.bookmanagement.data.DefaultBookService</code>ã€‚ é€šè¿‡è¿™äº›æ¨¡å—å®šä¹‰æ–‡ä»¶ï¼Œæˆ‘ä»¬æ˜ç¡®äº†æ¯ä¸ªæ¨¡å—çš„åç§°ã€ä¾èµ–å…³ç³»å’Œå¯¹å¤–çš„å…¬å…± APIã€‚ç°åœ¨ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ JDK 9 æä¾›çš„å‘½ä»¤è¿›è¡Œç¼–è¯‘ã€æ‰“åŒ…å’Œè¿è¡Œã€‚ ä¾‹å¦‚ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤ç¼–è¯‘ <code>bookmanagement.core</code> æ¨¡å—ï¼š</p> 
<pre><code>javac -d out/bookmanagement.core src/bookmanagement.core/module-info.java src/bookmanagement.core/com/example/bookmanagement/core/*.java
</code></pre> 
<p>ç„¶åï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ <code>jar</code> å‘½ä»¤å°† <code>bookmanagement.core</code> æ¨¡å—æ‰“åŒ…ä¸ºä¸€ä¸ªæ¨¡å—åŒ– JAR æ–‡ä»¶ï¼š</p> 
<pre><code>jar --create --file=bookmanagement.core.jar --module-version=1.0 -C out/bookmanagement.core .
</code></pre> 
<p>ç±»ä¼¼åœ°ï¼Œæˆ‘ä»¬å¯ä»¥ç¼–è¯‘å’Œæ‰“åŒ… <code>bookmanagement.ui</code> å’Œ <code>bookmanagement.data</code> æ¨¡å—ã€‚ æœ€åï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ <code>java</code> å‘½ä»¤æ¥è¿è¡Œæˆ‘ä»¬çš„åº”ç”¨ç¨‹åºï¼ŒæŒ‡å®šæ¨¡å—è·¯å¾„å’Œä¸»æ¨¡å—ï¼š</p> 
<pre><code>java --module-path bookmanagement.core.jar;bookmanagement.ui.jar;bookmanagement.data.jar --module bookmanagement.ui/com.example.bookmanagement.ui.Main
</code></pre> 
<p>è¿™æ ·ï¼Œæˆ‘ä»¬å°±å¯ä»¥é€šè¿‡æ¨¡å—åŒ–ç³»ç»Ÿæ„å»ºå’Œè¿è¡Œæˆ‘ä»¬çš„å›¾ä¹¦ç®¡ç†åº”ç”¨ç¨‹åºã€‚æ¨¡å—åŒ–ç³»ç»Ÿå¸®åŠ©æˆ‘ä»¬ç®¡ç†æ¨¡å—ä¹‹é—´çš„ä¾èµ–å…³ç³»ï¼Œç¡®ä¿æ¨¡å—çš„å°è£…æ€§å’Œå¯¹å¤–å…¬å…± API çš„å¯æ§æ€§ã€‚å®ƒæä¾›äº†æ›´å¥½çš„å¯ç»´æŠ¤æ€§ã€å¯æ‰©å±•æ€§å’Œå®‰å…¨æ€§ã€‚</p> 
<h3><a id="22_JShell_798"></a>2.2 JShell</h3> 
<p>JDK 9 å¼•å…¥äº†ä¸€ä¸ªåä¸º jshell çš„äº¤äº’å¼å‘½ä»¤è¡Œå·¥å…·ï¼Œå®ƒæä¾›äº†ä¸€ä¸ªæ–¹ä¾¿çš„æ–¹å¼æ¥è¿›è¡Œ Java ä»£ç çš„å®æ—¶äº¤äº’å¼æ¢ç´¢å’Œå®éªŒã€‚jshell å…è®¸æ‚¨åœ¨ä¸éœ€è¦ç¼–å†™å®Œæ•´çš„ Java ç±»æˆ–åº”ç”¨ç¨‹åºçš„æƒ…å†µä¸‹ï¼Œç›´æ¥åœ¨å‘½ä»¤è¡Œä¸­ç¼–å†™å’Œæ‰§è¡Œä»£ç ç‰‡æ®µã€‚ ä»¥ä¸‹æ˜¯ä¸€äº›å…³é”®ç‰¹æ€§å’Œç”¨æ³•è¯´æ˜ï¼š</p> 
<ol start="0"><li>äº¤äº’å¼ç¼–ç¨‹ï¼šjshell æä¾›äº†ä¸€ä¸ªäº¤äº’å¼çš„å‘½ä»¤è¡Œç¯å¢ƒï¼Œæ‚¨å¯ä»¥ç›´æ¥åœ¨å‘½ä»¤è¡Œä¸­è¾“å…¥å’Œæ‰§è¡Œ Java ä»£ç ã€‚æ‚¨å¯ä»¥é€è¡Œè¾“å…¥ä»£ç ç‰‡æ®µï¼Œå¹¶ç«‹å³æŸ¥çœ‹ç»“æœã€‚</li><li>å³æ—¶åé¦ˆï¼šæ¯æ¬¡æ‚¨è¾“å…¥ä¸€è¡Œä»£ç ï¼Œjshell éƒ½ä¼šç«‹å³æ‰§è¡Œå¹¶æ˜¾ç¤ºç»“æœã€‚è¿™æ ·å¯ä»¥å¿«é€ŸéªŒè¯ä»£ç å¹¶è·å¾—å®æ—¶åé¦ˆï¼Œæ— éœ€ç¼–è¯‘å’Œè¿è¡Œå®Œæ•´çš„ Java ç¨‹åºã€‚</li><li>è‡ªåŠ¨è¡¥å…¨ï¼šjshell æä¾›äº†è‡ªåŠ¨è¡¥å…¨åŠŸèƒ½ï¼Œå¯ä»¥å¸®åŠ©æ‚¨å¿«é€Ÿè¾“å…¥ä»£ç å’Œæ–¹æ³•åã€‚æŒ‰ä¸‹ Tab é”®å¯ä»¥è‡ªåŠ¨è¡¥å…¨å‘½ä»¤ã€ç±»ã€æ–¹æ³•ç­‰ã€‚</li><li>å†å²è®°å½•ï¼šjshell ä¼šè®°å½•æ‚¨åœ¨äº¤äº’å¼ä¼šè¯ä¸­è¾“å…¥çš„ä»£ç ï¼Œå¹¶å…è®¸æ‚¨åœ¨ä»¥åçš„ä¼šè¯ä¸­æ£€ç´¢å’Œé‡å¤ä½¿ç”¨ä¹‹å‰çš„ä»£ç ã€‚</li><li>å¼‚å¸¸å¤„ç†ï¼šjshell å…·æœ‰å†…ç½®çš„å¼‚å¸¸å¤„ç†æœºåˆ¶ï¼Œå¯ä»¥æ•è·å¹¶æ˜¾ç¤ºä»£ç ä¸­çš„å¼‚å¸¸ã€‚å®ƒä¼šæä¾›æœ‰å…³å¼‚å¸¸çš„è¯¦ç»†ä¿¡æ¯ï¼Œä»¥å¸®åŠ©æ‚¨è°ƒè¯•å’Œä¿®å¤é—®é¢˜ã€‚</li><li>å®šä¹‰å˜é‡å’Œæ–¹æ³•ï¼šæ‚¨å¯ä»¥åœ¨ jshell ä¸­å®šä¹‰å˜é‡å’Œæ–¹æ³•ï¼Œå¹¶åœ¨åç»­ä»£ç ç‰‡æ®µä¸­ä½¿ç”¨å®ƒä»¬ã€‚è¿™ä½¿å¾—æ‚¨å¯ä»¥é€æ­¥æ„å»ºå¤æ‚çš„é€»è¾‘å’ŒåŠŸèƒ½ã€‚</li><li>å¤šè¡Œè¾“å…¥ï¼šjshell æ”¯æŒå¤šè¡Œè¾“å…¥ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨æ¢è¡Œç¬¦ï¼ˆ``ï¼‰å°†ä¸€æ®µä»£ç åˆ†æˆå¤šè¡Œã€‚</li></ol> 
<p>è¦å¯åŠ¨ jshellï¼Œæ‚¨å¯ä»¥åœ¨å‘½ä»¤è¡Œä¸­è¾“å…¥ <code>jshell</code> å‘½ä»¤ã€‚ç„¶åï¼Œæ‚¨å¯ä»¥å¼€å§‹è¾“å…¥ Java ä»£ç å¹¶ç«‹å³æŸ¥çœ‹ç»“æœã€‚ä»¥ä¸‹æ˜¯ä¸€ä¸ªç®€å•çš„ç¤ºä¾‹ä¼šè¯ï¼š</p> 
<pre><code>$ jshell
|  Welcome to JShell -- Version 9
|  For an introduction type: /help intro

jshell&gt; int x = 10;
x ==&gt; 10

jshell&gt; int y = 20;
y ==&gt; 20

jshell&gt; int sum = x + y;
sum ==&gt; 30

jshell&gt; System.out.println("The sum is: " + sum);
The sum is: 30
</code></pre> 
<p>åœ¨è¿™ä¸ªç¤ºä¾‹ä¸­ï¼Œæˆ‘ä»¬å®šä¹‰äº†ä¸¤ä¸ªå˜é‡ <code>x</code> å’Œ <code>y</code>ï¼Œå¹¶è®¡ç®—å®ƒä»¬çš„å’Œã€‚ç„¶åï¼Œæˆ‘ä»¬ä½¿ç”¨ <code>System.out.println</code> æ–¹æ³•æ‰“å°ç»“æœï¼Œjshell å¯¹äºå¿«é€Ÿæµ‹è¯•ä»£ç ç‰‡æ®µã€å°è¯•æ–°åŠŸèƒ½æˆ–è¿›è¡Œæ•™å­¦å’Œæ¼”ç¤ºéå¸¸æœ‰ç”¨ï¼Œå®ƒæä¾›äº†ä¸€ä¸ªè½»é‡çº§ä¸”ä¾¿æ·çš„æ–¹å¼æ¥è¿›è¡Œ Java ä»£ç çš„äº¤äº’å¼æ¢ç´¢å’ŒéªŒè¯ã€‚</p> 
<h3><a id="23__Javadoc_832"></a>2.3 æ”¹è¿› Javadoc</h3> 
<p>Javadoc å·¥å…·å¯ä»¥ç”Ÿæˆ Java æ–‡æ¡£ï¼Œ Java 9 çš„ javadoc çš„è¾“å‡ºç°åœ¨ç¬¦åˆå…¼å®¹ HTML5 æ ‡å‡†ã€‚</p> 
<h3><a id="24_JAR_836"></a>2.4 å¤šç‰ˆæœ¬å…¼å®¹JAR</h3> 
<p>å¤šç‰ˆæœ¬å…¼å®¹ JAR æ˜¯ JDK 9 ä¸­å¼•å…¥çš„ä¸€ä¸ªåŠŸèƒ½ï¼Œå®ƒå…è®¸æ‚¨åˆ›å»ºä»…åœ¨ç‰¹å®šç‰ˆæœ¬çš„ Java ç¯å¢ƒä¸­è¿è¡Œçš„åº“ç¨‹åºï¼Œå¹¶é€šè¿‡ä½¿ç”¨ <code>--release</code> å‚æ•°æ¥æŒ‡å®šç¼–è¯‘ç‰ˆæœ¬ã€‚ åœ¨ JDK 9 ä¹‹å‰ï¼Œä½¿ç”¨æ—§ç‰ˆæœ¬çš„ JDK ç¼–è¯‘çš„ JAR æ–‡ä»¶åœ¨è¾ƒæ–°çš„ Java ç¯å¢ƒä¸­å¯èƒ½ä¼šé‡åˆ°å…¼å®¹æ€§é—®é¢˜ã€‚é€šè¿‡å¤šç‰ˆæœ¬å…¼å®¹ JARï¼Œæ‚¨å¯ä»¥ä½¿ç”¨è¾ƒæ–°çš„ JDK ç¼–è¯‘æ‚¨çš„åº“ç¨‹åºï¼Œå¹¶æŒ‡å®šå…¼å®¹çš„ç›®æ ‡ Java ç‰ˆæœ¬ï¼Œä»¥ç¡®ä¿åœ¨è¯¥ç‰ˆæœ¬åŠæ›´é«˜ç‰ˆæœ¬çš„ Java ç¯å¢ƒä¸­è¿è¡Œã€‚ ä»¥ä¸‹æ˜¯ä½¿ç”¨ <code>--release</code> å‚æ•°åˆ›å»ºå¤šç‰ˆæœ¬å…¼å®¹ JAR çš„æ­¥éª¤ï¼š</p> 
<ol start="0"><li>ç¼–å†™æ‚¨çš„åº“ç¨‹åºä»£ç ï¼Œå¹¶ä½¿ç”¨é€‚å½“çš„ JDK ç‰ˆæœ¬è¿›è¡Œç¼–è¯‘ã€‚å‡è®¾æ‚¨æ­£åœ¨ä½¿ç”¨ JDK 11 ç¼–è¯‘æ‚¨çš„åº“ç¨‹åºã€‚</li><li>ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤åˆ›å»ºå¤šç‰ˆæœ¬å…¼å®¹ JAR æ–‡ä»¶ï¼š</li></ol> 
<pre><code>javac --release &lt;target-version&gt; -d &lt;output-directory&gt; &lt;source-files&gt;
</code></pre> 
<p>å…¶ä¸­ï¼š</p> 
<ul><li><code>&lt;target-version&gt;</code> æ˜¯æ‚¨å¸Œæœ›å…¼å®¹çš„ç›®æ ‡ Java ç‰ˆæœ¬ã€‚ä¾‹å¦‚ï¼Œå¦‚æœæ‚¨å¸Œæœ›å…¼å®¹ Java 8ï¼Œå¯ä»¥å°† <code>&lt;target-version&gt;</code> è®¾ç½®ä¸º <code>8</code>ã€‚</li><li><code>&lt;output-directory&gt;</code> æ˜¯è¾“å‡ºç›®å½•ï¼Œç”¨äºå­˜æ”¾ç¼–è¯‘ç”Ÿæˆçš„ç±»æ–‡ä»¶ã€‚</li><li><code>&lt;source-files&gt;</code> æ˜¯æ‚¨çš„æºä»£ç æ–‡ä»¶æˆ–æºä»£ç ç›®å½•ã€‚</li></ul> 
<p>ä¾‹å¦‚ï¼Œè¦åˆ›å»ºä¸€ä¸ªå…¼å®¹ Java 8 çš„ JAR æ–‡ä»¶ï¼Œæ‚¨å¯ä»¥è¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼š</p> 
<pre><code>javac --release 8 -d output mylibrary/*.java

</code></pre> 
<p>è¿™å°†ä½¿ç”¨ JDK 11 ç¼–è¯‘æ‚¨çš„åº“ç¨‹åºï¼Œå¹¶ç”Ÿæˆä¸ Java 8 å…¼å®¹çš„ç±»æ–‡ä»¶ã€‚</p> 
<ol start="3"><li>ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤åˆ›å»º JAR æ–‡ä»¶ï¼š</li></ol> 
<p>å…¶ä¸­ï¼š</p> 
<ul><li><code>&lt;jar-file&gt;</code> æ˜¯è¦åˆ›å»ºçš„ JAR æ–‡ä»¶çš„åç§°ã€‚</li><li><code>&lt;input-directory&gt;</code> æ˜¯åŒ…å«ç¼–è¯‘ç”Ÿæˆçš„ç±»æ–‡ä»¶çš„ç›®å½•ã€‚</li></ul> 
<p>ä¾‹å¦‚ï¼Œè¦åˆ›å»ºåä¸º <code>mylibrary.jar</code> çš„ JAR æ–‡ä»¶ï¼Œæ‚¨å¯ä»¥è¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼š</p> 
<pre><code>jar --create --file mylibrary.jar -C output .
</code></pre> 
<p>è¿™å°†åˆ›å»ºä¸€ä¸ªåŒ…å«ç¼–è¯‘ç”Ÿæˆçš„ç±»æ–‡ä»¶çš„ JAR æ–‡ä»¶ï¼Œç°åœ¨ï¼Œæ‚¨å¯ä»¥å°†ç”Ÿæˆçš„å¤šç‰ˆæœ¬å…¼å®¹ JAR æ–‡ä»¶æä¾›ç»™å…¶ä»–å¼€å‘äººå‘˜ï¼Œä»¥ä¾¿ä»–ä»¬å¯ä»¥åœ¨ç‰¹å®šçš„ Java ç¯å¢ƒä¸­ä½¿ç”¨æ‚¨çš„åº“ç¨‹åºã€‚ éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œä½¿ç”¨å¤šç‰ˆæœ¬å…¼å®¹ JAR å¹¶ä¸ä¼šè‡ªåŠ¨æä¾›å¯¹è¾ƒæ–° Java ç‰ˆæœ¬çš„æ–°åŠŸèƒ½å’Œæ”¹è¿›çš„æ”¯æŒã€‚å®ƒä»…ç¡®ä¿æ‚¨çš„åº“ç¨‹åºå¯ä»¥åœ¨æŒ‡å®šçš„ç›®æ ‡ Java ç‰ˆæœ¬åŠæ›´é«˜ç‰ˆæœ¬çš„ç¯å¢ƒä¸­è¿è¡Œï¼Œä½†ä¸ä¼šåˆ©ç”¨è¾ƒæ–°ç‰ˆæœ¬çš„è¯­è¨€ç‰¹æ€§ã€‚å› æ­¤ï¼Œæ‚¨éœ€è¦æ ¹æ®æ‚¨çš„ç›®æ ‡ Java ç‰ˆæœ¬çš„è¦æ±‚è¿›è¡Œç›¸åº”çš„ç¼–ç å’ŒåŠŸèƒ½é€‰æ‹©ã€‚</p> 
<h3><a id="25__877"></a>2.5 é›†åˆå·¥å‚æ–¹æ³•</h3> 
<p>åœ¨ Java 9 ä¸­ï¼Œä¸ºé›†åˆæ¡†æ¶å¼•å…¥äº†ä¸€ç»„æ–°çš„å·¥å‚æ–¹æ³•ï¼Œä½¿åˆ›å»ºå’Œåˆå§‹åŒ–é›†åˆå¯¹è±¡æ›´åŠ ç®€æ´å’Œæ–¹ä¾¿ã€‚è¿™äº›å·¥å‚æ–¹æ³•å±äº <code>java.util</code> åŒ…ä¸­çš„ <code>List</code>ã€<code>Set</code> å’Œ <code>Map</code> æ¥å£ï¼Œç”¨äºåˆ›å»ºä¸å¯å˜çš„é›†åˆå¯¹è±¡ã€‚ ä¸‹é¢æ˜¯ Java 9 ä¸­å¼•å…¥çš„é›†åˆå·¥å‚æ–¹æ³•çš„ç¤ºä¾‹ç”¨æ³•ï¼š</p> 
<ol start="0"><li>List.of() æ–¹æ³•ç”¨äºåˆ›å»ºä¸å¯å˜çš„åˆ—è¡¨å¯¹è±¡ã€‚ä¾‹å¦‚ï¼š</li></ol> 
<pre><code>List&lt;String&gt; fruits = List.of("Apple", "Banana", "Orange");
</code></pre> 
<p>åœ¨è¿™ä¸ªç¤ºä¾‹ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨ <code>List.of()</code> æ–¹æ³•åˆ›å»ºä¸€ä¸ªåŒ…å«ä¸‰ä¸ªå…ƒç´ çš„ä¸å¯å˜åˆ—è¡¨ã€‚</p> 
<ol start="2"><li>Set.of() æ–¹æ³•ç”¨äºåˆ›å»ºä¸å¯å˜çš„é›†åˆå¯¹è±¡ã€‚ä¾‹å¦‚ï¼š</li></ol> 
<pre><code>Set&lt;Integer&gt; numbers = Set.of(1, 2, 3, 4, 5);
</code></pre> 
<p>åœ¨è¿™ä¸ªç¤ºä¾‹ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨ <code>Set.of()</code> æ–¹æ³•åˆ›å»ºä¸€ä¸ªåŒ…å«äº”ä¸ªå…ƒç´ çš„ä¸å¯å˜é›†åˆã€‚</p> 
<ol start="3"><li>Map.of() æ–¹æ³•ç”¨äºåˆ›å»ºä¸å¯å˜çš„é”®å€¼å¯¹æ˜ å°„ã€‚ä¾‹å¦‚ï¼š</li></ol> 
<pre><code>Map&lt;String, Integer&gt; studentScores = Map.of("Alice", 95, "Bob", 80, "Charlie", 90);
</code></pre> 
<p>åœ¨è¿™ä¸ªç¤ºä¾‹ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨ <code>Map.of()</code> æ–¹æ³•åˆ›å»ºä¸€ä¸ªåŒ…å«ä¸‰å¯¹é”®å€¼å¯¹çš„ä¸å¯å˜æ˜ å°„ã€‚ è¿™äº›é›†åˆå·¥å‚æ–¹æ³•çš„ç‰¹ç‚¹æ˜¯å®ƒä»¬åˆ›å»ºçš„é›†åˆå¯¹è±¡éƒ½æ˜¯ä¸å¯å˜çš„ï¼Œå³æ— æ³•ä¿®æ”¹é›†åˆä¸­çš„å…ƒç´ ã€‚è¿™ç§ä¸å¯å˜æ€§æœ‰åŠ©äºç¼–å†™æ›´åŠ å¥å£®å’Œå¯é çš„ä»£ç ï¼Œå¹¶æä¾›æ›´å¥½çš„çº¿ç¨‹å®‰å…¨æ€§ã€‚ éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œè¿™äº›é›†åˆå·¥å‚æ–¹æ³•åˆ›å»ºçš„é›†åˆå¯¹è±¡æ˜¯ä¸å¯å˜çš„ï¼Œå› æ­¤ä¸èƒ½å¯¹å…¶è¿›è¡Œæ·»åŠ ã€åˆ é™¤æˆ–ä¿®æ”¹å…ƒç´ çš„æ“ä½œã€‚å¦‚æœéœ€è¦å¯¹é›†åˆè¿›è¡Œä¿®æ”¹æ“ä½œï¼Œä»ç„¶å¯ä»¥ä½¿ç”¨ä¼ ç»Ÿçš„æ„é€ å‡½æ•°æˆ–å…¶ä»–æ–¹æ³•æ¥åˆ›å»ºå¯å˜çš„é›†åˆå¯¹è±¡ã€‚ å¦å¤–ï¼ŒJava 9 ä¸­çš„é›†åˆå·¥å‚æ–¹æ³•è¿˜æä¾›äº†ä¸€ç³»åˆ—çš„é‡è½½æ–¹æ³•ï¼Œç”¨äºå¤„ç†ä¸åŒæ•°é‡çš„å…ƒç´ ã€‚æ‚¨å¯ä»¥æ ¹æ®è‡ªå·±çš„éœ€æ±‚é€‰æ‹©é€‚åˆçš„æ–¹æ³•æ¥åˆ›å»ºé›†åˆå¯¹è±¡ã€‚</p> 
<h3><a id="26__905"></a>2.6 ç§æœ‰æ¥å£æ–¹æ³•</h3> 
<p>Java 9 å¼•å…¥äº†ä¸€é¡¹æ–°çš„ç‰¹æ€§ï¼Œå³ç§æœ‰æ¥å£æ–¹æ³•ã€‚è¿™æ„å‘³ç€æ¥å£å¯ä»¥åŒ…å«ç§æœ‰çš„æ–¹æ³•å®ç°ï¼Œè¿™äº›æ–¹æ³•åªèƒ½åœ¨æ¥å£å†…éƒ¨è¢«è°ƒç”¨ï¼Œå¯¹äºæ¥å£çš„å®ç°ç±»å’Œå…¶ä»–ç±»æ˜¯ä¸å¯è§çš„ã€‚ ç§æœ‰æ¥å£æ–¹æ³•å¯ä»¥å¸®åŠ©è§£å†³ä»¥ä¸‹é—®é¢˜ï¼š</p> 
<ol start="0"><li>ä»£ç é‡ç”¨ï¼šé€šè¿‡åœ¨æ¥å£ä¸­å®šä¹‰ç§æœ‰æ–¹æ³•ï¼Œå¯ä»¥åœ¨å¤šä¸ªé»˜è®¤æ–¹æ³•ä¹‹é—´å…±äº«ä»£ç é€»è¾‘ï¼Œé¿å…ä»£ç é‡å¤ã€‚</li><li>ä»£ç ç»„ç»‡ï¼šç§æœ‰æ¥å£æ–¹æ³•å¯ä»¥å°†å¤æ‚çš„é€»è¾‘åˆ†è§£ä¸ºæ›´å°çš„ã€å¯é‡ç”¨çš„æ–¹æ³•ï¼Œæé«˜ä»£ç çš„å¯è¯»æ€§å’Œç»´æŠ¤æ€§ã€‚</li></ol> 
<p>ä¸‹é¢æ˜¯ä¸€ä¸ªç¤ºä¾‹ï¼Œæ¼”ç¤ºäº†å¦‚ä½•åœ¨æ¥å£ä¸­å®šä¹‰å’Œä½¿ç”¨ç§æœ‰æ¥å£æ–¹æ³•ï¼š</p> 
<pre><code>public interface Calculator {
    // å…¬å…±çš„é»˜è®¤æ–¹æ³•
    int add(int a, int b);

    default int subtract(int a, int b) {
        return add(a, negate(b));
    }

    default int multiply(int a, int b) {
        return a * b;
    }

    // ç§æœ‰æ¥å£æ–¹æ³•
    private int negate(int number) {
        return -number;
    }
}
</code></pre> 
<p>åœ¨ä¸Šé¢çš„ç¤ºä¾‹ä¸­ï¼Œ<code>Calculator</code> æ¥å£å®šä¹‰äº†ä¸‰ä¸ªé»˜è®¤æ–¹æ³• <code>add()</code>ã€<code>subtract()</code> å’Œ <code>multiply()</code>ï¼Œä»¥åŠä¸€ä¸ªç§æœ‰æ¥å£æ–¹æ³• <code>negate()</code>ã€‚<code>subtract()</code> æ–¹æ³•å†…éƒ¨è°ƒç”¨äº† <code>add()</code> å’Œ <code>negate()</code> æ–¹æ³•ï¼Œè€Œ <code>negate()</code> æ–¹æ³•æ˜¯ä¸€ä¸ªç§æœ‰æ¥å£æ–¹æ³•ï¼Œåªèƒ½åœ¨æ¥å£å†…éƒ¨è¢«è°ƒç”¨ã€‚ é€šè¿‡ç§æœ‰æ¥å£æ–¹æ³•ï¼Œæˆ‘ä»¬å¯ä»¥å°† <code>negate()</code> æ–¹æ³•ä½œä¸ºè¾…åŠ©æ–¹æ³•æ¥å…±äº«é€»è¾‘ï¼Œå¹¶åœ¨å¤šä¸ªé»˜è®¤æ–¹æ³•ä¸­é‡å¤ä½¿ç”¨ã€‚ éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œç§æœ‰æ¥å£æ–¹æ³•ä¸èƒ½è¢«å®ç°æ¥å£çš„ç±»æˆ–å…¶ä»–ç±»ç›´æ¥è°ƒç”¨ã€‚å®ƒä»¬ä»…ç”¨äºåœ¨æ¥å£å†…éƒ¨å…±äº«ä»£ç é€»è¾‘ï¼Œæä¾›æ›´å¥½çš„ä»£ç ç»„ç»‡å’Œä»£ç é‡ç”¨ã€‚</p> 
<h3><a id="27_API_936"></a>2.7 è¯¥è¿›çš„è¿›ç¨‹API</h3> 
<p>åœ¨ Java 9 ä¸­ï¼Œå¯¹è¿›ç¨‹ API è¿›è¡Œäº†ä¸€äº›æ”¹è¿›ï¼Œä»¥æä¾›æ›´å¥½çš„æ§åˆ¶å’Œç®¡ç†åº”ç”¨ç¨‹åºçš„è¿›ç¨‹ã€‚è¿™äº›æ”¹è¿›ä¸»è¦é›†ä¸­åœ¨ <code>java.lang.Process</code> ç±»å’Œç›¸å…³ç±»çš„å¢å¼ºã€‚ ä»¥ä¸‹æ˜¯ Java 9 ä¸­è¿›ç¨‹ API çš„ä¸€äº›æ”¹è¿›ï¼š</p> 
<ol start="0"><li><code>ProcessHandle</code> ç±»ï¼šå¼•å…¥äº†ä¸€ä¸ªæ–°çš„ <code>ProcessHandle</code> ç±»ï¼Œå®ƒä»£è¡¨ä¸€ä¸ªæœ¬åœ°æ“ä½œç³»ç»Ÿè¿›ç¨‹çš„å¥æŸ„ã€‚é€šè¿‡ <code>ProcessHandle</code> ç±»ï¼Œæ‚¨å¯ä»¥è·å–è¿›ç¨‹çš„ PIDï¼ˆè¿›ç¨‹æ ‡è¯†ç¬¦ï¼‰ã€çˆ¶è¿›ç¨‹çš„å¥æŸ„ã€å­è¿›ç¨‹çš„å¥æŸ„ä»¥åŠå…¶ä»–è¿›ç¨‹ç›¸å…³çš„ä¿¡æ¯ã€‚</li><li><code>ProcessHandle.Info</code> ç±»ï¼š<code>ProcessHandle</code> ç±»ä¸­çš„ <code>info()</code> æ–¹æ³•è¿”å›ä¸€ä¸ª <code>ProcessHandle.Info</code> å¯¹è±¡ï¼Œå®ƒæä¾›äº†æœ‰å…³è¿›ç¨‹çš„è¯¦ç»†ä¿¡æ¯ï¼Œå¦‚è¿›ç¨‹çš„å‘½ä»¤è¡Œå‚æ•°ã€å¯åŠ¨æ—¶é—´ã€ç´¯è®¡ CPU æ—¶é—´ç­‰ã€‚</li><li><code>ProcessBuilder</code> ç±»çš„æ”¹è¿›ï¼š<code>ProcessBuilder</code> ç±»ç”¨äºåˆ›å»ºå’Œå¯åŠ¨æ–°çš„è¿›ç¨‹ã€‚åœ¨ Java 9 ä¸­ï¼Œ<code>ProcessBuilder</code> ç±»æ·»åŠ äº†ä¸€äº›æ–°çš„æ–¹æ³•ï¼Œä¾‹å¦‚ <code>inheritIO()</code> æ–¹æ³•ï¼Œå®ƒå…è®¸å­è¿›ç¨‹ç»§æ‰¿çˆ¶è¿›ç¨‹çš„æ ‡å‡†è¾“å…¥ã€è¾“å‡ºå’Œé”™è¯¯æµã€‚è¿˜æ·»åŠ äº† <code>redirectInput()ã€redirectOutput() å’Œ redirectError()</code> æ–¹æ³•ï¼Œç”¨äºé‡å®šå‘å­è¿›ç¨‹çš„æ ‡å‡†è¾“å…¥ã€è¾“å‡ºå’Œé”™è¯¯æµã€‚</li><li><code>destroyForcibly()</code> æ–¹æ³•ï¼š<code>Process</code> ç±»ä¸­çš„ <code>destroyForcibly()</code> æ–¹æ³•ç”¨äºå¼ºåˆ¶ç»ˆæ­¢è¿›ç¨‹ï¼Œæ— è®ºè¿›ç¨‹æ˜¯å¦å“åº”ã€‚è¿™ä¸ <code>destroy()</code> æ–¹æ³•çš„åŒºåˆ«åœ¨äºï¼Œ<code>destroy()</code> æ–¹æ³•ä¼šå°è¯•ä¼˜é›…åœ°ç»ˆæ­¢è¿›ç¨‹ï¼Œè€Œ <code>destroyForcibly()</code> æ–¹æ³•ä¼šå¼ºåˆ¶ç»ˆæ­¢è¿›ç¨‹ã€‚</li></ol> 
<p>è¿™äº›æ”¹è¿›ä½¿å¾—åœ¨ Java ä¸­ç®¡ç†å’Œæ§åˆ¶è¿›ç¨‹æ›´åŠ çµæ´»å’Œæ–¹ä¾¿ã€‚æ‚¨å¯ä»¥è·å–å’Œæ“ä½œæ­£åœ¨è¿è¡Œçš„è¿›ç¨‹çš„ä¿¡æ¯ï¼Œè·å–è¿›ç¨‹çš„ PIDï¼Œä»¥åŠæ›´å¥½åœ°æ§åˆ¶å­è¿›ç¨‹çš„è¾“å…¥ã€è¾“å‡ºå’Œé”™è¯¯æµã€‚è¿™äº›æ”¹è¿›ä¸ºè¿›ç¨‹ç®¡ç†å’Œç›‘æ§æä¾›äº†æ›´å¤šçš„åŠŸèƒ½å’Œé€‰é¡¹ã€‚ è¯·æ³¨æ„ï¼ŒJava 9 ä¸­çš„è¿›ç¨‹ API çš„æ”¹è¿›ä¸»è¦é›†ä¸­åœ¨è¿›ç¨‹ç®¡ç†æ–¹é¢ï¼Œå¹¶æ²¡æœ‰å¼•å…¥ç±»ä¼¼äºè¿›ç¨‹é—´é€šä¿¡çš„æ–°åŠŸèƒ½ã€‚å¦‚æœæ‚¨éœ€è¦è¿›è¡Œè¿›ç¨‹é—´é€šä¿¡ï¼Œå¯ä»¥ä½¿ç”¨å…¶ä»– Java å¹³å°æä¾›çš„åº“ï¼Œå¦‚ <code>java.nio.channels</code> æˆ–ç¬¬ä¸‰æ–¹åº“ã€‚</p> 
<pre><code>/**
 * @description:
 * @author: shu
 * @createDate: 2023/7/1 11:46
 * @version: 1.0
 */
public class ProcessInfoDemo {
    public static void main(String[] args) {
        // è·å–å½“å‰è¿›ç¨‹çš„ ProcessHandle
        ProcessHandle currentProcess = ProcessHandle.current();

        // è·å–å½“å‰è¿›ç¨‹çš„PID
        long pid = currentProcess.pid();
        System.out.println("å½“å‰è¿›ç¨‹çš„PIDï¼š" + pid);

        // è·å–å½“å‰è¿›ç¨‹çš„ä¿¡æ¯
        ProcessHandle.Info processInfo = currentProcess.info();
        System.out.println("å‘½ä»¤è¡Œï¼š" + processInfo.command().orElse(""));
        System.out.println("å¯åŠ¨æ—¶é—´ï¼š" + processInfo.startInstant().orElse(null));
        System.out.println("ç´¯è®¡CPUæ—¶é—´ï¼š" + processInfo.totalCpuDuration().orElse(null));
    }

}
</code></pre> 
<p><img src="https://i-blog.csdnimg.cn/blog_migrate/9ad070d1a78ffe4e992e05262fdbef23.png" alt="image.png"></p> 
<h3><a id="28_Stream_API_975"></a>2.8 æ”¹è¿›çš„Stream API</h3> 
<p>åœ¨Java 9ä¸­ï¼ŒStream APIå¾—åˆ°äº†ä¸€äº›æ”¹è¿›ï¼Œä»¥æä¾›æ›´å¤šçš„æ“ä½œå’Œå¢å¼ºåŠŸèƒ½ã€‚ä¸‹é¢æ˜¯Java 9ä¸­æ”¹è¿›çš„ä¸€äº›Stream APIåŠŸèƒ½ï¼š</p> 
<ol start="0"><li><code>takeWhile()</code> å’Œ <code>dropWhile()</code> æ–¹æ³•ï¼šå¼•å…¥äº† <code>takeWhile()</code> å’Œ <code>dropWhile()</code> ä¸¤ä¸ªæ–°çš„Streamæ–¹æ³•ã€‚<code>takeWhile()</code> æ–¹æ³•è¿”å›ä»æµçš„å¼€å¤´å¼€å§‹çš„è¿ç»­å…ƒç´ ï¼Œç›´åˆ°é‡åˆ°ç¬¬ä¸€ä¸ªä¸æ»¡è¶³ç»™å®šæ¡ä»¶çš„å…ƒç´ ã€‚<code>dropWhile()</code> æ–¹æ³•è¿”å›ä»æµçš„å¼€å¤´å¼€å§‹è·³è¿‡æ»¡è¶³ç»™å®šæ¡ä»¶çš„è¿ç»­å…ƒç´ ï¼Œç›´åˆ°é‡åˆ°ç¬¬ä¸€ä¸ªä¸æ»¡è¶³æ¡ä»¶çš„å…ƒç´ ã€‚</li><li><code>ofNullable()</code> æ–¹æ³•ï¼šStreamæ¥å£ä¸­æ–°å¢äº†ä¸€ä¸ª <code>ofNullable()</code> é™æ€æ–¹æ³•ï¼Œå®ƒå…è®¸åˆ›å»ºä¸€ä¸ªåŒ…å«ä¸€ä¸ªéç©ºå…ƒç´ æˆ–ç©ºçš„Streamã€‚å¦‚æœæä¾›çš„å…ƒç´ æ˜¯éç©ºçš„ï¼Œå°†åˆ›å»ºä¸€ä¸ªåŒ…å«è¯¥å…ƒç´ çš„Streamï¼›å¦‚æœæä¾›çš„å…ƒç´ ä¸ºç©ºï¼Œåˆ™åˆ›å»ºä¸€ä¸ªç©ºçš„Streamã€‚</li><li><code>iterate()</code> æ–¹æ³•çš„é‡è½½ï¼š<code>Stream.iterate()</code> æ–¹æ³•ç°åœ¨æ”¯æŒä¸€ä¸ªè°“è¯ï¼ˆPredicateï¼‰ä½œä¸ºç¬¬äºŒä¸ªå‚æ•°ã€‚è¿™æ ·ï¼Œæ‚¨å¯ä»¥å®šä¹‰åœ¨ç”Ÿæˆè¿­ä»£å…ƒç´ æ—¶åº”è¯¥ç»ˆæ­¢è¿­ä»£çš„æ¡ä»¶ã€‚</li><li><code>Stream</code> æ¥å£ä¸­çš„æ–°æ–¹æ³•ï¼š<code>Stream</code> æ¥å£ä¸­æ·»åŠ äº†ä¸€äº›æ–°çš„æ–¹æ³•ï¼Œå¦‚ <code>dropWhile()</code>ã€<code>takeWhile()</code>ã€<code>iterate()</code> çš„é‡è½½ç‰ˆæœ¬ï¼Œä»¥åŠ <code>forEachOrdered()</code> å’Œ <code>toArray()</code> æ–¹æ³•çš„é‡è½½ç‰ˆæœ¬ã€‚</li></ol> 
<p>è¿™äº›æ”¹è¿›ä½¿å¾—Stream APIæ›´åŠ çµæ´»å’ŒåŠŸèƒ½æ›´å¼ºå¤§ã€‚æ‚¨å¯ä»¥ä½¿ç”¨æ–°çš„æ–¹æ³•æ¥å¤„ç†æ›´å¤šçš„æµæ“ä½œåœºæ™¯ï¼Œä¾‹å¦‚æ ¹æ®æ¡ä»¶è·å–éƒ¨åˆ†å…ƒç´ ã€åˆ›å»ºåŒ…å«ç©ºå…ƒç´ çš„æµç­‰ã€‚ ä»¥ä¸‹æ˜¯ä¸€ä¸ªç¤ºä¾‹ï¼Œå±•ç¤ºäº†Java 9ä¸­æ”¹è¿›çš„Stream APIçš„ä¸€äº›ç”¨æ³•ï¼š</p> 
<pre><code>import java.util.List;
import java.util.stream.Collectors;
import java.util.stream.Stream;

/**
 * @description:
 * @author: shu
 * @createDate: 2023/7/1 11:52
 * @version: 1.0
 */
public class StreamApiDemo {
    public static void main(String[] args) {
        // takeWhile() æ–¹æ³•ç¤ºä¾‹
        List&lt;Integer&gt; numbers = Stream.of(1, 2, 3, 4, 5, 6)
                .takeWhile(n -&gt; n &lt; 4)
                .collect(Collectors.toList());
        System.out.println("takeWhile ç¤ºä¾‹ï¼š" + numbers); // è¾“å‡ºï¼š[1, 2, 3]

        // dropWhile() æ–¹æ³•ç¤ºä¾‹
        List&lt;Integer&gt; numbers2 = Stream.of(1, 2, 3, 4, 5, 6)
                .dropWhile(n -&gt; n &lt; 4)
                .collect(Collectors.toList());
        System.out.println("dropWhile ç¤ºä¾‹ï¼š" + numbers2); // è¾“å‡ºï¼š[4, 5, 6]

        // ofNullable() æ–¹æ³•ç¤ºä¾‹
        String name = null;
        List&lt;String&gt; names = Stream.ofNullable(name)
                .collect(Collectors.toList());
        System.out.println("ofNullable ç¤ºä¾‹ï¼š" + names); // è¾“å‡ºï¼š[]

        // iterate() æ–¹æ³•çš„é‡è½½ç¤ºä¾‹
        List&lt;Integer&gt; evenNumbers = Stream.iterate(0, n -&gt; n &lt; 10, n -&gt; n + 2)
                .collect(Collectors.toList());
        System.out.println("iterate é‡è½½ç¤ºä¾‹ï¼š" + evenNumbers); // è¾“å‡ºï¼š[0, 2, 4, 6, 8]

        //

        //Stream æ¥å£ä¸­çš„æ–°æ–¹æ³•ç¤ºä¾‹
        Stream.of("Java", "Python", "C++")
                .forEachOrdered(System.out::println); // è¾“å‡ºï¼šJava Python C++
    }
}
</code></pre> 
<p>è¿™ä¸ªç¤ºä¾‹å±•ç¤ºäº†å¦‚ä½•ä½¿ç”¨Java 9ä¸­æ”¹è¿›çš„Stream APIçš„ä¸€äº›æ–¹æ³•ï¼ŒåŒ…æ‹¬<code>takeWhile()</code>ã€<code>dropWhile()</code>ã€<code>ofNullable()</code>ã€<code>iterate()</code>å’Œ<code>forEachOrdered()</code>ç­‰ã€‚æ‚¨å¯ä»¥è¿è¡Œè¿™ä¸ªç¤ºä¾‹å¹¶è§‚å¯Ÿè¾“å‡ºç»“æœï¼Œä»¥ä¾¿æ›´å¥½åœ°ç†è§£è¿™äº›æ”¹è¿›çš„Stream APIåŠŸèƒ½ã€‚ <img src="https://i-blog.csdnimg.cn/blog_migrate/75bcd782402d366bc85c5653ecd6d212.png" alt="image.png"></p> 
<h3><a id="29__trywithresources_1033"></a>2.9 æ”¹è¿›çš„ try-with-resources</h3> 
<p>åœ¨Java 7ä¸­å¼•å…¥äº†<code>try-with-resources</code>è¯­å¥ï¼Œç”¨äºåœ¨ä»£ç å—ç»“æŸæ—¶è‡ªåŠ¨å…³é—­å®ç°<code>AutoCloseable</code>æ¥å£çš„èµ„æºã€‚Java 9å¯¹<code>try-with-resources</code>è¿›è¡Œäº†æ”¹è¿›ï¼Œä½¿å…¶æ›´åŠ ä¾¿åˆ©å’Œçµæ´»ã€‚ Java 9ä¸­æ”¹è¿›çš„<code>try-with-resources</code>è¯­å¥å…·æœ‰ä»¥ä¸‹ç‰¹ç‚¹ï¼š</p> 
<ol start="0"><li>æ”¯æŒèµ„æºçš„åŒ¿åå˜é‡ï¼šåœ¨Java 9ä¹‹å‰ï¼Œ<code>try-with-resources</code>è¯­å¥ä¸­çš„èµ„æºå¿…é¡»æ˜¯äº‹å…ˆå£°æ˜çš„å˜é‡ã€‚åœ¨Java 9ä¸­ï¼Œå¯ä»¥åœ¨<code>try</code>å…³é”®å­—ä¹‹åå£°æ˜èµ„æºçš„åŒ¿åå˜é‡ï¼Œå¹¶åœ¨<code>try</code>è¯­å¥å—ä¸­ä½¿ç”¨ã€‚</li><li>èµ„æºçš„æ•ˆç‡æ”¹è¿›ï¼šåœ¨Java 9ä¸­ï¼Œå¦‚æœèµ„æºå®ç°äº†<code>Closeable</code>æ¥å£ï¼Œç¼–è¯‘å™¨ä¼šç”Ÿæˆæ›´é«˜æ•ˆçš„å­—èŠ‚ç ï¼Œä»¥å‡å°‘å…³é—­èµ„æºçš„å¼€é”€ã€‚</li></ol> 
<p>ä¸‹é¢æ˜¯ä¸€ä¸ªç¤ºä¾‹ï¼Œæ¼”ç¤ºäº†Java 9ä¸­æ”¹è¿›çš„<code>try-with-resources</code>è¯­å¥çš„ç”¨æ³•ï¼š</p> 
<pre><code>import java.io.BufferedReader;
import java.io.FileReader;
import java.io.IOException;

/**
 * @description:
 * @author: shu
 * @createDate: 2023/7/1 16:04
 * @version: 1.0
 */
public class TryWithResourcesDemo {
    public static void main(String[] args) {
        try (BufferedReader reader = new BufferedReader(new FileReader("example.txt"))) {
            String line;
            while ((line = reader.readLine()) != null) {
                System.out.println(line);
            }
        } catch (IOException e) {
            e.printStackTrace();
        }
    }
}
</code></pre> 
<p>åœ¨è¿™ä¸ªç¤ºä¾‹ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨<code>try-with-resources</code>è¯­å¥æ¥è‡ªåŠ¨å…³é—­<code>BufferedReader</code>èµ„æºã€‚åœ¨<code>try</code>å…³é”®å­—ä¹‹åï¼Œæˆ‘ä»¬åˆ›å»ºäº†ä¸€ä¸ªåŒ¿åçš„<code>BufferedReader</code>å¯¹è±¡ï¼Œå¹¶å°†å…¶åŒ…è£…åœ¨<code>FileReader</code>ä¸­ã€‚åœ¨<code>try</code>è¯­å¥å—ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨<code>reader</code>å¯¹è±¡è¯»å–æ–‡ä»¶çš„å†…å®¹ã€‚ å½“ä»£ç å—ç»“æŸæ—¶ï¼Œæ— è®ºæ˜¯å¦å‘ç”Ÿå¼‚å¸¸ï¼Œ<code>reader</code>èµ„æºéƒ½ä¼šè‡ªåŠ¨å…³é—­ã€‚è¿™æ ·å¯ä»¥ç¡®ä¿èµ„æºçš„æ­£ç¡®é‡Šæ”¾ï¼Œè€Œæ— éœ€æ˜¾å¼è°ƒç”¨<code>close()</code>æ–¹æ³•ã€‚ éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œ<code>try-with-resources</code>è¯­å¥å¯ä»¥å¤„ç†å¤šä¸ªèµ„æºï¼Œåªéœ€å°†å®ƒä»¬ç”¨åˆ†å·åˆ†éš”å³å¯ã€‚æ‰€æœ‰çš„èµ„æºéƒ½ä¼šåœ¨ä»£ç å—ç»“æŸæ—¶è‡ªåŠ¨å…³é—­ï¼ŒæŒ‰ç…§èµ„æºçš„å£°æ˜é¡ºåºé€†åºå…³é—­ã€‚ é€šè¿‡ä½¿ç”¨Java 9ä¸­æ”¹è¿›çš„<code>try-with-resources</code>è¯­å¥ï¼Œæ‚¨å¯ä»¥æ›´æ–¹ä¾¿åœ°å¤„ç†èµ„æºçš„é‡Šæ”¾ï¼Œå¹¶ä½¿ä»£ç æ›´åŠ ç®€æ´å’Œæ˜“è¯»ã€‚</p> 
<h3><a id="210__Deprecated__1069"></a>2.10 æ”¹è¿›çš„ @Deprecated æ³¨è§£</h3> 
<p>åœ¨Java 9ä¸­ï¼Œ<code>@Deprecated</code>æ³¨è§£å¾—åˆ°äº†ä¸€äº›æ”¹è¿›ï¼Œä»¥æä¾›æ›´å¤šçš„æ³¨é‡ŠåŠŸèƒ½å’Œç²¾ç¡®çš„æè¿°ã€‚ä»¥ä¸‹æ˜¯Java 9ä¸­æ”¹è¿›çš„<code>@Deprecated</code>æ³¨è§£çš„ç‰¹ç‚¹ï¼š</p> 
<ol start="0"><li><code>forRemoval</code>å±æ€§ï¼š<code>@Deprecated</code>æ³¨è§£æ–°å¢äº†ä¸€ä¸ª<code>forRemoval</code>å±æ€§ï¼Œç”¨äºæŒ‡ç¤ºè¯¥å…ƒç´ æ˜¯å¦è¢«æ‰“ç®—ç”¨äºç§»é™¤ã€‚è®¾ç½®<code>forRemoval=true</code>è¡¨ç¤ºè¯¥å…ƒç´ å°†æ¥ä¼šè¢«ç§»é™¤ï¼Œè€Œè®¾ç½®<code>forRemoval=false</code>è¡¨ç¤ºè¯¥å…ƒç´ è¢«åºŸå¼ƒä½†å°†ä¿ç•™ã€‚</li><li><code>since</code>å±æ€§ï¼š<code>@Deprecated</code>æ³¨è§£ä¸­çš„<code>since</code>å±æ€§ç”¨äºæŒ‡å®šå…ƒç´ è¢«åºŸå¼ƒçš„ç‰ˆæœ¬ã€‚é€šè¿‡æŒ‡å®š<code>since</code>å±æ€§ï¼Œæ‚¨å¯ä»¥æ˜ç¡®è¯´æ˜ä»å“ªä¸ªç‰ˆæœ¬å¼€å§‹è¯¥å…ƒç´ è¢«åºŸå¼ƒã€‚</li><li>æ›´å¤šæ³¨é‡Šè¯´æ˜ï¼šJava 9ä¸º<code>@Deprecated</code>æ³¨è§£æ·»åŠ äº†æ›´å¤šçš„æ³¨é‡Šè¯´æ˜ï¼Œä½¿å¾—å¯ä»¥æä¾›æ›´è¯¦ç»†å’Œç²¾ç¡®çš„æè¿°ï¼Œä»¥ä¾¿å¼€å‘äººå‘˜äº†è§£ä¸ºä»€ä¹ˆè¯¥å…ƒç´ è¢«åºŸå¼ƒä»¥åŠæ¨èä½¿ç”¨çš„æ›¿ä»£æ–¹æ³•ã€‚</li></ol> 
<p>ä¸‹é¢æ˜¯ä¸€ä¸ªç¤ºä¾‹ï¼Œæ¼”ç¤ºäº†Java 9ä¸­æ”¹è¿›çš„<code>@Deprecated</code>æ³¨è§£çš„ç”¨æ³•ï¼š</p> 
<pre><code>public class DeprecatedExample {
    @Deprecated(since = "1.5", forRemoval = true)
    public void oldMethod() {
        // æ—§çš„æ–¹æ³•å®ç°
    }

    @Deprecated(since = "2.0", forRemoval = false)
    public void deprecatedMethod() {
        // åºŸå¼ƒçš„æ–¹æ³•å®ç°
    }

    public static void main(String[] args) {
        DeprecatedExample example = new DeprecatedExample();

        // è°ƒç”¨æ—§çš„æ–¹æ³•ï¼Œä¼šæ”¶åˆ°ç¼–è¯‘å™¨è­¦å‘Š
        example.oldMethod();

        // è°ƒç”¨åºŸå¼ƒçš„æ–¹æ³•ï¼Œä¸ä¼šæ”¶åˆ°ç¼–è¯‘å™¨è­¦å‘Š
        example.deprecatedMethod();
    }
}
</code></pre> 
<p>åœ¨è¿™ä¸ªç¤ºä¾‹ä¸­ï¼Œæˆ‘ä»¬å®šä¹‰äº†ä¸€ä¸ª<code>DeprecatedExample</code>ç±»ï¼Œå…¶ä¸­åŒ…å«äº†ä¸¤ä¸ªæ–¹æ³•ï¼š<code>oldMethod()</code>å’Œ<code>deprecatedMethod()</code>ã€‚æˆ‘ä»¬ä½¿ç”¨æ”¹è¿›çš„<code>@Deprecated</code>æ³¨è§£å¯¹è¿™ä¸¤ä¸ªæ–¹æ³•è¿›è¡Œæ³¨é‡Šã€‚ åœ¨<code>oldMethod()</code>æ–¹æ³•ä¸Šï¼Œæˆ‘ä»¬è®¾ç½®äº†<code>@Deprecated</code>æ³¨è§£çš„<code>since</code>å±æ€§ä¸º"1.5"ï¼Œ<code>forRemoval</code>å±æ€§ä¸º<code>true</code>ï¼Œè¡¨ç¤ºè¯¥æ–¹æ³•ä»ç‰ˆæœ¬1.5å¼€å§‹è¢«åºŸå¼ƒï¼Œå¹¶ä¸”å°†æ¥ä¼šè¢«ç§»é™¤ã€‚ åœ¨<code>deprecatedMethod()</code>æ–¹æ³•ä¸Šï¼Œæˆ‘ä»¬è®¾ç½®äº†<code>@Deprecated</code>æ³¨è§£çš„<code>since</code>å±æ€§ä¸º"2.0"ï¼Œ<code>forRemoval</code>å±æ€§ä¸º<code>false</code>ï¼Œè¡¨ç¤ºè¯¥æ–¹æ³•ä»ç‰ˆæœ¬2.0å¼€å§‹è¢«åºŸå¼ƒï¼Œä½†æ˜¯ä¼šä¿ç•™ã€‚ åœ¨<code>main()</code>æ–¹æ³•ä¸­ï¼Œæˆ‘ä»¬å®ä¾‹åŒ–<code>DeprecatedExample</code>å¯¹è±¡ï¼Œå¹¶åˆ†åˆ«è°ƒç”¨äº†æ—§çš„æ–¹æ³•å’ŒåºŸå¼ƒçš„æ–¹æ³•ã€‚ç¼–è¯‘å™¨ä¼šå¯¹è°ƒç”¨æ—§çš„æ–¹æ³•äº§ç”Ÿè­¦å‘Šï¼Œè€Œå¯¹è°ƒç”¨åºŸå¼ƒçš„æ–¹æ³•ä¸ä¼šäº§ç”Ÿè­¦å‘Šã€‚ é€šè¿‡ä½¿ç”¨Java 9ä¸­æ”¹è¿›çš„<code>@Deprecated</code>æ³¨è§£ï¼Œæ‚¨å¯ä»¥æä¾›æ›´å¤šçš„æ³¨é‡Šä¿¡æ¯ï¼ŒåŒ…æ‹¬æŒ‡å®šåºŸå¼ƒçš„ç‰ˆæœ¬å’Œæ˜¯å¦æ‰“ç®— ç§»é™¤ï¼Œä»¥ä¾¿å¼€å‘äººå‘˜äº†è§£åºŸå¼ƒå…ƒç´ çš„è¯¦ç»†æƒ…å†µï¼Œå¹¶é‡‡å–é€‚å½“çš„è¡ŒåŠ¨ã€‚</p> 
<h3><a id="211__1105"></a>2.11 é’»çŸ³æ“ä½œç¬¦</h3> 
<p>é’»çŸ³æ“ä½œç¬¦ï¼ˆDiamond Operatorï¼‰æ˜¯Java 7ä¸­å¼•å…¥çš„è¯­æ³•ç³–ï¼Œç”¨äºåœ¨å®ä¾‹åŒ–æ³›å‹ç±»æ—¶çœç•¥ç±»å‹å‚æ•°çš„é‡å¤å£°æ˜ã€‚Java 9å¯¹é’»çŸ³æ“ä½œç¬¦è¿›è¡Œäº†æ”¹è¿›ï¼Œä½¿å…¶åœ¨æ›´å¤šçš„æƒ…å†µä¸‹å¯ä»¥ä½¿ç”¨ã€‚ åœ¨Java 9ä¹‹å‰ï¼Œé’»çŸ³æ“ä½œç¬¦åªèƒ½ç”¨äºå˜é‡å£°æ˜çš„å³ä¾§ï¼Œå¹¶ä¸”åªèƒ½çœç•¥ç±»å‹å‚æ•°çš„å£°æ˜ï¼Œä¸èƒ½çœç•¥ç±»å‹å‚æ•°çš„å…·ä½“å®ä¾‹åŒ–ã€‚ä¾‹å¦‚ï¼š</p> 
<pre><code>List&lt;String&gt; list = new ArrayList&lt;&gt;(); // ä½¿ç”¨é’»çŸ³æ“ä½œç¬¦ï¼Œçœç•¥äº†ç±»å‹å‚æ•°çš„å£°æ˜
</code></pre> 
<p>åœ¨Java 9ä¸­ï¼Œé’»çŸ³æ“ä½œç¬¦çš„é€‚ç”¨èŒƒå›´å¾—åˆ°äº†æ‰©å±•ã€‚ç°åœ¨ï¼Œé’»çŸ³æ“ä½œç¬¦ä¸ä»…å¯ä»¥ç”¨äºå˜é‡å£°æ˜çš„å³ä¾§ï¼Œè¿˜å¯ä»¥ç”¨äºåŒ¿åç±»çš„å®ä¾‹åŒ–ã€æ˜¾å¼çš„æ„é€ å‡½æ•°è°ƒç”¨ã€æ˜¾å¼çš„æ–¹æ³•è°ƒç”¨ç­‰æ›´å¤šçš„æƒ…å†µã€‚ä¾‹å¦‚ï¼š</p> 
<pre><code>// åœ¨åŒ¿åç±»çš„å®ä¾‹åŒ–ä¸­ä½¿ç”¨é’»çŸ³æ“ä½œç¬¦
Map&lt;String, Integer&gt; map = new HashMap&lt;&gt;() {
    // åŒ¿åç±»çš„å®ç°
};

// åœ¨æ˜¾å¼çš„æ„é€ å‡½æ•°è°ƒç”¨ä¸­ä½¿ç”¨é’»çŸ³æ“ä½œç¬¦
MyClass obj = new MyClass&lt;&gt;();

// åœ¨æ˜¾å¼çš„æ–¹æ³•è°ƒç”¨ä¸­ä½¿ç”¨é’»çŸ³æ“ä½œç¬¦
myMethod(new ArrayList&lt;&gt;());
</code></pre> 
<p>é€šè¿‡åœ¨å®ä¾‹åŒ–æ—¶ä½¿ç”¨é’»çŸ³æ“ä½œç¬¦ï¼Œå¯ä»¥ä½¿ä»£ç æ›´ç®€æ´ã€æ›´æ˜“è¯»ã€‚ç¼–è¯‘å™¨ä¼šæ ¹æ®ä¸Šä¸‹æ–‡æ¨æ–­å‡ºç±»å‹å‚æ•°ï¼Œå¹¶è‡ªåŠ¨è¿›è¡Œç±»å‹æ¨æ–­ã€‚ éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œé’»çŸ³æ“ä½œç¬¦åªèƒ½ç”¨äºå…·æœ‰æ³›å‹ç±»å‹çš„ç±»çš„å®ä¾‹åŒ–ã€‚å¯¹äºåŸå§‹ç±»å‹æˆ–æ— ç±»å‹å‚æ•°çš„ç±»ï¼Œä»éœ€è¦æ˜¾å¼åœ°å£°æ˜ç±»å‹å‚æ•°ã€‚ æ€»ç»“æ¥è¯´ï¼ŒJava 9å¯¹é’»çŸ³æ“ä½œç¬¦è¿›è¡Œäº†æ”¹è¿›ï¼Œä½¿å…¶å¯ä»¥åœ¨æ›´å¤šçš„æƒ…å†µä¸‹ä½¿ç”¨ï¼ŒåŒ…æ‹¬å˜é‡å£°æ˜ã€åŒ¿åç±»çš„å®ä¾‹åŒ–ã€æ˜¾å¼çš„æ„é€ å‡½æ•°è°ƒç”¨ã€æ˜¾å¼çš„æ–¹æ³•è°ƒç”¨ç­‰ã€‚è¿™ä½¿å¾—ä»£ç æ›´åŠ ç®€æ´å’Œæ˜“è¯»ï¼ŒåŒæ—¶ä¸å½±å“ç±»å‹å®‰å…¨æ€§ã€‚</p> 
<h3><a id="212__Optional__1130"></a>2.12 æ”¹è¿›çš„ Optional ç±»</h3> 
<p>åœ¨Java 8ä¸­å¼•å…¥çš„Optionalç±»æä¾›äº†ä¸€ç§ç”¨äºå¤„ç†å¯èƒ½ä¸ºnullçš„å€¼çš„å°è£…ã€‚Java 9å¯¹Optionalç±»è¿›è¡Œäº†ä¸€äº›æ”¹è¿›ï¼Œä»¥æä¾›æ›´å¤šçš„å®ç”¨æ–¹æ³•å’Œå¢å¼ºåŠŸèƒ½ ä¸‹é¢æ˜¯Java 9ä¸­æ”¹è¿›çš„Optionalç±»çš„ç‰¹ç‚¹ï¼š</p> 
<ol start="0"><li><code>ifPresentOrElse()</code>æ–¹æ³•ï¼šæ–°å¢äº†<code>ifPresentOrElse()</code>æ–¹æ³•ï¼Œç”¨äºåœ¨Optionalå¯¹è±¡æœ‰å€¼æ—¶æ‰§è¡Œä¸€ä¸ªæ“ä½œï¼Œå¦åˆ™æ‰§è¡Œä¸€ä¸ªå¤‡é€‰æ“ä½œã€‚è¿™æ ·å¯ä»¥é¿å…ä½¿ç”¨ä¼ ç»Ÿçš„<code>if-else</code>è¯­å¥æ¥å¤„ç†Optionalå¯¹è±¡çš„å€¼ã€‚</li><li><code>stream()</code>æ–¹æ³•ï¼šOptionalç±»ä¸­æ–°å¢äº†<code>stream()</code>æ–¹æ³•ï¼Œç”¨äºå°†Optionalå¯¹è±¡è½¬æ¢ä¸ºä¸€ä¸ªåŒ…å«å•ä¸ªå…ƒç´ çš„Streamã€‚å¦‚æœOptionalå¯¹è±¡æœ‰å€¼ï¼Œåˆ™è¿”å›ä¸€ä¸ªåŒ…å«è¯¥å€¼çš„Streamï¼Œå¦åˆ™è¿”å›ä¸€ä¸ªç©ºStreamã€‚</li><li><code>or()</code>æ–¹æ³•çš„é‡è½½ï¼š<code>Optional.or()</code>æ–¹æ³•ç°åœ¨æ”¯æŒSupplierå‡½æ•°æ¥å£ï¼Œç”¨äºæä¾›å¤‡é€‰å€¼ã€‚å¦‚æœOptionalå¯¹è±¡ä¸ºç©ºï¼Œåˆ™ä½¿ç”¨Supplieræä¾›çš„å¤‡é€‰å€¼ã€‚</li><li><code>ifPresentOrElse()</code>æ–¹æ³•çš„é‡è½½ï¼š<code>ifPresentOrElse()</code>æ–¹æ³•ç°åœ¨æ”¯æŒä¸¤ä¸ªConsumerå‡½æ•°æ¥å£ï¼Œåˆ†åˆ«ç”¨äºå¤„ç†Optionalå¯¹è±¡æœ‰å€¼æ—¶çš„æƒ…å†µå’Œæ²¡æœ‰å€¼æ—¶çš„æƒ…å†µã€‚è¿™æ ·å¯ä»¥æä¾›æ›´å¤šçš„çµæ´»æ€§å’Œå®šåˆ¶åŒ–çš„å¤„ç†é€»è¾‘ã€‚</li></ol> 
<p>ä¸‹é¢æ˜¯ä¸€ä¸ªç¤ºä¾‹ï¼Œæ¼”ç¤ºäº†Java 9ä¸­æ”¹è¿›çš„Optionalç±»çš„ç”¨æ³•ï¼š</p> 
<pre><code>import java.util.Optional;

/**
 * @description:
 * @author: shu
 * @createDate: 2023/7/1 16:04
 * @version: 1.0
 */
public class OptionalDemo {
    public static void main(String[] args) {
        Optional&lt;String&gt; optionalValue = Optional.of("Hello");

        // ä½¿ç”¨ifPresentOrElse()æ–¹æ³•æ‰§è¡Œæ“ä½œ
        optionalValue.ifPresentOrElse(
                value -&gt; System.out.println("Value: " + value),
                () -&gt; System.out.println("No value present")
        );

        // ä½¿ç”¨stream()æ–¹æ³•å°†Optionalè½¬æ¢ä¸ºStream
        optionalValue.stream()
                .forEach(value -&gt; System.out.println("Stream value: " + value));

        // ä½¿ç”¨or()æ–¹æ³•æä¾›å¤‡é€‰å€¼
        Optional&lt;String&gt; emptyOptional = Optional.empty();
        String result = emptyOptional.or(() -&gt; Optional.of("Default Value"))
                .orElse("Fallback Value");
        System.out.println("Result: " + result);
    }
}
</code></pre> 
<p>åœ¨è¿™ä¸ªç¤ºä¾‹ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨Optionalç±»åˆ›å»ºäº†ä¸€ä¸ªåŒ…å«å€¼çš„Optionalå¯¹è±¡ã€‚ç„¶åï¼Œæˆ‘ä»¬ä½¿ç”¨æ”¹è¿›çš„æ–¹æ³•å¯¹Optionalå¯¹è±¡è¿›è¡Œæ“ä½œã€‚ ä½¿ç”¨<code>ifPresentOrElse()</code>æ–¹æ³•ï¼Œæˆ‘ä»¬æŒ‡å®šäº†ä¸€ä¸ªConsumerå‡½æ•°æ¥å¤„ç†Optionalå¯¹è±¡æœ‰å€¼æ—¶çš„æƒ…å†µï¼Œå¹¶æŒ‡å®šä¸€ä¸ªå¤‡é€‰æ“ä½œæ¥å¤„ç†Optionalå¯¹è±¡ä¸ºç©ºçš„æƒ…å†µã€‚ ä½¿ç”¨<code>stream()</code>æ–¹æ³•ï¼Œæˆ‘ä»¬å°†Optionalå¯¹è±¡è½¬æ¢ä¸ºä¸€ä¸ªåŒ…å«å•ä¸ªå…ƒç´ çš„Streamï¼Œå¹¶å¯¹æ¯ä¸ªå…ƒç´ æ‰§è¡Œæ“ä½œã€‚ åœ¨<code>or()</code>æ–¹æ³•ç¤ºä¾‹ä¸­ï¼Œæˆ‘ä»¬åˆ›å»ºäº†ä¸€ä¸ªç©ºçš„Optionalå¯¹è±¡ï¼Œå¹¶ä½¿ç”¨Supplierå‡½æ•°æä¾›äº†ä¸€ä¸ªå¤‡é€‰å€¼ã€‚å¦‚æœOptionalå¯¹è±¡ä¸ºç©ºï¼Œåˆ™ä½¿ç”¨å¤‡é€‰å€¼ã€‚ é€šè¿‡ä½¿ç”¨Java 9ä¸­æ”¹è¿›çš„Optionalç±»ï¼Œæˆ‘ä»¬å¯ä»¥æ›´æ–¹ä¾¿åœ°å¤„ç†Optionalå¯¹è±¡ï¼Œæä¾›æ›´å¤šçš„å¤„ç†é€‰é¡¹ï¼Œå¹¶ä½¿ä»£ç æ›´ç®€æ´å’Œå¯è¯»ã€‚è¿™äº›æ”¹è¿›ä½¿å¾—Optionalç±»æ›´åŠ å®ç”¨å’Œå¼ºå¤§ã€‚</p> 
<h3><a id="_JDK10__1175"></a>ä¸‰ JDK10 æ–°ç‰¹æ€§</h3> 
<p>å‚è€ƒç½‘ç«™ï¼š<a href="https://link.juejin.cn/?target=https%3A%2F%2Fopenjdk.org%2Fprojects%2Fjdk%2F" rel="nofollow" title="https://openjdk.org/projects/jdk/">openjdk.org/projects/jdâ€¦</a></p> 
<pre><code>286: Local-Variable Type Inference å±€éƒ¨å˜é‡ç±»å‹æ¨æ–­
 
296: Consolidate the JDK Forest into a Single Repository JDKåº“çš„åˆå¹¶
 
304: Garbage-Collector Interface ç»Ÿä¸€çš„åƒåœ¾å›æ”¶æ¥å£
 
307: Parallel Full GC for G1 ä¸ºG1æä¾›å¹¶è¡Œçš„Full GC
 
310: Application Class-Data Sharing åº”ç”¨ç¨‹åºç±»æ•°æ®ï¼ˆAppCDSï¼‰å…±äº«
 
312: Thread-Local Handshakes ThreadLocalæ¡æ‰‹äº¤äº’
 
313: Remove the Native-Header Generation Tool (javah) ç§»é™¤JDKä¸­é™„å¸¦çš„javahå·¥å…·
 
314: Additional Unicode Language-Tag Extensions ä½¿ç”¨é™„åŠ çš„Unicodeè¯­è¨€æ ‡è®°æ‰©å±•
 
316: Heap Allocation on Alternative Memory Devices èƒ½å°†å †å†…å­˜å ç”¨åˆ†é…ç»™ç”¨æˆ·æŒ‡å®šçš„å¤‡ç”¨å†…å­˜è®¾å¤‡
 
317: Experimental Java-Based JIT Compiler ä½¿ç”¨åŸºäºJavaçš„JITç¼–è¯‘å™¨
 
319: Root Certificates æ ¹è¯ä¹¦
 
322: Time-Based Release Versioning åŸºäºæ—¶é—´çš„å‘å¸ƒç‰ˆæœ¬
</code></pre> 
<h3><a id="31__1205"></a>3.1 å±€éƒ¨å˜é‡ç±»å‹æ¨æ–­</h3> 
<p>JDK 10 å¼•å…¥äº†å±€éƒ¨å˜é‡ç±»å‹æ¨æ–­ï¼Œé€šè¿‡ä½¿ç”¨ <code>var</code> å…³é”®å­—ï¼Œå¯ä»¥è®©ç¼–è¯‘å™¨æ ¹æ®ä¸Šä¸‹æ–‡è‡ªåŠ¨æ¨æ–­å±€éƒ¨å˜é‡çš„ç±»å‹ã€‚è¿™ä¸ªç‰¹æ€§å¯ä»¥ä½¿ä»£ç æ›´åŠ ç®€æ´å’Œæ˜“è¯»ã€‚ ä¸‹é¢æ˜¯ä¸€ä¸ªç¤ºä¾‹ï¼š</p> 
<pre><code>var str = "Hello, World!"; // æ¨æ–­ä¸º String ç±»å‹
var list = new ArrayList&lt;String&gt;(); // æ¨æ–­ä¸º ArrayList&lt;String&gt; ç±»å‹
</code></pre> 
<p>åœ¨ä¸Šé¢çš„ä»£ç ä¸­ï¼Œ<code>var</code> å…³é”®å­—ç”¨äºå£°æ˜å±€éƒ¨å˜é‡ <code>str</code> å’Œ <code>list</code>ï¼Œç¼–è¯‘å™¨æ ¹æ®å³ä¾§çš„è¡¨è¾¾å¼è‡ªåŠ¨æ¨æ–­å˜é‡çš„ç±»å‹ä¸º <code>String</code> å’Œ <code>ArrayList&lt;String&gt;</code>ã€‚ éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå±€éƒ¨å˜é‡ç±»å‹æ¨æ–­åªèƒ½ç”¨äºå±€éƒ¨å˜é‡çš„å£°æ˜å’Œåˆå§‹åŒ–ï¼Œä¸èƒ½ç”¨äºæ–¹æ³•çš„å‚æ•°ã€æ–¹æ³•çš„è¿”å›ç±»å‹ã€ç±»çš„å­—æ®µç­‰ã€‚å¹¶ä¸”æ¨æ–­çš„ç±»å‹æ˜¯åœ¨ç¼–è¯‘æ—¶ç¡®å®šçš„ï¼Œè¿è¡Œæ—¶å˜é‡çš„ç±»å‹ä»ç„¶æ˜¯å…·ä½“çš„ç±»å‹ï¼Œè¿™ä¸ªç‰¹æ€§å¹¶ä¸ä¼šå½±å“ Java çš„é™æ€ç±»å‹æ£€æŸ¥ã€‚ å±€éƒ¨å˜é‡ç±»å‹æ¨æ–­å¯ä»¥ç®€åŒ–ä»£ç ä¹¦å†™ï¼Œç‰¹åˆ«æ˜¯åœ¨ä½¿ç”¨æ³›å‹ã€åŒ¿åç±»å’Œå¤æ‚ç±»å‹æ—¶èƒ½å¤Ÿå‡å°‘å†—ä½™çš„ç±»å‹å£°æ˜ã€‚ç„¶è€Œï¼Œä¸ºäº†ä¿æŒä»£ç çš„å¯è¯»æ€§å’Œæ¸…æ™°æ€§ï¼Œå»ºè®®åœ¨ä½¿ç”¨ <code>var</code> å…³é”®å­—æ—¶ä»ç„¶ç»™å˜é‡èµ‹äºˆæœ‰æ„ä¹‰çš„åç§°ã€‚ è¯·æ³¨æ„ï¼Œè¿™ä¸ªç‰¹æ€§æ˜¯åœ¨ JDK 10 ä¸­å¼•å…¥çš„ï¼Œå¦‚æœä½ ä½¿ç”¨çš„æ˜¯æ›´æ—©çš„ JDK ç‰ˆæœ¬ï¼Œå°†æ— æ³•ä½¿ç”¨å±€éƒ¨å˜é‡ç±»å‹æ¨æ–­ã€‚</p> 
<h3><a id="32__Full_GC_1216"></a>3.2 å¼•å…¥å¹¶è¡Œ Full GCç®—æ³•</h3> 
<ul><li>G1 æ˜¯è®¾è®¡æ¥ä½œä¸ºä¸€ç§ä½å»¶æ—¶çš„åƒåœ¾å›æ”¶å™¨ã€‚G1æ”¶é›†å™¨è¿˜å¯ä»¥è¿›è¡Œéå¸¸ç²¾ç¡®åœ°å¯¹åœé¡¿è¿›è¡Œæ§åˆ¶ã€‚ä»JDK7å¼€å§‹å¯ç”¨G1åƒåœ¾å›æ”¶å™¨ï¼Œåœ¨JDK9ä¸­G1æˆä¸ºé»˜è®¤åƒåœ¾å›æ”¶ç­–ç•¥ã€‚æˆªæ­¢åˆ°ava 9ï¼ŒG1çš„Full GCé‡‡ç”¨çš„æ˜¯å•çº¿ç¨‹ç®—æ³•ã€‚ä¹Ÿå°±æ˜¯è¯´G1åœ¨å‘ç”ŸFull GCæ—¶ä¼šä¸¥é‡å½±å“æ€§èƒ½ã€‚</li><li>JDK10åˆå¯¹G1è¿›è¡Œäº†æå‡ï¼ŒG1 å¼•å…¥å¹¶è¡Œ Full GCç®—æ³•ï¼Œåœ¨å‘ç”ŸFull GCæ—¶å¯ä»¥ä½¿ç”¨å¤šä¸ªçº¿ç¨‹è¿›è¡Œå¹¶è¡Œå›æ”¶ã€‚èƒ½ä¸ºç”¨æˆ·æä¾›æ›´å¥½çš„ä½“éªŒã€‚</li></ul> 
<h3><a id="33__1221"></a>3.3 åº”ç”¨ç¨‹åºç±»æ•°æ®å…±äº«</h3> 
<p>åº”ç”¨ç¨‹åºç±»æ•°æ®å…±äº«ï¼ˆApplication Class-Data Sharingï¼‰æ˜¯ JDK 10 å¼•å…¥çš„ä¸€é¡¹ç‰¹æ€§ï¼Œå®ƒæ—¨åœ¨æ”¹å–„ Java åº”ç”¨ç¨‹åºçš„å¯åŠ¨æ€§èƒ½å’Œå†…å­˜å ç”¨ã€‚ åœ¨ä¼ ç»Ÿçš„ Java åº”ç”¨ç¨‹åºä¸­ï¼Œæ¯æ¬¡å¯åŠ¨éƒ½éœ€è¦åŠ è½½å’Œè§£æå¤§é‡çš„ç±»æ–‡ä»¶ï¼Œè¿™ä¼šæ¶ˆè€—è¾ƒå¤šçš„æ—¶é—´å’Œå†…å­˜èµ„æºã€‚åº”ç”¨ç¨‹åºç±»æ•°æ®å…±äº«é€šè¿‡å°†ç±»å…ƒæ•°æ®å’Œå­—èŠ‚ç é¢„å…ˆè®¡ç®—å’Œå­˜å‚¨åœ¨å…±äº«çš„å­˜æ¡£æ–‡ä»¶ä¸­ï¼Œä½¿å¾—å¤šä¸ª Java è¿›ç¨‹å¯ä»¥å…±äº«è¿™äº›æ•°æ®ï¼Œä»è€Œå‡å°‘äº†ç±»åŠ è½½å’Œè§£æçš„æ—¶é—´å’Œå†…å­˜å¼€é”€ã€‚ å…·ä½“æ¥è¯´ï¼Œåº”ç”¨ç¨‹åºç±»æ•°æ®å…±äº«åŒ…æ‹¬ä»¥ä¸‹æ­¥éª¤ï¼š</p> 
<ol start="0"><li>æ„å»ºå…±äº«çš„ç±»æ•°æ®å­˜æ¡£ï¼ˆShared Class-Data Archiveï¼ŒCDSï¼‰ï¼šä½¿ç”¨ <code>java -Xshare:dump</code> å‘½ä»¤æ„å»ºå…±äº«çš„ç±»æ•°æ®å­˜æ¡£ã€‚è¿™ä¸ªå‘½ä»¤ä¼šå¯åŠ¨åº”ç”¨ç¨‹åºï¼Œæ‰§è¡Œä¸€äº›é¢„çƒ­æ“ä½œï¼Œç„¶åç”Ÿæˆä¸€ä¸ªåŒ…å«ç±»å…ƒæ•°æ®å’Œå­—èŠ‚ç çš„å­˜æ¡£æ–‡ä»¶ã€‚</li><li>å¯ç”¨åº”ç”¨ç¨‹åºç±»æ•°æ®å…±äº«ï¼šä½¿ç”¨ <code>java -Xshare:on</code> å‘½ä»¤å¯ç”¨åº”ç”¨ç¨‹åºç±»æ•°æ®å…±äº«ã€‚åœ¨å¯ç”¨åï¼ŒJava è¿›ç¨‹å°†ä½¿ç”¨å…±äº«çš„ç±»æ•°æ®å­˜æ¡£ï¼Œä»è€Œå‡å°‘ç±»åŠ è½½å’Œè§£æçš„æ—¶é—´å’Œå†…å­˜å ç”¨ã€‚</li></ol> 
<p>é€šè¿‡åº”ç”¨ç¨‹åºç±»æ•°æ®å…±äº«ï¼Œå¯ä»¥æ˜¾è‘—ç¼©çŸ­ Java åº”ç”¨ç¨‹åºçš„å¯åŠ¨æ—¶é—´å’Œå‡å°‘å†…å­˜å ç”¨ï¼Œå°¤å…¶å¯¹äºè¾ƒå¤§çš„åº”ç”¨ç¨‹åºæˆ–éœ€è¦é¢‘ç¹å¯åŠ¨çš„åœºæ™¯æ›´ä¸ºæœ‰æ•ˆã€‚ éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œåº”ç”¨ç¨‹åºç±»æ•°æ®å…±äº«ä»…é€‚ç”¨äºå…·æœ‰ç›¸åŒç±»è·¯å¾„å’Œç›¸åŒç±»åŠ è½½å™¨ç»“æ„çš„ Java è¿›ç¨‹ã€‚å› æ­¤ï¼Œå®ƒä¸»è¦é€‚ç”¨äºæœåŠ¡å™¨ç«¯çš„ Java åº”ç”¨ç¨‹åºï¼Œè€Œå¯¹äºå®¢æˆ·ç«¯æˆ–æ¡Œé¢åº”ç”¨ç¨‹åºå¯èƒ½ä¸å¤ªé€‚ç”¨ã€‚ æ­¤å¤–ï¼Œåº”ç”¨ç¨‹åºç±»æ•°æ®å…±äº«æ˜¯ JDK ä¸­çš„å•†ä¸šç‰¹æ€§ï¼ˆCommercial Featureï¼‰ï¼Œåªåœ¨ Oracle JDK å’Œ Oracle OpenJDK ä¸­å¯ç”¨ã€‚åœ¨å…¶ä»–å‘è¡Œç‰ˆæˆ–æ›¿ä»£çš„ JDK å®ç°ä¸­ï¼Œå¯èƒ½æ²¡æœ‰è¯¥ç‰¹æ€§æˆ–æœ‰æ‰€ä¸åŒçš„å®ç°æ–¹å¼ã€‚</p> 
<h3><a id="34__1230"></a>3.4 çº¿ç¨‹æœ¬åœ°æ¡æ‰‹</h3> 
<ul><li>Safepointæ˜¯Hotspot JVMä¸­ä¸€ç§è®©åº”ç”¨ç¨‹åºæ‰€æœ‰çº¿ç¨‹åœæ­¢çš„æœºåˆ¶ã€‚ä¸ºäº†è¦åšä¸€äº›éå¸¸ä¹‹å®‰å…¨çš„äº‹æƒ…ï¼Œéœ€è¦è®©æ‰€æœ‰çº¿ç¨‹éƒ½åœä¸‹æ¥å®ƒæ‰å¥½åšã€‚æ¯”å¦‚èœå¸‚åœºï¼Œäººæ¥äººå¾€ï¼Œæœ‰äººå¿½ç„¶è¦æ¸…ç‚¹äººæ•°ï¼Œè¿™æ—¶å€™ï¼Œæœ€å¥½å°±æ˜¯å¤§å®¶éƒ½åŸåœ°ä¸åŠ¨ï¼Œè¿™æ ·ä¹Ÿå¥½ç»Ÿè®¡ã€‚Safepointèµ·åˆ°çš„å°±æ˜¯è¿™æ ·ä¸€ä¸ªä½œç”¨ã€‚</li><li>JVMä¼šè®¾ç½®ä¸€ä¸ªå…¨å±€çš„çŠ¶æ€å€¼ã€‚åº”ç”¨çº¿ç¨‹å»è§‚å¯Ÿè¿™ä¸ªå€¼ï¼Œä¸€æ—¦å‘ç°JVMæŠŠæ­¤å€¼è®¾ç½®ä¸ºäº†â€œå¤§å®¶éƒ½åœä¸‹æ¥â€ã€‚æ­¤æ—¶æ¯ä¸ªåº”ç”¨çº¿ç¨‹å°±ä¼šå¾—åˆ°è¿™ä¸ªé€šçŸ¥ï¼Œç„¶åå„è‡ªé€‰æ‹©ä¸€ä¸ªpointï¼ˆç‚¹ï¼‰åœäº†ä¸‹æ¥ã€‚è¿™ä¸ªç‚¹å°±å«Safepointã€‚å¾…æ‰€æœ‰çš„åº”ç”¨çº¿ç¨‹éƒ½åœä¸‹æ¥äº†ã€‚</li><li>JVMå°±å¼€å§‹åšä¸€äº›å®‰å…¨çº§åˆ«éå¸¸é«˜çš„äº‹æƒ…äº†ï¼Œæ¯”å¦‚ä¸‹é¢è¿™äº›äº‹æƒ…ï¼šåƒåœ¾æ¸…ç†æš‚åœã€‚ç±»çš„çƒ­æ›´æ–°ã€‚åå‘é”çš„å–æ¶ˆã€‚å„ç§debugæ“ä½œã€‚</li><li>ç„¶è€Œï¼Œè®©æ‰€æœ‰çº¿ç¨‹éƒ½åˆ°å°±è¿‘çš„safepointåœä¸‹æ¥æœ¬æ˜¯éœ€è¦è¾ƒé•¿çš„æ—¶é—´ã€‚è€Œä¸”è®©æ‰€æœ‰çº¿ç¨‹éƒ½åœä¸‹æ¥æ˜¾å¾—æœ‰äº›ç²—æš´ã€‚ä¸ºæ­¤Java10å°±å¼•å…¥äº†ä¸€ç§å¯ä»¥ä¸ç”¨stop all threadsçš„æ–¹å¼ï¼Œå°±æ˜¯Thread Local Handshakeï¼ˆçº¿ç¨‹æœ¬åœ°æ¡æ‰‹ï¼‰ã€‚è¯¥æ–°ç‰¹æ€§çš„æ•ˆæœçº¿ç¨‹æœ¬åœ°æ¡æ‰‹æ˜¯åœ¨ JVM å†…éƒ¨ç›¸å½“ä½çº§åˆ«çš„æ›´æ”¹ï¼Œä¿®æ”¹å®‰å…¨ç‚¹æœºåˆ¶ï¼Œå…è®¸åœ¨ä¸è¿è¡Œå…¨å±€è™šæ‹Ÿæœºå®‰å…¨ç‚¹çš„æƒ…å†µä¸‹å®ç°çº¿ç¨‹å›è°ƒï¼Œä½¿å¾—éƒ¨åˆ†å›è°ƒæ“ä½œåªéœ€è¦åœæ‰å•ä¸ªçº¿ç¨‹ï¼Œè€Œä¸æ˜¯åœæ­¢æ‰€æœ‰çº¿ç¨‹ã€‚</li></ul> 
<h3><a id="35_JDK_1237"></a>3.5 JDKåº“çš„åˆå¹¶</h3> 
<p>JDK 10 å¼•å…¥äº†ä¸€é¡¹åä¸º â€œJDK åº“çš„åˆå¹¶â€ï¼ˆConsolidate the JDK Forest into a Single Repositoryï¼‰çš„é‡è¦ç‰¹æ€§ã€‚åœ¨æ­¤ä¹‹å‰ï¼ŒJDK çš„æºä»£ç åˆ†å¸ƒåœ¨å¤šä¸ª Mercurial ä»£ç ä»“åº“ä¸­ï¼Œè€Œ JDK 10 å°†è¿™äº›ä»£ç ä»“åº“åˆå¹¶ä¸ºä¸€ä¸ªå•ä¸€çš„ Git ä»£ç ä»“åº“ã€‚ JDK åº“çš„åˆå¹¶æ—¨åœ¨ç®€åŒ– JDK å¼€å‘å’Œç»´æŠ¤è¿‡ç¨‹ï¼Œæé«˜å¼€å‘æ•ˆç‡å’Œä»£ç ç®¡ç†çš„ä¸€è‡´æ€§ã€‚è¿™é¡¹ç‰¹æ€§å°† JDK ä»£ç åº“ä» Mercurial è¿ç§»åˆ° Gitï¼Œå¹¶å°†æ‰€æœ‰ç›¸å…³ä»£ç åˆå¹¶åˆ°ä¸€ä¸ªç»Ÿä¸€çš„ Git ä»“åº“ä¸­ï¼Œä»¥ä¾¿æ›´æ–¹ä¾¿åœ°è¿›è¡Œä»£ç çš„ç‰ˆæœ¬æ§åˆ¶ã€åˆ†æ”¯ç®¡ç†å’Œåä½œå¼€å‘ã€‚ é€šè¿‡å°† JDK ä»£ç åº“åˆå¹¶ä¸ºä¸€ä¸ª Git ä»“åº“ï¼Œå¼€å‘è€…å¯ä»¥æ›´è½»æ¾åœ°æµè§ˆå’ŒæŸ¥æ‰¾ JDK çš„æºä»£ç ï¼ŒåŒæ—¶æ›´å®¹æ˜“å‚ä¸ JDK çš„å¼€å‘å’Œè´¡çŒ®ã€‚æ­¤å¤–ï¼Œè¿™ä¹Ÿä¸ºç¤¾åŒºæä¾›äº†æ›´ä¾¿åˆ©çš„æ–¹å¼æ¥æäº¤é”™è¯¯æŠ¥å‘Šã€è´¡çŒ®è¡¥ä¸å’Œå‚ä¸ JDK å¼€å‘çš„è®¨è®ºã€‚ JDK åº“çš„åˆå¹¶æ˜¯ JDK 10 ä¸­ä¸€ä¸ªé‡è¦çš„åŸºç¡€è®¾æ–½å˜æ›´ï¼Œå¯¹äº JDK çš„å¼€å‘è€…å’Œç»´æŠ¤è€…æ¥è¯´å…·æœ‰é‡è¦çš„å½±å“ã€‚è¿™é¡¹ç‰¹æ€§çš„å¼•å…¥æ ‡å¿—ç€ JDK å¼€å‘è¿‡ç¨‹ä¸­çš„ä¸€é¡¹é‡è¦æ”¹è¿›ï¼Œå¹¶ä¸ºæœªæ¥çš„ JDK ç‰ˆæœ¬æä¾›äº†æ›´çµæ´»å’Œé«˜æ•ˆçš„å¼€å‘åŸºç¡€ã€‚ è¯·æ³¨æ„ï¼Œä»¥ä¸Šä¿¡æ¯åŸºäº JDK 10 çš„ç‰ˆæœ¬ã€‚åœ¨æ›´é«˜ç‰ˆæœ¬çš„ JDK ä¸­ï¼Œå¯èƒ½ä¼šæœ‰ä¸€äº›å˜åŒ–å’Œè¿›ä¸€æ­¥çš„æ”¹è¿›ã€‚å»ºè®®æŸ¥é˜…å®˜æ–¹æ–‡æ¡£æˆ–ç›¸å…³èµ„æºä»¥è·å–æœ€æ–°çš„ä¿¡æ¯å’Œè¯¦ç»†çš„è¯´æ˜ã€‚</p> 
<h3><a id="36__1241"></a>3.6 å®éªŒå‹çš„åƒåœ¾å›æ”¶æ¥å£</h3> 
<p>JDK 10 çš„ä¸»è¦ç‰¹æ€§ä¹‹ä¸€æ˜¯å¼•å…¥äº†ä¸€ç§å®éªŒæ€§çš„åƒåœ¾å›æ”¶å™¨æ¥å£ï¼Œç§°ä¸º â€œGC æ¥å£â€ï¼ˆGC Interfaceï¼‰ã€‚è¯¥æ¥å£çš„ç›®æ ‡æ˜¯æä¾›ä¸€ç§æ ‡å‡†åŒ–çš„æ–¹å¼ï¼Œä½¿å¾—å¼€å‘è€…å¯ä»¥æ›´æ–¹ä¾¿åœ°å®ç°è‡ªå®šä¹‰çš„åƒåœ¾å›æ”¶å™¨ã€‚ GC æ¥å£å…è®¸å¼€å‘è€…åŸºäº JDK çš„åƒåœ¾å›æ”¶æ¡†æ¶æ„å»ºè‡ªå®šä¹‰çš„åƒåœ¾å›æ”¶å™¨ã€‚é€šè¿‡å®ç° GC æ¥å£ï¼Œå¼€å‘è€…å¯ä»¥æ’å…¥è‡ªå·±çš„åƒåœ¾å›æ”¶ç®—æ³•å’Œç­–ç•¥ï¼Œå¹¶ä¸ JDK çš„å…¶ä»–éƒ¨åˆ†è¿›è¡Œé›†æˆã€‚ ç„¶è€Œï¼Œéœ€è¦æ³¨æ„çš„æ˜¯ï¼ŒGC æ¥å£åœ¨ JDK 10 ä¸­ä»ç„¶æ˜¯ä¸€ä¸ªå®éªŒæ€§çš„åŠŸèƒ½ï¼Œå¹¶ä¸”ä¸å»ºè®®åœ¨ç”Ÿäº§ç¯å¢ƒä¸­ä½¿ç”¨ã€‚è¿™ä¸ªæ¥å£å¯èƒ½åœ¨æœªæ¥çš„ JDK ç‰ˆæœ¬ä¸­è¿›è¡Œæ”¹è¿›æˆ–å˜åŒ–ï¼Œæˆ–è€…å¯èƒ½è¢«æ›´ç¨³å®šçš„æ›¿ä»£æ–¹æ¡ˆæ‰€å–ä»£ã€‚</p> 
<h3><a id="37_JDKjavah_1245"></a>3.7 ç§»é™¤JDKä¸­é™„å¸¦çš„javahå·¥å…·</h3> 
<p>è¿™ä¸ªå·¥å…·å·²ç»è¢« javac ä¸­çš„é«˜çº§åŠŸèƒ½æ‰€å–ä»£ï¼Œè¿™äº›åŠŸèƒ½æ˜¯åœ¨ JDK 8(JDK-7150368)ä¸­æ·»åŠ çš„ã€‚æ­¤åŠŸèƒ½æä¾›äº†åœ¨ç¼–è¯‘ Java æºä»£ç æ—¶ç¼–å†™æœ¬æœºå¤´æ–‡ä»¶çš„èƒ½åŠ›ï¼Œä»è€Œæ¶ˆé™¤äº†å¯¹å•ç‹¬å·¥å…·çš„éœ€æ±‚ã€‚</p> 
<h3><a id="38__1249"></a>3.8 å¤‡â½¤å†…å­˜è®¾å¤‡ä¸Šçš„å †åˆ†é…</h3> 
<p>Java çš„å †å†…å­˜é€šå¸¸æ˜¯åˆ†é…åœ¨ä¸»å†…å­˜ä¸­çš„ï¼Œå¹¶ç”± JVM è¿›è¡Œç®¡ç†ã€‚å¤‡ç”¨å†…å­˜è®¾å¤‡ï¼ˆå¦‚ SSDã€NVMe ç­‰ï¼‰é€šå¸¸ç”¨äºå­˜å‚¨æŒä¹…åŒ–æ•°æ®æˆ–ä½œä¸ºè¾…åŠ©å­˜å‚¨è®¾å¤‡ï¼Œè€Œä¸æ˜¯ç”¨äºç›´æ¥çš„å †å†…å­˜åˆ†é…ã€‚ ç„¶è€Œï¼Œå¯¹äºå¤§å‹æ•°æ®å¤„ç†ã€é«˜æ€§èƒ½è®¡ç®—ç­‰ç‰¹å®šåœºæ™¯ï¼Œå¯ä»¥ä½¿ç”¨ä¸€äº›ç‰¹æ®Šçš„æŠ€æœ¯å’Œå·¥å…·ï¼Œä¾‹å¦‚ä½¿ç”¨å†…å­˜æ˜ å°„æ–‡ä»¶ï¼ˆMemory-mapped Filesï¼‰å°†éƒ¨åˆ†å †å†…å­˜æ˜ å°„åˆ°å¤‡ç”¨å­˜å‚¨è®¾å¤‡ä¸Šï¼Œä»¥æ‰©å±•å¯ç”¨çš„å †å†…å­˜ç©ºé—´ã€‚è¿™ç§æ–¹æ³•å¯ä»¥æä¾›æ›´å¤§çš„å†…å­˜å®¹é‡ï¼Œä½†éœ€è¦è°¨æ…è€ƒè™‘æ€§èƒ½å’Œæ•°æ®è®¿é—®çš„å¼€é”€ã€‚</p> 
<h3><a id="39__Java__JIT__1253"></a>3.9 åŸºäº Java çš„å®éªŒæ€§ JIT ç¼–è¯‘å™¨</h3> 
<p>Java 10 å¼•å…¥äº†ä¸€ä¸ªå®éªŒæ€§çš„ JITï¼ˆJust-In-Timeï¼‰ç¼–è¯‘å™¨ï¼Œç§°ä¸º Graal ç¼–è¯‘å™¨ã€‚Graal ç¼–è¯‘å™¨æ˜¯åŸºäº Java å®ç°çš„ï¼Œå®ƒæä¾›äº†ä¸€ç§æ›¿ä»£ HotSpot JIT ç¼–è¯‘å™¨çš„é€‰æ‹©ã€‚ Graal ç¼–è¯‘å™¨å…·æœ‰ä»¥ä¸‹ä¸€äº›ç‰¹ç‚¹å’Œä¼˜åŠ¿ï¼š</p> 
<ol start="0"><li>é«˜æ€§èƒ½ï¼šGraal ç¼–è¯‘å™¨é€šè¿‡ä¼˜åŒ–å’Œå³æ—¶ç¼–è¯‘æŠ€æœ¯æä¾›äº†æ›´å¥½çš„æ€§èƒ½è¡¨ç°ï¼Œå°¤å…¶åœ¨ç‰¹å®šç±»å‹çš„å·¥ä½œè´Ÿè½½ä¸Šå¯èƒ½æ¯” HotSpot JIT ç¼–è¯‘å™¨æ›´å¿«ã€‚</li><li>ä½å»¶è¿Ÿï¼šGraal ç¼–è¯‘å™¨çš„å³æ—¶ç¼–è¯‘èƒ½åŠ›å¯ä»¥å‡å°‘åº”ç”¨ç¨‹åºçš„åœé¡¿æ—¶é—´ï¼Œä»è€Œæä¾›æ›´ä½çš„å»¶è¿Ÿå’Œæ›´é«˜çš„å“åº”æ€§ã€‚</li><li>å…¼å®¹æ€§ï¼šGraal ç¼–è¯‘å™¨ä¸ç°æœ‰çš„ Java ä»£ç å’Œåº“å…¼å®¹ï¼Œå¹¶æ”¯æŒåœ¨ç°æœ‰çš„ JVM ç¯å¢ƒä¸­ä½¿ç”¨ã€‚</li></ol> 
<p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå°½ç®¡ Graal ç¼–è¯‘å™¨åœ¨æ€§èƒ½å’Œå»¶è¿Ÿæ–¹é¢å¯èƒ½å¸¦æ¥ä¼˜åŠ¿ï¼Œä½†å®ƒä»ç„¶æ˜¯ä¸€ä¸ªå®éªŒæ€§çš„ç‰¹æ€§ï¼Œå¹¶ä¸”åœ¨æŸäº›æƒ…å†µä¸‹å¯èƒ½ä¸ç‰¹å®šçš„ä»£ç æˆ–åº“ä¸å…¼å®¹ã€‚æ­¤å¤–ï¼ŒGraal ç¼–è¯‘å™¨åœ¨ç¼–è¯‘é€Ÿåº¦å’Œå†…å­˜æ¶ˆè€—æ–¹é¢å¯èƒ½ä¼šæœ‰ä¸€äº›æƒè¡¡ï¼Œå…·ä½“å–å†³äºåº”ç”¨ç¨‹åºçš„ç‰¹ç‚¹å’Œé…ç½®ã€‚ ä¸ºäº†å¯ç”¨ Graal ç¼–è¯‘å™¨ï¼Œæ‚¨å¯ä»¥åœ¨ JDK 10+ çš„å¯åŠ¨å‚æ•°ä¸­æ·»åŠ  <code>-XX:+UnlockExperimentalVMOptions -XX:+UseJVMCICompiler</code>ã€‚è¿™å°†æ¿€æ´» Graal ç¼–è¯‘å™¨å¹¶ä½¿ç”¨å®ƒæ¥ç¼–è¯‘ Java ä»£ç ã€‚</p> 
<h3><a id="310__1263"></a>3.10 æ ¹è¯ä¹¦</h3> 
<p>JDK 10 ä¸­çš„æ ¹è¯ä¹¦åº“ä¸ä¹‹å‰çš„ç‰ˆæœ¬ç±»ä¼¼ï¼Œä»ç„¶åŒ…å«åœ¨ JDK å®‰è£…ç›®å½•ä¸‹çš„ â€œjre/lib/securityâ€ ç›®å½•ä¸­çš„ â€œcacertsâ€ æ–‡ä»¶ä¸­ã€‚ æ ¹è¯ä¹¦åº“ï¼ˆcacertsï¼‰ä¸­åŒ…å«äº†ä¸€ç³»åˆ—å—ä¿¡ä»»çš„æ ¹è¯ä¹¦ï¼Œç”¨äºéªŒè¯ SSL/TLS è¿æ¥å’Œå…¶ä»–å®‰å…¨é€šä¿¡ã€‚è¿™äº›æ ¹è¯ä¹¦ç”±å„ç§å—ä¿¡ä»»çš„è¯ä¹¦é¢å‘æœºæ„ï¼ˆCAï¼‰ç­¾å‘ï¼ŒåŒ…æ‹¬å¸¸è§çš„å…¬å…± CA å¦‚ VeriSignã€Thawteã€DigiCert ç­‰ã€‚ åœ¨ JDK 10 ä¸­ï¼Œæ ¹è¯ä¹¦åº“å¯èƒ½ä¼šæœ‰æ›´æ–°ï¼Œä»¥åæ˜ æœ€æ–°çš„æ ¹è¯ä¹¦é¢å‘æœºæ„å’Œä¿¡ä»»é“¾ã€‚ç”±äºæ ¹è¯ä¹¦åº“çš„å®‰å…¨æ€§è‡³å…³é‡è¦ï¼Œå› æ­¤ Oracle å…¬å¸ä¼šå®šæœŸæ›´æ–° JDK å‘å¸ƒç‰ˆæœ¬ä¸­çš„æ ¹è¯ä¹¦åº“ï¼Œä»¥ç¡®ä¿å…¶ä¸­åŒ…å«æœ€æ–°çš„æ ¹è¯ä¹¦ã€‚ å¯ä»¥ä½¿ç”¨ JDK æä¾›çš„ â€œkeytoolâ€ å·¥å…·æ¥æ‰§è¡Œä¸æ ¹è¯ä¹¦åº“ç›¸å…³çš„æ“ä½œï¼Œä¾‹å¦‚æŸ¥çœ‹è¯ä¹¦ã€æ·»åŠ æ–°çš„æ ¹è¯ä¹¦ã€åˆ é™¤æ ¹è¯ä¹¦ç­‰ã€‚è¿™å¯ä»¥ç”¨äºç®¡ç† JDK 10 ä¸­çš„æ ¹è¯ä¹¦åº“ï¼Œå¹¶ç¡®ä¿å…¶ä¸æœ€æ–°çš„è¯ä¹¦é¢å‘æœºæ„ä¿æŒåŒæ­¥ã€‚ éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œæ ¹è¯ä¹¦åº“çš„ç®¡ç†éœ€è¦è°¨æ…æ“ä½œï¼Œç¡®ä¿åªä¿¡ä»»å¯é å’Œå—ä¿¡ä»»çš„è¯ä¹¦é¢å‘æœºæ„ï¼Œå¹¶é¿å…æ“çºµæ ¹è¯ä¹¦åº“ä»¥é˜²æ­¢å®‰å…¨é£é™©ã€‚</p> 
<h3><a id="_JDK11__1267"></a>å›› JDK11 æ–°ç‰¹æ€§</h3> 
<p>å‚è€ƒå®˜ç½‘ï¼š<a href="https://link.juejin.cn/?target=https%3A%2F%2Fopenjdk.org%2Fprojects%2Fjdk%2F11%2F" rel="nofollow" title="https://openjdk.org/projects/jdk/11/">openjdk.org/projects/jdâ€¦</a></p> 
<pre><code>181: Nest-Based Access Control
181: åŸºäºåµŒå¥—çš„è®¿é—®æ§åˆ¶
309: Dynamic Class-File Constants
309: åŠ¨æ€ç±»æ–‡ä»¶å¸¸æ•°
315: Improve Aarch64 Intrinsics
315: æ”¹è¿› Aarch64å†…éƒ¨ç»“æ„
318: Epsilon: A No-Op Garbage Collector
318: Epsilon: ä¸€ä¸ªä¸å¯æ“ä½œçš„åƒåœ¾æ”¶é›†å™¨
320: Remove the Java EE and CORBA Modules
320: åˆ é™¤ JavaEE å’Œ CORBA æ¨¡å—
321: HTTP Client (Standard)
321: HTTP å®¢æˆ·ç«¯(æ ‡å‡†)
323: Local-Variable Syntax for Lambda Parameters
323: Lambda å‚æ•°çš„å±€éƒ¨å˜é‡è¯­æ³•
324: Key Agreement with Curve25519 and Curve448
324: ä¸ Curve25519å’Œ Curve448çš„å…³é”®åè®®
327: Unicode 10
328: Flight Recorder
328: é£è¡Œè®°å½•å™¨
329: ChaCha20 and Poly1305 Cryptographic Algorithms
329: ChaCha20å’Œ Poly1305å¯†ç ç®—æ³•
330: Launch Single-File Source-Code Programs
330: å¯åŠ¨å•æ–‡ä»¶æºä»£ç ç¨‹åº
331: Low-Overhead Heap Profiling
331: ä½å¼€é”€å †åˆ†æ
332: Transport Layer Security (TLS) 1.3
332: ä¼ è¾“å±‚å®‰å…¨(TLS)1.3
333: ZGC: A Scalable Low-Latency Garbage Collector
â€â€â€(Experimental)
333: ZGC: ä¸€ä¸ªå¯ä¼¸ç¼©çš„ä½å»¶è¿Ÿåƒåœ¾æ”¶é›†å™¨(å®éªŒ)
335: Deprecate the Nashorn JavaScript Engine
335: åºŸå¼ƒ Nashorn JavaScript å¼•æ“
336:
Deprecate the Pack200 Tools and APIåºŸå¼ƒ Pack200å·¥å…·å’Œ API
</code></pre> 
<h3><a id="41_Lambda__1308"></a>4.1 Lambda å‚æ•°çš„å±€éƒ¨å˜é‡è¯­æ³•</h3> 
<p>åœ¨JDK 11åŠæ›´é«˜ç‰ˆæœ¬ä¸­ï¼ŒLambdaè¡¨è¾¾å¼çš„å‚æ•°å¯ä»¥ä½¿ç”¨varå…³é”®å­—æ¥å£°æ˜å±€éƒ¨å˜é‡ã€‚ä½¿ç”¨varå…³é”®å­—å¯ä»¥è®©ç¼–è¯‘å™¨æ ¹æ®ä¸Šä¸‹æ–‡æ¨æ–­å‚æ•°çš„ç±»å‹ã€‚ä»¥ä¸‹æ˜¯Lambdaå‚æ•°çš„å±€éƒ¨å˜é‡è¯­æ³•ç¤ºä¾‹ï¼š</p> 
<pre><code>interface MyInterface {
    void myMethod(String name, int age);
}

public class Main {
    public static void main(String[] args) {
        MyInterface myLambda = (var name, var age) -&gt; {
            System.out.println("Name: " + name);
            System.out.println("Age: " + age);
        };
        
        myLambda.myMethod("John", 25);
    }
}
</code></pre> 
<p>åœ¨ä¸Šè¿°ç¤ºä¾‹ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨Lambdaè¡¨è¾¾å¼å®ç°äº†<code>MyInterface</code>æ¥å£çš„<code>myMethod</code>æ–¹æ³•ã€‚Lambdaè¡¨è¾¾å¼çš„å‚æ•°ä½¿ç”¨<code>var</code>å…³é”®å­—å£°æ˜ä¸ºå±€éƒ¨å˜é‡ã€‚ç¼–è¯‘å™¨ä¼šæ ¹æ®ä¸Šä¸‹æ–‡æ¨æ–­å‚æ•°çš„ç±»å‹ã€‚ è¯·æ³¨æ„ï¼ŒLambdaå‚æ•°çš„ç±»å‹æ¨æ–­åªé€‚ç”¨äºå±€éƒ¨å˜é‡ï¼Œè€Œä¸é€‚ç”¨äºæ–¹æ³•çš„å‚æ•°ç±»å‹ã€è¿”å›ç±»å‹æˆ–å­—æ®µç±»å‹ã€‚</p> 
<h3><a id="42_HTTP__1331"></a>4.2 HTTP å®¢æˆ·ç«¯ï¼ˆæ ‡å‡†ï¼‰</h3> 
<p>åœ¨JDK 11ä¸­ï¼Œå¼•å…¥äº†æ ‡å‡†çš„HTTPå®¢æˆ·ç«¯APIï¼Œç”¨äºå‘é€HTTPè¯·æ±‚å’Œå¤„ç†å“åº”ã€‚è¿™ä¸ªAPIæä¾›äº†ä¸€ç§åŸç”Ÿçš„æ–¹å¼æ¥è¿›è¡ŒHTTPé€šä¿¡ï¼Œä¸å†éœ€è¦ä½¿ç”¨ç¬¬ä¸‰æ–¹åº“ã€‚ä»¥ä¸‹æ˜¯ä¸€ä¸ªç®€å•çš„ç¤ºä¾‹ï¼š</p> 
<pre><code>import java.net.URI;
import java.net.http.HttpClient;
import java.net.http.HttpRequest;
import java.net.http.HttpResponse;
import java.util.concurrent.CompletableFuture;

public class HttpClientExample {
    public static void main(String[] args) throws Exception {
        // åˆ›å»ºHTTPå®¢æˆ·ç«¯
        HttpClient httpClient = HttpClient.newHttpClient();

        // åˆ›å»ºHTTPè¯·æ±‚
        HttpRequest httpRequest = HttpRequest.newBuilder()
                .uri(URI.create("https://api.example.com/data"))
                .build();

        // å‘é€HTTPè¯·æ±‚å¹¶å¼‚æ­¥è·å–å“åº”
        CompletableFuture&lt;HttpResponse&lt;String&gt;&gt; future = httpClient.sendAsync(httpRequest, HttpResponse.BodyHandlers.ofString());

        // å¤„ç†å“åº”
        future.thenAccept(response -&gt; {
            int statusCode = response.statusCode();
            String responseBody = response.body();
            System.out.println("Status code: " + statusCode);
            System.out.println("Response body: " + responseBody);
        });

        // ç­‰å¾…å¼‚æ­¥è¯·æ±‚å®Œæˆ
        future.join();
    }
}
</code></pre> 
<p>åœ¨ä¸Šè¿°ç¤ºä¾‹ä¸­ï¼Œæˆ‘ä»¬é¦–å…ˆåˆ›å»ºä¸€ä¸ª<code>HttpClient</code>å¯¹è±¡ï¼Œç„¶åæ„å»ºä¸€ä¸ª<code>HttpRequest</code>å¯¹è±¡ï¼ŒæŒ‡å®šè¯·æ±‚çš„URIã€‚æ¥ä¸‹æ¥ï¼Œä½¿ç”¨<code>sendAsync</code>æ–¹æ³•å‘é€å¼‚æ­¥è¯·æ±‚ï¼Œå¹¶æŒ‡å®šå“åº”çš„å¤„ç†æ–¹å¼ï¼ˆè¿™é‡Œä½¿ç”¨<code>HttpResponse.BodyHandlers.ofString()</code>å°†å“åº”ä½“è§£æä¸ºå­—ç¬¦ä¸²ï¼‰ã€‚ é€šè¿‡<code>CompletableFuture</code>çš„<code>thenAccept</code>æ–¹æ³•ï¼Œæˆ‘ä»¬å¯ä»¥å¤„ç†å¼‚æ­¥è¯·æ±‚å®Œæˆåçš„å“åº”ã€‚åœ¨å›è°ƒå‡½æ•°ä¸­ï¼Œæˆ‘ä»¬è·å–å“åº”çš„çŠ¶æ€ç å’Œå“åº”ä½“ï¼Œå¹¶è¿›è¡Œç›¸åº”çš„å¤„ç†ã€‚ æœ€åï¼Œæˆ‘ä»¬ä½¿ç”¨<code>future.join()</code>ç­‰å¾…å¼‚æ­¥è¯·æ±‚å®Œæˆã€‚æ³¨æ„ï¼Œæ­¤å¤„çš„å¼‚æ­¥è¯·æ±‚æ˜¯éé˜»å¡çš„ï¼Œå¯ä»¥ç»§ç»­æ‰§è¡Œå…¶ä»–æ“ä½œã€‚</p> 
<h3><a id="43__CollectiontoArray_1371"></a>4.3 æ–°çš„ Collection.toArray()</h3> 
<p>åœ¨JDK 11ä¸­ï¼Œ<code>Collection</code>æ¥å£æ–°å¢äº†ä¸€ä¸ªé‡è½½çš„<code>toArray</code>æ–¹æ³•ï¼Œç”¨äºå°†é›†åˆè½¬æ¢ä¸ºæ•°ç»„ã€‚è¯¥æ–¹æ³•çš„ç­¾åå¦‚ä¸‹ï¼š</p> 
<pre><code>default &lt;T&gt; T[] toArray(IntFunction&lt;T[]&gt; generator)
</code></pre> 
<p>è¿™ä¸ªæ–¹æ³•æ¥å—ä¸€ä¸ª<code>IntFunction&lt;T[]&gt;</code>ç±»å‹çš„å‚æ•°ï¼Œè¯¥å‚æ•°ç”¨äºæä¾›ä¸€ä¸ªç”ŸæˆæŒ‡å®šç±»å‹æ•°ç»„çš„å‡½æ•°ã€‚å‡½æ•°çš„è¾“å…¥å‚æ•°æ˜¯é›†åˆçš„å¤§å°ï¼Œè¾“å‡ºæ˜¯ä¸€ä¸ªæ–°çš„æ•°ç»„ã€‚ ä¸‹é¢æ˜¯ä¸€ä¸ªç¤ºä¾‹ä»£ç ï¼Œæ¼”ç¤ºå¦‚ä½•ä½¿ç”¨JDK 11ä¸­çš„<code>Collection.toArray</code>æ–¹æ³•ï¼š</p> 
<pre><code>import java.util.ArrayList;
import java.util.List;

public class CollectionToArrayExample {
    public static void main(String[] args) {
        List&lt;String&gt; list = new ArrayList&lt;&gt;();
        list.add("Java");
        list.add("Python");
        list.add("C++");

        // ä½¿ç”¨Collection.toArrayæ–¹æ³•è½¬æ¢ä¸ºæ•°ç»„
        String[] array = list.toArray(String[]::new);

        // æ‰“å°æ•°ç»„å…ƒç´ 
        for (String element : array) {
            System.out.println(element);
        }
    }
}
</code></pre> 
<p>åœ¨ä¸Šè¿°ç¤ºä¾‹ä¸­ï¼Œæˆ‘ä»¬åˆ›å»ºäº†ä¸€ä¸ª<code>ArrayList</code>å¯¹è±¡å¹¶å‘å…¶ä¸­æ·»åŠ ä¸€äº›å…ƒç´ ã€‚ç„¶åï¼Œæˆ‘ä»¬ä½¿ç”¨<code>toArray</code>æ–¹æ³•å°†<code>ArrayList</code>è½¬æ¢ä¸º<code>String</code>ç±»å‹çš„æ•°ç»„ã€‚æ³¨æ„åˆ°ï¼Œæˆ‘ä»¬ä½¿ç”¨äº†<code>String[]::new</code>ä½œä¸º<code>IntFunction</code>å‚æ•°ï¼Œè¿™æ ·å°±ä¼šç”Ÿæˆä¸€ä¸ªä¸é›†åˆå¤§å°ç›¸åŒçš„æ–°æ•°ç»„ã€‚ æœ€ç»ˆï¼Œæˆ‘ä»¬éå†æ•°ç»„å¹¶æ‰“å°æ¯ä¸ªå…ƒç´ ï¼Œè¿™ä¸ªæ–°çš„<code>toArray</code>æ–¹æ³•ç®€åŒ–äº†é›†åˆåˆ°æ•°ç»„çš„è½¬æ¢è¿‡ç¨‹ï¼Œå¹¶ä¸”é¿å…äº†ç±»å‹è½¬æ¢çš„éº»çƒ¦ã€‚</p> 
<h3><a id="44__1405"></a>4.4 æ–°çš„å­—ç¬¦ä¸²æ–¹æ³•</h3> 
<p>JDK 11å¼•å…¥äº†ä¸€äº›æ–°çš„å­—ç¬¦ä¸²æ–¹æ³•ï¼Œä»¥æä¾›æ›´æ–¹ä¾¿å’Œå¼ºå¤§çš„å­—ç¬¦ä¸²æ“ä½œåŠŸèƒ½ã€‚ä»¥ä¸‹æ˜¯ä¸€äº›JDK 11ä¸­æ–°å¢çš„å­—ç¬¦ä¸²æ–¹æ³•ï¼š</p> 
<ol start="0"><li><code>**String.isBlank()**</code>ï¼šè¯¥æ–¹æ³•ç”¨äºæ£€æŸ¥å­—ç¬¦ä¸²æ˜¯å¦ä¸ºç©ºç™½å­—ç¬¦ä¸²ã€‚å®ƒè¿”å›ä¸€ä¸ªå¸ƒå°”å€¼ï¼ŒæŒ‡ç¤ºå­—ç¬¦ä¸²æ˜¯å¦ä¸ºç©ºç™½ã€‚å¦‚æœå­—ç¬¦ä¸²æ˜¯ç©ºç™½å­—ç¬¦ä¸²ï¼ˆä»…ç”±ç©ºæ ¼ã€åˆ¶è¡¨ç¬¦ã€æ¢è¡Œç¬¦ç­‰å­—ç¬¦ç»„æˆï¼‰ï¼Œåˆ™è¿”å›<code>true</code>ï¼›å¦åˆ™è¿”å›<code>false</code>ã€‚</li><li><code>**String.strip()**</code>ï¼šè¯¥æ–¹æ³•ç”¨äºå»é™¤å­—ç¬¦ä¸²çš„é¦–å°¾ç©ºç™½å­—ç¬¦ã€‚å®ƒè¿”å›ä¸€ä¸ªæ–°çš„å­—ç¬¦ä¸²ï¼Œå…¶ä¸­å»é™¤äº†åŸå§‹å­—ç¬¦ä¸²çš„é¦–å°¾ç©ºç™½å­—ç¬¦ã€‚ä¸<code>trim()</code>æ–¹æ³•ä¸åŒçš„æ˜¯ï¼Œ<code>strip()</code>æ–¹æ³•å¯ä»¥æ­£ç¡®å¤„ç†Unicodeç©ºç™½å­—ç¬¦ã€‚</li><li><code>**String.stripLeading()**</code><strong>å’Œ</strong><code>**String.stripTrailing()**</code>ï¼šè¿™ä¸¤ä¸ªæ–¹æ³•åˆ†åˆ«ç”¨äºå»é™¤å­—ç¬¦ä¸²çš„å‰å¯¼ç©ºç™½å­—ç¬¦å’Œå°¾éšç©ºç™½å­—ç¬¦ã€‚å®ƒä»¬è¿”å›ä¸€ä¸ªæ–°çš„å­—ç¬¦ä¸²ï¼Œå…¶ä¸­å»é™¤äº†åŸå§‹å­—ç¬¦ä¸²çš„å‰å¯¼æˆ–å°¾éšç©ºç™½å­—ç¬¦ã€‚</li><li><code>**String.lines()**</code>ï¼šè¯¥æ–¹æ³•è¿”å›ä¸€ä¸ªåŒ…å«å­—ç¬¦ä¸²ä¸­æ‰€æœ‰è¡Œçš„<code>Stream</code>ã€‚å®ƒæ ¹æ®è¡Œç»ˆæ­¢ç¬¦å°†å­—ç¬¦ä¸²æ‹†åˆ†æˆå¤šä¸ªè¡Œï¼Œå¹¶è¿”å›ä¸€ä¸ª<code>Stream</code>ï¼Œæ¯ä¸ªå…ƒç´ ä»£è¡¨ä¸€è¡Œã€‚</li><li><code>**String.repeat(int count)**</code>ï¼šè¯¥æ–¹æ³•ç”¨äºé‡å¤å­—ç¬¦ä¸²æŒ‡å®šæ¬¡æ•°ï¼Œå¹¶è¿”å›ä¸€ä¸ªæ–°çš„å­—ç¬¦ä¸²ã€‚å®ƒæ¥å—ä¸€ä¸ªæ•´æ•°å‚æ•°<code>count</code>ï¼ŒæŒ‡å®šè¦é‡å¤çš„æ¬¡æ•°ã€‚</li></ol> 
<p>è¿™äº›æ–¹æ³•éƒ½æ˜¯åœ¨<code>java.lang.String</code>ç±»ä¸­æ–°å¢çš„ï¼Œå¯ä»¥ç›´æ¥åœ¨å­—ç¬¦ä¸²å¯¹è±¡ä¸Šè°ƒç”¨ã€‚å®ƒä»¬æä¾›äº†æ›´ç›´è§‚å’Œæ–¹ä¾¿çš„å­—ç¬¦ä¸²æ“ä½œï¼Œç®€åŒ–äº†å¯¹å­—ç¬¦ä¸²çš„å¤„ç†å’Œè½¬æ¢ã€‚è¯·æ³¨æ„ï¼Œè¿™äº›æ–¹æ³•åœ¨JDK 11åŠæ›´é«˜ç‰ˆæœ¬ä¸­å¯ç”¨ã€‚</p> 
<h3><a id="45__1417"></a>4.5 æ–°çš„æ–‡ä»¶æ–¹æ³•</h3> 
<p>JDK 11å¼•å…¥äº†ä¸€äº›æ–°çš„æ–‡ä»¶æ–¹æ³•ï¼Œä»¥æä¾›æ›´ä¾¿æ·å’Œå¼ºå¤§çš„æ–‡ä»¶æ“ä½œåŠŸèƒ½ã€‚ä»¥ä¸‹æ˜¯ä¸€äº›JDK 11ä¸­æ–°å¢çš„æ–‡ä»¶æ–¹æ³•ï¼š</p> 
<ol start="0"><li><code>**Files.writeString()**</code>ï¼šè¯¥æ–¹æ³•ç”¨äºå°†å­—ç¬¦ä¸²å†™å…¥æ–‡ä»¶ã€‚å®ƒæ¥å—ä¸€ä¸ªæ–‡ä»¶è·¯å¾„å’Œè¦å†™å…¥çš„å­—ç¬¦ä¸²ï¼Œå¯ä»¥æŒ‡å®šç¼–ç æ ¼å¼å’Œå¯é€‰çš„æ–‡ä»¶é€‰é¡¹ã€‚å¦‚æœæ–‡ä»¶ä¸å­˜åœ¨ï¼Œåˆ™åˆ›å»ºæ–°æ–‡ä»¶ï¼›å¦‚æœæ–‡ä»¶å·²å­˜åœ¨ï¼Œåˆ™è¦†ç›–åŸæœ‰å†…å®¹ã€‚</li><li><code>**Files.readString()**</code>ï¼šè¯¥æ–¹æ³•ç”¨äºè¯»å–æ–‡ä»¶å†…å®¹å¹¶ä»¥å­—ç¬¦ä¸²å½¢å¼è¿”å›ã€‚å®ƒæ¥å—ä¸€ä¸ªæ–‡ä»¶è·¯å¾„ï¼Œå¯ä»¥æŒ‡å®šç¼–ç æ ¼å¼å’Œå¯é€‰çš„æ–‡ä»¶é€‰é¡¹ã€‚</li><li><code>**Files.writeStringList()**</code>ï¼šè¯¥æ–¹æ³•ç”¨äºå°†å­—ç¬¦ä¸²åˆ—è¡¨é€è¡Œå†™å…¥æ–‡ä»¶ã€‚å®ƒæ¥å—ä¸€ä¸ªæ–‡ä»¶è·¯å¾„å’Œå­—ç¬¦ä¸²åˆ—è¡¨ï¼Œå¯ä»¥æŒ‡å®šç¼–ç æ ¼å¼å’Œå¯é€‰çš„æ–‡ä»¶é€‰é¡¹ã€‚</li><li><code>**Files.readStringList()**</code>ï¼šè¯¥æ–¹æ³•ç”¨äºé€è¡Œè¯»å–æ–‡ä»¶å†…å®¹ï¼Œå¹¶ä»¥å­—ç¬¦ä¸²åˆ—è¡¨çš„å½¢å¼è¿”å›ã€‚å®ƒæ¥å—ä¸€ä¸ªæ–‡ä»¶è·¯å¾„ï¼Œå¯ä»¥æŒ‡å®šç¼–ç æ ¼å¼å’Œå¯é€‰çš„æ–‡ä»¶é€‰é¡¹ã€‚</li><li><code>**Files.mismatch()**</code>ï¼šè¯¥æ–¹æ³•ç”¨äºæ¯”è¾ƒä¸¤ä¸ªæ–‡ä»¶çš„å†…å®¹ã€‚å®ƒæ¥å—ä¸¤ä¸ªæ–‡ä»¶è·¯å¾„ï¼Œå¹¶è¿”å›ç¬¬ä¸€ä¸ªä¸åŒ¹é…çš„å­—èŠ‚çš„ä½ç½®ã€‚å¦‚æœæ–‡ä»¶å®Œå…¨ç›¸åŒï¼Œåˆ™è¿”å›-1ã€‚</li></ol> 
<p>è¿™äº›æ–¹æ³•éƒ½æ˜¯åœ¨<code>java.nio.file.Files</code>ç±»ä¸­æ–°å¢çš„ï¼Œç”¨äºå¤„ç†æ–‡ä»¶çš„è¯»å†™å’Œæ¯”è¾ƒæ“ä½œã€‚å®ƒä»¬æä¾›äº†æ›´ä¾¿æ·å’Œé«˜æ•ˆçš„æ–¹å¼æ¥æ“ä½œæ–‡ä»¶å†…å®¹ã€‚ ä»¥ä¸‹æ˜¯ä¸€ä¸ªç¤ºä¾‹ä»£ç ï¼Œæ¼”ç¤ºå¦‚ä½•ä½¿ç”¨JDK 11çš„æ–°æ–‡ä»¶æ–¹æ³•è¯»å–å’Œå†™å…¥æ–‡ä»¶ï¼š</p> 
<pre><code>import java.nio.file.Files;
import java.nio.file.Path;
import java.nio.file.StandardOpenOption;
import java.util.List;

public class FileOperations {
    public static void main(String[] args) throws Exception {
        String filePath = "example.txt";

        // å†™å…¥æ–‡ä»¶
        String content = "Hello, world!";
        Files.writeString(Path.of(filePath), content);

        // è¯»å–æ–‡ä»¶
        String fileContent = Files.readString(Path.of(filePath));
        System.out.println("æ–‡ä»¶å†…å®¹ï¼š\n" + fileContent);

        // é€è¡Œå†™å…¥æ–‡ä»¶
        List&lt;String&gt; lines = List.of("Line 1", "Line 2", "Line 3");
        Files.writeStringList(Path.of(filePath), lines, StandardOpenOption.APPEND);

        // é€è¡Œè¯»å–æ–‡ä»¶
        List&lt;String&gt; fileLines = Files.readStringList(Path.of(filePath));
        System.out.println("æ–‡ä»¶è¡Œæ•°ï¼š" + fileLines.size());
        System.out.println("æ–‡ä»¶å†…å®¹ï¼š");
        for (String line : fileLines) {
            System.out.println(line);
        }
    }
}
</code></pre> 
<p>åœ¨ä¸Šè¿°ç¤ºä¾‹ä¸­ï¼Œæˆ‘ä»¬é¦–å…ˆä½¿ç”¨<code>Files.writeString</code>æ–¹æ³•å°†å­—ç¬¦ä¸²å†™å…¥æ–‡ä»¶ã€‚ç„¶åä½¿ç”¨<code>Files.readString</code>æ–¹æ³•è¯»å–æ–‡ä»¶å†…å®¹ï¼Œå¹¶æ‰“å°åˆ°æ§åˆ¶å°ã€‚ æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬ä½¿ç”¨<code>Files.writeStringList</code>æ–¹æ³•é€è¡Œå†™å…¥å­—ç¬¦ä¸²åˆ—è¡¨åˆ°æ–‡ä»¶ã€‚ç„¶åä½¿ç”¨<code>Files.readStringList</code>æ–¹æ³•é€è¡Œè¯»å–æ–‡ä»¶å†…å®¹ï¼Œå¹¶æ‰“å°åˆ°æ§åˆ¶å°ã€‚</p> 
<h3><a id="46__1464"></a>4.6 ä¸€ä¸ªæ— æ“ä½œåƒåœ¾æ”¶é›†å™¨</h3> 
<p>JDK 11å¼•å…¥äº†ä¸€ä¸ªåä¸º"ZGC"ï¼ˆZ Garbage Collectorï¼‰çš„æ–°çš„åƒåœ¾æ”¶é›†å™¨ï¼Œå®ƒè¢«è®¾è®¡ä¸ºä¸€ç§æ— æ“ä½œåƒåœ¾æ”¶é›†å™¨ã€‚è¿™æ„å‘³ç€å®ƒåœ¨å¤§éƒ¨åˆ†æƒ…å†µä¸‹å‡ ä¹ä¸ä¼šå¯¹åº”ç”¨ç¨‹åºçš„æ‰§è¡Œé€ æˆæ˜æ˜¾çš„åœé¡¿ ZGCæ˜¯ä¸€ç§ä½å»¶è¿Ÿçš„åƒåœ¾æ”¶é›†å™¨ï¼Œæ—¨åœ¨å®ç°éå¸¸çŸ­æš‚çš„åœé¡¿æ—¶é—´ã€‚å®ƒçš„ç›®æ ‡æ˜¯ä¿æŒæœ€å¤§15æ¯«ç§’çš„åœé¡¿æ—¶é—´ï¼Œå¹¶é™åˆ¶ä¸è¶…è¿‡10%çš„ååé‡æŸå¤±ã€‚è¿™ä½¿å¾—ZGCé€‚åˆé‚£äº›å¯¹ä½å»¶è¿Ÿå’Œé«˜ååé‡è¦æ±‚éƒ½å¾ˆé«˜çš„åº”ç”¨ç¨‹åºã€‚ ZGCä½¿ç”¨äº†ä¸€äº›åˆ›æ–°çš„æŠ€æœ¯æ¥å®ç°å…¶ç›®æ ‡ã€‚å®ƒä½¿ç”¨äº†ä¸€ç§ç§°ä¸º"Region"çš„å†…å­˜å¸ƒå±€ï¼Œå°†å †å†…å­˜åˆ’åˆ†ä¸ºä¸€ç³»åˆ—å¤§å°å›ºå®šçš„åŒºåŸŸï¼Œä½¿å¾—åƒåœ¾æ”¶é›†å¯ä»¥åœ¨ä¸åœæ­¢æ•´ä¸ªåº”ç”¨ç¨‹åºçš„æƒ…å†µä¸‹å¹¶å‘è¿›è¡Œã€‚æ­¤å¤–ï¼ŒZGCè¿˜ä½¿ç”¨äº†å†™å±éšœæŠ€æœ¯æ¥è·Ÿè¸ªå¯¹è±¡çš„å¼•ç”¨å˜åŒ–ï¼Œå¹¶åœ¨åå°å¤„ç†æœªè®¿é—®çš„å¯¹è±¡ã€‚ éœ€è¦æ³¨æ„çš„æ˜¯ï¼ŒZGCåœ¨JDK 11ä¸­è¢«æ ‡è®°ä¸ºå®éªŒæ€§ç‰¹æ€§ï¼Œå¹¶ä¸”é»˜è®¤æƒ…å†µä¸‹å¹¶ä¸å¯ç”¨ã€‚è¦ä½¿ç”¨ZGCæ”¶é›†å™¨ï¼Œéœ€è¦é€šè¿‡JVMå‚æ•°æ˜¾å¼åœ°å¯ç”¨ã€‚å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‚æ•°å¯ç”¨ZGCæ”¶é›†å™¨ï¼š</p> 
<pre><code>-XX:+UseZGC
</code></pre> 
<p>ä½¿ç”¨ZGCæ”¶é›†å™¨çš„ç¤ºä¾‹å¦‚ä¸‹ï¼š</p> 
<pre><code>public class ZGCExample {
    public static void main(String[] args) {
        // è®¾ç½®ZGCä½œä¸ºåƒåœ¾æ”¶é›†å™¨
        System.setProperty("java.vm.useZGC", "true");

        // åº”ç”¨ç¨‹åºä»£ç ...
    }
}
</code></pre> 
<p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼ŒZGCä»…é€‚ç”¨äºæ”¯æŒ64ä½æ“ä½œç³»ç»Ÿå’Œ64ä½JVMçš„å¹³å°ã€‚å¹¶ä¸”åœ¨æŸäº›æƒ…å†µä¸‹ï¼Œå®ƒå¯èƒ½ä¸ä¸€äº›JVMé€‰é¡¹ä¸å…¼å®¹ï¼Œä¾‹å¦‚å¯ç”¨äº†æŸäº›ç‰¹å®šçš„å®éªŒæ€§ç‰¹æ€§ã€‚</p> 
<h3><a id="47__1487"></a>4.7 å¯åŠ¨å•æ–‡ä»¶æºä»£ç ç¨‹åº</h3> 
<p>JDK 11å¼•å…¥äº†ä¸€é¡¹æ–°åŠŸèƒ½ï¼Œå…è®¸ç›´æ¥å¯åŠ¨å•ä¸ªæºä»£ç æ–‡ä»¶è€Œæ— éœ€å…ˆå°†å…¶ç¼–è¯‘ä¸ºå­—èŠ‚ç æ–‡ä»¶ã€‚è¿™ä¸ªåŠŸèƒ½ç§°ä¸º"å•æ–‡ä»¶æºä»£ç ç¨‹åº"ï¼ˆSingle-File Source-Code Programsï¼‰ã€‚ è¦åœ¨JDK 11ä¸­å¯åŠ¨å•æ–‡ä»¶æºä»£ç ç¨‹åºï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤ï¼š</p> 
<pre><code>java &lt;options&gt; &lt;source-file&gt;.java
</code></pre> 
<p>å…¶ä¸­ï¼Œ<code>&lt;options&gt;</code>æ˜¯å¯é€‰çš„JVMé€‰é¡¹ï¼Œ<code>&lt;source-file&gt;.java</code>æ˜¯è¦æ‰§è¡Œçš„æºä»£ç æ–‡ä»¶ã€‚ ä»¥ä¸‹æ˜¯ä¸€ä¸ªç¤ºä¾‹ï¼Œæ¼”ç¤ºå¦‚ä½•ä½¿ç”¨JDK 11å¯åŠ¨å•æ–‡ä»¶æºä»£ç ç¨‹åºï¼š</p> 
<pre><code>public class HelloWorld {
    public static void main(String[] args) {
        System.out.println("Hello, World!");
    }
}
</code></pre> 
<p>ä¿å­˜ä¸Šè¿°ä»£ç ä¸º<code>HelloWorld.java</code>æ–‡ä»¶ã€‚ ç„¶åï¼Œé€šè¿‡ä»¥ä¸‹å‘½ä»¤è¿è¡Œè¯¥æºä»£ç æ–‡ä»¶ï¼š</p> 
<pre><code>java HelloWorld.java
</code></pre> 
<p>æ³¨æ„ï¼Œåœ¨æ‰§è¡Œå•æ–‡ä»¶æºä»£ç ç¨‹åºæ—¶ï¼ŒJDK 11ä¼šåœ¨å†…éƒ¨å°†æºä»£ç æ–‡ä»¶ç¼–è¯‘ä¸ºå­—èŠ‚ç ï¼Œå¹¶åœ¨è¿è¡Œæ—¶æ‰§è¡Œã€‚è¿™ä½¿å¾—æˆ‘ä»¬èƒ½å¤Ÿæ›´æ–¹ä¾¿åœ°è¿è¡Œå’Œæµ‹è¯•ç®€å•çš„Javaç¨‹åºï¼Œè€Œæ— éœ€äº‹å…ˆç¼–è¯‘ä¸º.classæ–‡ä»¶ã€‚ éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå•æ–‡ä»¶æºä»£ç ç¨‹åºä¸»è¦é€‚ç”¨äºç®€å•çš„å°å‹ç¨‹åºæˆ–æµ‹è¯•ç›®çš„ã€‚å¯¹äºå¤æ‚çš„é¡¹ç›®ï¼Œä»ç„¶å»ºè®®å°†æºä»£ç ç¼–è¯‘ä¸ºå­—èŠ‚ç æ–‡ä»¶ï¼Œå¹¶ä½¿ç”¨ä¼ ç»Ÿçš„æ–¹å¼æ‰§è¡Œã€‚</p> 
<h3><a id="48__1513"></a>4.8 åŸºäºåµŒå¥—çš„è®¿é—®æ§åˆ¶</h3> 
<p>JDK 11å¼•å…¥äº†ä¸€é¡¹æ–°çš„è¯­è¨€ç‰¹æ€§ï¼Œå³åŸºäºåµŒå¥—çš„è®¿é—®æ§åˆ¶ï¼ˆNested Access Controlï¼‰ã€‚è¿™ä¸ªç‰¹æ€§æ—¨åœ¨æä¾›æ›´ç»†ç²’åº¦çš„è®¿é—®æ§åˆ¶æœºåˆ¶ï¼Œä»¥ä¿æŠ¤ç±»çš„å†…éƒ¨ç»“æ„ï¼Œå¹¶æ›´å¥½åœ°æ”¯æŒæ¨¡å—åŒ–å¼€å‘ã€‚ åœ¨ä¼ ç»Ÿçš„Javaè®¿é—®æ§åˆ¶ä¸­ï¼Œç±»çš„æˆå‘˜ï¼ˆå­—æ®µã€æ–¹æ³•ã€å†…éƒ¨ç±»ç­‰ï¼‰å¯ä»¥è¢«å£°æ˜ä¸º<code>public</code>ã€<code>protected</code>ã€<code>private</code>æˆ–é»˜è®¤ï¼ˆä¸å†™è®¿é—®ä¿®é¥°ç¬¦ï¼‰ã€‚è¿™äº›ä¿®é¥°ç¬¦æ§åˆ¶ç€ç±»çš„æˆå‘˜åœ¨ä¸åŒä¸Šä¸‹æ–‡ä¸­çš„å¯è§æ€§ã€‚ è€ŒåŸºäºåµŒå¥—çš„è®¿é—®æ§åˆ¶å¼•å…¥äº†ä¸¤ä¸ªæ–°çš„è®¿é—®ä¿®é¥°ç¬¦ï¼š<code>private</code>å’Œ<code>protected</code>çš„åµŒå¥—å½¢å¼ã€‚è¿™äº›ä¿®é¥°ç¬¦ç”¨äºé™åˆ¶å¯¹åµŒå¥—ç±»çš„è®¿é—®ï¼Œä½¿å¾—åªæœ‰ç‰¹å®šçš„å¤–éƒ¨ç±»å¯ä»¥è®¿é—®å…¶åµŒå¥—ç±»çš„æˆå‘˜ã€‚ å…·ä½“è€Œè¨€ï¼Œä»¥ä¸‹æ˜¯åŸºäºåµŒå¥—çš„è®¿é—®æ§åˆ¶ä¿®é¥°ç¬¦çš„è§„åˆ™ï¼š</p> 
<ol start="0"><li><code>**private**</code><strong>çš„åµŒå¥—å½¢å¼</strong>ï¼ˆprivate nestedï¼‰ï¼šå†…éƒ¨ç±»å£°æ˜ä¸º<code>private</code>çš„åµŒå¥—å½¢å¼æ—¶ï¼Œåªæœ‰å¤–éƒ¨ç±»å¯ä»¥è®¿é—®è¯¥åµŒå¥—ç±»ã€‚</li><li><code>**protected**</code><strong>çš„åµŒå¥—å½¢å¼</strong>ï¼ˆprotected nestedï¼‰ï¼šå†…éƒ¨ç±»å£°æ˜ä¸º<code>protected</code>çš„åµŒå¥—å½¢å¼æ—¶ï¼Œåªæœ‰å¤–éƒ¨ç±»åŠå…¶å­ç±»å¯ä»¥è®¿é—®è¯¥åµŒå¥—ç±»ã€‚</li></ol> 
<p>è¿™äº›æ–°çš„è®¿é—®ä¿®é¥°ç¬¦å¯¹äºæ¨¡å—åŒ–å¼€å‘éå¸¸æœ‰ç”¨ï¼Œå¯ä»¥æ›´å¥½åœ°å°è£…ç±»çš„å†…éƒ¨ç»“æ„ï¼Œé¿å…ä¸å¿…è¦çš„è®¿é—®å’Œä¾èµ–å…³ç³»ã€‚ ä»¥ä¸‹æ˜¯ä¸€ä¸ªç¤ºä¾‹ï¼Œå±•ç¤ºäº†åŸºäºåµŒå¥—çš„è®¿é—®æ§åˆ¶çš„ä½¿ç”¨ï¼š</p> 
<pre><code>public class OuterClass {
    private int privateField;

    private static class PrivateNestedClass {
        private void privateMethod() {
            OuterClass outer = new OuterClass();
            outer.privateField = 10;
        }
    }

    protected static class ProtectedNestedClass {
        protected void protectedMethod() {
            OuterClass outer = new OuterClass();
            outer.privateField = 20;
        }
    }

    public static void main(String[] args) {
        PrivateNestedClass privateNested = new PrivateNestedClass();
        privateNested.privateMethod();

        ProtectedNestedClass protectedNested = new ProtectedNestedClass();
        protectedNested.protectedMethod();
    }
}
</code></pre> 
<p>åœ¨ä¸Šè¿°ç¤ºä¾‹ä¸­ï¼Œ<code>PrivateNestedClass</code>æ˜¯ä¸€ä¸ªç§æœ‰çš„åµŒå¥—ç±»ï¼Œåªæœ‰<code>OuterClass</code>å†…éƒ¨å¯ä»¥è®¿é—®å®ƒã€‚<code>ProtectedNestedClass</code>æ˜¯ä¸€ä¸ªå—ä¿æŠ¤çš„åµŒå¥—ç±»ï¼Œåªæœ‰<code>OuterClass</code>åŠå…¶å­ç±»å¯ä»¥è®¿é—®å®ƒã€‚ åœ¨<code>main</code>æ–¹æ³•ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥å®ä¾‹åŒ–å¹¶è°ƒç”¨è¿™äº›åµŒå¥—ç±»çš„æ–¹æ³•ï¼Œå› ä¸ºå®ƒä»¬çš„è®¿é—®é™åˆ¶åœ¨å…¶å£°æ˜çš„ä¸Šä¸‹æ–‡ä¸­æ˜¯æœ‰æ•ˆçš„ã€‚ éœ€è¦æ³¨æ„çš„æ˜¯ï¼ŒåŸºäºåµŒå¥—çš„è®¿é—®æ§åˆ¶ä¿®é¥°ç¬¦åªé€‚ç”¨äºåµŒå¥—ç±»ï¼Œè€Œä¸é€‚ç”¨äºé¡¶çº§ç±»ï¼ˆå³æ²¡æœ‰å¤–éƒ¨ç±»çš„ç±»ï¼‰ã€‚æ­¤å¤–ï¼Œä»ç„¶å¯ä»¥ä½¿ç”¨ä¼ ç»Ÿçš„è®¿é—®ä¿®é¥°ç¬¦ï¼ˆ<code>public</code>ã€<code>protected</code>ã€<code>private</code>å’Œé»˜è®¤ï¼‰æ¥æ§åˆ¶é¡¶çº§ç±»çš„è®¿é—®æ€§ã€‚</p> 
<h3><a id="49_Java__1552"></a>4.9 Java é£è¡Œè®°å½•å™¨</h3> 
<p>JDK 11å¼•å…¥äº†ä¸€ä¸ªåä¸º"Javaé£è¡Œè®°å½•å™¨"ï¼ˆJava Flight Recorderï¼ŒJFRï¼‰çš„åŠŸèƒ½ï¼Œå®ƒæ˜¯ä¸€ä¸ªäº‹ä»¶è®°å½•å’Œåˆ†æå¼•æ“ï¼Œç”¨äºåœ¨è¿è¡Œæ—¶æ”¶é›†å’Œåˆ†æJavaåº”ç”¨ç¨‹åºçš„è¿è¡Œæ•°æ®ã€‚ Javaé£è¡Œè®°å½•å™¨å¯ä»¥æ•è·å„ç§äº‹ä»¶ï¼ŒåŒ…æ‹¬æ–¹æ³•è°ƒç”¨ã€åƒåœ¾æ”¶é›†ã€çº¿ç¨‹æ´»åŠ¨ã€I/Oæ“ä½œç­‰ã€‚å®ƒè¿˜å¯ä»¥æ”¶é›†å„ç§åº¦é‡æŒ‡æ ‡ï¼Œå¦‚CPUä½¿ç”¨ç‡ã€å†…å­˜ä½¿ç”¨é‡ã€çº¿ç¨‹æ•°é‡ç­‰ã€‚è¿™äº›äº‹ä»¶å’Œåº¦é‡æŒ‡æ ‡å¯ä»¥ç”¨äºåˆ†æå’Œä¼˜åŒ–åº”ç”¨ç¨‹åºçš„æ€§èƒ½ã€è¯Šæ–­é—®é¢˜å’Œè¿›è¡Œæ•…éšœæ’é™¤ã€‚ ä½¿ç”¨Javaé£è¡Œè®°å½•å™¨éœ€è¦ä»¥ä¸‹æ­¥éª¤ï¼š</p> 
<ol start="0"><li><strong>å¯ç”¨Javaé£è¡Œè®°å½•å™¨</strong>ï¼šè¦ä½¿ç”¨Javaé£è¡Œè®°å½•å™¨ï¼Œé¦–å…ˆéœ€è¦åœ¨JVMå‚æ•°ä¸­å¯ç”¨å®ƒã€‚å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‚æ•°å¯ç”¨JFRï¼š</li></ol> 
<pre><code>-XX:+UnlockCommercialFeatures -XX:+FlightRecorder
</code></pre> 
<p>æ³¨æ„ï¼ŒJavaé£è¡Œè®°å½•å™¨å±äºå•†ä¸šç‰¹æ€§ï¼Œåœ¨æŸäº›Javaå‘è¡Œç‰ˆä¸­å¯èƒ½éœ€è¦é€‚å½“çš„è®¸å¯è¯ã€‚</p> 
<ol start="2"><li><strong>é…ç½®å’Œå¯åŠ¨é£è¡Œè®°å½•å™¨</strong>ï¼šä¸€æ—¦å¯ç”¨äº†Javaé£è¡Œè®°å½•å™¨ï¼Œä½ å¯ä»¥ä½¿ç”¨å‘½ä»¤è¡Œå·¥å…·ï¼ˆå¦‚<code>jcmd</code>ã€<code>jfr</code>ï¼‰æˆ–ç¼–ç¨‹æ–¹å¼æ¥é…ç½®å’Œå¯åŠ¨é£è¡Œè®°å½•å™¨ã€‚ä½ å¯ä»¥æŒ‡å®šè¦è®°å½•çš„äº‹ä»¶ç±»å‹ã€æŒç»­æ—¶é—´ç­‰ã€‚</li><li><strong>æ”¶é›†å’Œåˆ†æè®°å½•æ•°æ®</strong>ï¼šåœ¨åº”ç”¨ç¨‹åºè¿è¡ŒæœŸé—´ï¼ŒJavaé£è¡Œè®°å½•å™¨å°†ä¼šæ”¶é›†æŒ‡å®šçš„äº‹ä»¶å’Œåº¦é‡æŒ‡æ ‡ã€‚æ”¶é›†çš„æ•°æ®å¯ä»¥ä¿å­˜åˆ°æ–‡ä»¶ä¸­ã€‚ç„¶åï¼Œä½ å¯ä»¥ä½¿ç”¨Java Mission Controlï¼ˆJMCï¼‰æˆ–å…¶ä»–å·¥å…·æ¥åŠ è½½å’Œåˆ†æè¿™äº›è®°å½•æ–‡ä»¶ï¼Œä»¥è·å¾—æœ‰å…³åº”ç”¨ç¨‹åºæ€§èƒ½å’Œè¡Œä¸ºçš„è¯¦ç»†ä¿¡æ¯ã€‚</li></ol> 
<p>Javaé£è¡Œè®°å½•å™¨æä¾›äº†å¼ºå¤§çš„æ€§èƒ½åˆ†æå’Œæ•…éšœæ’é™¤èƒ½åŠ›ï¼Œèƒ½å¤Ÿå¸®åŠ©å¼€å‘äººå‘˜è¯†åˆ«å’Œè§£å†³åº”ç”¨ç¨‹åºä¸­çš„æ€§èƒ½é—®é¢˜å’Œå¼‚å¸¸æƒ…å†µã€‚å®ƒæ˜¯JDK 11ä¸­ä¸€ä¸ªé‡è¦çš„è°ƒè¯•å’Œä¼˜åŒ–å·¥å…·ã€‚</p> 
<h3><a id="410__1569"></a>4.10 ä½å¼€é”€çš„å †åˆ†æ</h3> 
<p>åœ¨JDK 11ä¸­ï¼Œå¼•å…¥äº†ä¸€é¡¹åä¸º"ä½å¼€é”€çš„å †åˆ†æ"ï¼ˆLow Overhead Heap Profilingï¼‰çš„åŠŸèƒ½ï¼Œå®ƒå…è®¸åœ¨åº”ç”¨ç¨‹åºè¿è¡Œæ—¶æ”¶é›†å †åˆ†ææ•°æ®ï¼Œä»¥ä¾¿æ›´å¥½åœ°ç†è§£å’Œè°ƒè¯•å†…å­˜ä½¿ç”¨æƒ…å†µã€‚ ä¼ ç»Ÿçš„å †åˆ†æå·¥å…·é€šå¸¸ä¼šå¯¹åº”ç”¨ç¨‹åºçš„å†…å­˜è¿›è¡Œå…¨é¢çš„å¿«ç…§ï¼Œä»¥è·å–è¯¦ç»†çš„å¯¹è±¡åˆ†é…å’Œå¼•ç”¨å…³ç³»ä¿¡æ¯ã€‚ç„¶è€Œï¼Œè¿™ç§å…¨é¢çš„å †å¿«ç…§æ”¶é›†è¿‡ç¨‹å¯èƒ½ä¼šå¯¹åº”ç”¨ç¨‹åºçš„æ€§èƒ½äº§ç”Ÿè¾ƒå¤§çš„å¼€é”€ï¼Œç‰¹åˆ«æ˜¯åœ¨å¤§å‹åº”ç”¨ç¨‹åºä¸­ã€‚ ä½å¼€é”€çš„å †åˆ†æé€šè¿‡å‡å°‘é‡‡æ ·é¢‘ç‡å’Œè®°å½•ç²’åº¦ï¼Œä»¥åŠä½¿ç”¨ä¸€äº›æŠ€æœ¯æ‰‹æ®µæ¥å‡å°‘å¼€é”€ï¼Œä»è€Œæä¾›äº†ä¸€ç§æ›´è½»é‡çº§çš„å †åˆ†ææ–¹æ³•ã€‚å®ƒå¯ä»¥åœ¨åº”ç”¨ç¨‹åºè¿è¡Œæ—¶è¿›è¡Œå †åˆ†æï¼Œå¯¹å†…å­˜ä½¿ç”¨æƒ…å†µè¿›è¡Œé‡‡æ ·ï¼Œå¹¶ç”Ÿæˆå †åˆ†ææŠ¥å‘Šã€‚ è¦ä½¿ç”¨ä½å¼€é”€çš„å †åˆ†æåŠŸèƒ½ï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹JVMå‚æ•°ï¼š</p> 
<pre><code>-XX:StartFlightRecording=heap=low
</code></pre> 
<p>è¿™å°†å¯ç”¨ä½å¼€é”€çš„å †åˆ†æï¼Œå¹¶å°†å †åˆ†ææ•°æ®è®°å½•åˆ°é»˜è®¤çš„JFRæ–‡ä»¶ä¸­ã€‚ ç„¶åï¼Œå¯ä»¥ä½¿ç”¨Java Mission Controlï¼ˆJMCï¼‰æˆ–å…¶ä»–JFRåˆ†æå·¥å…·åŠ è½½å’Œåˆ†æç”Ÿæˆçš„JFRæ–‡ä»¶ï¼Œä»¥è·å¾—æœ‰å…³åº”ç”¨ç¨‹åºå†…å­˜ä½¿ç”¨çš„è¯¦ç»†ä¿¡æ¯ã€‚JFRåˆ†æå·¥å…·æä¾›äº†å †åˆ†é…çƒ­ç‚¹ã€å¯¹è±¡åˆ†å¸ƒã€å¯¹è±¡ç”Ÿå‘½å‘¨æœŸç­‰ä¿¡æ¯ï¼Œå¸®åŠ©å¼€å‘äººå‘˜è¯†åˆ«å†…å­˜æ³„æ¼ã€è¿‡åº¦åˆ†é…å’Œå…¶ä»–å†…å­˜ç›¸å…³é—®é¢˜ã€‚ éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œä½å¼€é”€çš„å †åˆ†ææ˜¯ä¸€ç§è¿‘ä¼¼çš„åˆ†ææ–¹æ³•ï¼Œå®ƒå¯èƒ½ä¼šåœ¨æŸäº›æƒ…å†µä¸‹ä¸¢å¤±ä¸€äº›ç»†èŠ‚ä¿¡æ¯ã€‚å› æ­¤ï¼Œåœ¨æŸäº›æƒ…å†µä¸‹ï¼Œä»ç„¶å»ºè®®ä½¿ç”¨ä¼ ç»Ÿçš„å…¨é¢å †åˆ†ææ–¹æ³•æ¥è·å–æ›´å‡†ç¡®çš„å †å¿«ç…§ã€‚</p> 
<h3><a id="411__Oracle_JDK__JavaFX_1579"></a>4.11 ä» Oracle JDK ä¸­ç§»é™¤ JavaFX</h3> 
<p>ä» Java 11 å¼€å§‹ï¼ŒJavaFXï¼ˆä»¥åŠç›¸å…³çš„ javapackager å·¥å…·ï¼‰ä¸å†éš JDK ä¸€èµ·æä¾›ã€‚ç›¸åï¼Œæˆ‘ä»¬å¯ä»¥ä» JavaFX ä¸»é¡µå°†å…¶ä½œä¸ºå•ç‹¬çš„ SDK ä¸‹è½½ã€‚</p> 
<h3><a id="412__1583"></a>4.12 åˆ é™¤æ¨¡å—</h3> 
<p>JEP 320 ä» JDK ä¸­åˆ é™¤äº†ä»¥ä¸‹æ¨¡å—ï¼š</p> 
<ul><li>java.xml.ws (JAX-WS)</li><li>java.xml.bind (JAXB)</li><li>java.activation (JAF)</li><li>java.xml.ws.annotationï¼ˆé€šç”¨æ³¨è§£ï¼‰</li><li>java.corba (CORBA)</li><li>java.transaction (JTA)</li><li>java.se.eeï¼ˆå‰é¢æåˆ°çš„å…­ä¸ªæ¨¡å—çš„èšåˆå™¨æ¨¡å—ï¼‰</li><li>jdk.xml.wsï¼ˆJAX-WS å·¥å…·ï¼‰</li><li>jdk.xml.bindï¼ˆJAXB å·¥å…·ï¼‰</li></ul> 
<p>å…¶ä»–è¯·å‚è€ƒå®˜æ–¹æ–‡æ¡£</p> 
<h3><a id="_JDK12__1599"></a>äº” JDK12 æ–°ç‰¹æ€§</h3> 
<p>å‚è€ƒï¼š<a href="https://link.juejin.cn/?target=https%3A%2F%2Fopenjdk.org%2Fprojects%2Fjdk%2F12%2F" rel="nofollow" title="https://openjdk.org/projects/jdk/12/">openjdk.org/projects/jdâ€¦</a></p> 
<pre><code>
189:
Shenandoah: A Low-Pause-Time Garbage Collector (Experimental)Shenandoah: ä½æš‚åœæ—¶é—´åƒåœ¾æ”¶é›†å™¨(å®éªŒ)
230:
Microbenchmark Suiteå¾®åŸºå‡†æµ‹è¯•å¥—ä»¶
325:
Switch Expressions (Preview)å¼€å…³è¡¨è¾¾å¼(é¢„è§ˆ)
334:
JVM Constants APIJVM å¸¸é‡ API
340:
One AArch64 Port, Not Twoä¸€ä¸ª AArch64ç«¯å£ï¼Œä¸æ˜¯ä¸¤ä¸ª
341:
Default CDS Archivesé»˜è®¤çš„ CDS å­˜æ¡£
344:
Abortable Mixed Collections for G1å¯æµäº§çš„ G1æ··åˆé›†åˆ
346:
Promptly Return Unused Committed Memory from G1ä» G1åŠæ—¶è¿”å›æœªä½¿ç”¨çš„æäº¤å†…å­˜
</code></pre> 
<h3><a id="51_SwitchPreview_1623"></a>5.1 Switchè¡¨è¾¾å¼ï¼ˆPreviewï¼‰</h3> 
<p>JDK 12å¼•å…¥äº†ä¸€ä¸ªåä¸º"Switchè¡¨è¾¾å¼ï¼ˆPreviewï¼‰"çš„åŠŸèƒ½ï¼Œå®ƒå¯¹Switchè¯­å¥è¿›è¡Œäº†æ”¹è¿›ï¼Œä½¿å…¶æ›´åŠ çµæ´»å’Œæ˜“ç”¨ã€‚Switchè¡¨è¾¾å¼å…è®¸åœ¨Switchè¯­å¥ä¸­ä½¿ç”¨Lambdaé£æ ¼çš„è¯­æ³•è¿›è¡Œæ¨¡å¼åŒ¹é…ï¼Œå¹¶ç›´æ¥è¿”å›å€¼ã€‚ åœ¨ä¼ ç»Ÿçš„Switchè¯­å¥ä¸­ï¼Œæ¯ä¸ªcaseåˆ†æ”¯éƒ½éœ€è¦ä½¿ç”¨<code>break</code>è¯­å¥æ¥é˜²æ­¢æ‰è½åˆ°ä¸‹ä¸€ä¸ªåˆ†æ”¯ã€‚è€Œåœ¨Switchè¡¨è¾¾å¼ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ç®­å¤´(<code>-&gt;</code>)æ¥ç›´æ¥è¿”å›å€¼ï¼Œè€Œä¸éœ€è¦ä½¿ç”¨<code>break</code>è¯­å¥ã€‚ ä»¥ä¸‹æ˜¯Switchè¡¨è¾¾å¼çš„ç¤ºä¾‹ï¼š</p> 
<pre><code>int day = 3;
String dayName = switch (day) {
    case 1, 2, 3, 4, 5 -&gt; "Weekday";
    case 6, 7 -&gt; "Weekend";
    default -&gt; "Invalid day";
};
</code></pre> 
<p>åœ¨ä¸Šè¿°ä»£ç ä¸­ï¼ŒSwitchè¡¨è¾¾å¼æ ¹æ®<code>day</code>çš„å€¼è¿›è¡Œæ¨¡å¼åŒ¹é…ï¼Œç„¶åè¿”å›ç›¸åº”çš„å­—ç¬¦ä¸²ã€‚åœ¨caseåˆ†æ”¯ä¸­ï¼Œå¯ä»¥ä½¿ç”¨é€—å·å°†å¤šä¸ªå€¼ç»„åˆåœ¨ä¸€èµ·ï¼Œè¡¨ç¤ºå®ƒä»¬å…±äº«ç›¸åŒçš„å¤„ç†é€»è¾‘ã€‚åœ¨æœ€åçš„defaultåˆ†æ”¯ä¸­ï¼Œå¦‚æœæ²¡æœ‰åŒ¹é…çš„æƒ…å†µï¼Œå°†è¿”å›"Invalid day"ã€‚ Switchè¡¨è¾¾å¼çš„è¯­æ³•æ¯”ä¼ ç»Ÿçš„Switchè¯­å¥æ›´ç®€æ´å’Œæ˜“è¯»ã€‚å®ƒå¯ä»¥å‡å°‘é‡å¤çš„ä»£ç å’Œæ˜“é”™çš„<code>break</code>è¯­å¥ï¼Œä½¿å¾—ä»£ç æ›´åŠ æ¸…æ™°å’Œç´§å‡‘ã€‚ éœ€è¦æ³¨æ„çš„æ˜¯ï¼ŒSwitchè¡¨è¾¾å¼åœ¨JDK 12ä¸­æ˜¯ä½œä¸ºé¢„è§ˆåŠŸèƒ½å¼•å…¥çš„ï¼Œæ„å‘³ç€å®ƒæ˜¯ä¸€é¡¹å®éªŒæ€§çš„åŠŸèƒ½ï¼Œå¯èƒ½ä¼šåœ¨åç»­çš„JDKç‰ˆæœ¬ä¸­è¿›è¡Œè°ƒæ•´å’Œæ”¹è¿›ã€‚è¦ä½¿ç”¨Switchè¡¨è¾¾å¼ï¼Œéœ€è¦ç¡®ä¿åœ¨ç¼–è¯‘å™¨é€‰é¡¹ä¸­å¯ç”¨äº†é¢„è§ˆåŠŸèƒ½ï¼Œä¾‹å¦‚ä½¿ç”¨<code>--enable-preview</code>é€‰é¡¹ã€‚</p> 
<h3><a id="52__1638"></a>5.2 å¾®åŸºå‡†æµ‹è¯•å¥—ä»¶</h3> 
<p>JDK 12å¼•å…¥äº†Microbenchmark Suiteï¼ˆJEP 230ï¼‰ï¼Œå®ƒæ˜¯ä¸€ä¸ªç”¨äºç¼–å†™å’Œè¿è¡Œå¾®åŸºå‡†æµ‹è¯•çš„å¥—ä»¶ã€‚å¾®åŸºå‡†æµ‹è¯•æ˜¯ä¸€ç§ä¸“é—¨ç”¨äºæµ‹é‡å°å—ä»£ç ç‰‡æ®µçš„æ€§èƒ½çš„æµ‹è¯•æ–¹æ³•ã€‚ Microbenchmark Suiteæä¾›äº†ä¸€ç»„å·¥å…·å’Œåº“ï¼Œå¸®åŠ©å¼€å‘äººå‘˜ç¼–å†™å’Œæ‰§è¡Œå¾®åŸºå‡†æµ‹è¯•ï¼Œå¹¶æä¾›å‡†ç¡®çš„æ€§èƒ½æµ‹é‡ç»“æœã€‚ä»¥ä¸‹æ˜¯Microbenchmark Suiteçš„ä¸€äº›å…³é”®ç‰¹ç‚¹ï¼š</p> 
<ol start="0"><li><strong>@Benchmarkæ³¨è§£</strong>ï¼šMicrobenchmark Suiteé€šè¿‡<code>@Benchmark</code>æ³¨è§£æ ‡è®°è¦è¿›è¡Œæ€§èƒ½æµ‹è¯•çš„æ–¹æ³•ã€‚è¿™æ ·ï¼Œå¼€å‘äººå‘˜å¯ä»¥å°†æ³¨è§£æ·»åŠ åˆ°ä»–ä»¬æƒ³è¦æµ‹è¯•çš„æ–¹æ³•ä¸Šï¼Œä»¥æŒ‡ç¤ºè¯¥æ–¹æ³•æ˜¯ä¸€ä¸ªå¾®åŸºå‡†æµ‹è¯•ã€‚</li><li><strong>Blackholeç±»</strong>ï¼šMicrobenchmark Suiteæä¾›äº†<code>Blackhole</code>ç±»ï¼Œç”¨äºæ¶ˆè€—è¢«æµ‹è¯•æ–¹æ³•çš„ç»“æœï¼Œä»¥é˜²æ­¢JVMè¿›è¡Œä¼˜åŒ–å’Œæ¶ˆé™¤æœªä½¿ç”¨çš„ä»£ç ã€‚è¿™æ ·å¯ä»¥æ›´å‡†ç¡®åœ°æµ‹é‡æ–¹æ³•çš„æ€§èƒ½ã€‚</li><li><strong>æµ‹è¯•è¿è¡Œå™¨</strong>ï¼šMicrobenchmark Suiteæä¾›äº†ä¸€ä¸ªæµ‹è¯•è¿è¡Œå™¨ï¼Œç”¨äºæ‰§è¡Œå¾®åŸºå‡†æµ‹è¯•ï¼Œå¹¶ç”Ÿæˆå…³äºæ¯ä¸ªæµ‹è¯•çš„æ€§èƒ½æµ‹é‡ç»“æœã€‚æµ‹è¯•è¿è¡Œå™¨å¯ä»¥é…ç½®ä»¥æ§åˆ¶æµ‹è¯•çš„å‚æ•°å’Œæ‰§è¡Œæ–¹å¼ã€‚</li></ol> 
<p>é€šè¿‡ä½¿ç”¨Microbenchmark Suiteï¼Œå¼€å‘äººå‘˜å¯ä»¥ç¼–å†™å’Œè¿è¡Œç²¾ç¡®çš„å¾®åŸºå‡†æµ‹è¯•ï¼Œä»¥æµ‹é‡ç‰¹å®šä»£ç ç‰‡æ®µçš„æ€§èƒ½ï¼Œå¹¶è¿›è¡Œæ€§èƒ½ä¼˜åŒ–ã€‚å¾®åŸºå‡†æµ‹è¯•å¯ä»¥å¸®åŠ©å¼€å‘äººå‘˜è¯†åˆ«æ½œåœ¨çš„æ€§èƒ½é—®é¢˜ã€æ¯”è¾ƒä¸åŒå®ç°çš„æ€§èƒ½å·®å¼‚ï¼Œå¹¶ç¡®å®šæ€§èƒ½ä¼˜åŒ–çš„æ–¹å‘ã€‚ éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå¾®åŸºå‡†æµ‹è¯•éœ€è¦è°¨æ…ä½¿ç”¨ï¼Œå› ä¸ºæ€§èƒ½æµ‹è¯•ç»“æœå¯èƒ½ä¼šå—åˆ°å¤šç§å› ç´ çš„å½±å“ï¼Œå¦‚ç¡¬ä»¶ç¯å¢ƒã€åƒåœ¾æ”¶é›†å™¨ã€JVMå‚æ•°ç­‰ã€‚å› æ­¤ï¼Œåœ¨è¿›è¡Œå¾®åŸºå‡†æµ‹è¯•æ—¶ï¼Œéœ€è¦äº†è§£å…¶åŸç†ã€æ­£ç¡®ä½¿ç”¨å·¥å…·å’Œåº“ï¼Œå¹¶è¿›è¡Œåˆç†çš„ç»“æœè§£é‡Šå’Œåˆ†æã€‚</p> 
<h3><a id="53_JVM__API_1648"></a>5.3 JVM å¸¸é‡ API</h3> 
<p>åœ¨ JDK 12 ä¸­ï¼ŒJava è™šæ‹Ÿæœºï¼ˆJVMï¼‰å¼•å…¥äº†ä¸€äº›å¸¸é‡ APIï¼Œä»¥ä¾¿åœ¨è¿è¡Œæ—¶è·å– JVM çš„ä¸€äº›å¸¸é‡ä¿¡æ¯ã€‚è¿™äº›å¸¸é‡ API ä¸»è¦ä½äº <code>java.lang.constant</code> åŒ…ä¸­ï¼Œæä¾›äº†ä¸€ç§å®‰å…¨å’Œç±»å‹å®‰å…¨çš„æ–¹å¼æ¥è®¿é—®è¿™äº›å¸¸é‡ã€‚ ä»¥ä¸‹æ˜¯ JDK 12 ä¸­ä¸€äº›å¸¸é‡ API çš„ä¸»è¦ç±»å’Œæ¥å£ï¼š</p> 
<ol start="0"><li><code>java.lang.constant.Constable</code>ï¼šè¿™æ˜¯ä¸€ä¸ªæ ‡è®°æ¥å£ï¼Œè¡¨ç¤ºä¸€ä¸ªå¸¸é‡å€¼å¯ä»¥åœ¨ç¼–è¯‘æ—¶è¢«æŠ½è±¡ä¸ºå¸¸é‡ã€‚è¿™ä¸ªæ¥å£æœ‰åŠ©äºåœ¨ç¼–è¯‘æ—¶æ‰§è¡Œå¸¸é‡æŠ˜å å’Œå†…è”ä¼˜åŒ–ã€‚</li><li><code>java.lang.constant.ConstantDesc</code>ï¼šè¿™æ˜¯ä¸€ä¸ªé€šç”¨çš„å¸¸é‡æè¿°ç¬¦æ¥å£ï¼Œç”¨äºè¡¨ç¤ºå„ç§ç±»å‹çš„å¸¸é‡ã€‚å®ƒæ˜¯æ‰€æœ‰å¸¸é‡ç±»å‹çš„çˆ¶æ¥å£ã€‚</li><li><code>java.lang.constant.ClassDesc</code>ï¼šè¿™æ˜¯ä¸€ä¸ªå¸¸é‡æè¿°ç¬¦æ¥å£ï¼Œè¡¨ç¤ºä¸€ä¸ªç±»ç±»å‹çš„å¸¸é‡ã€‚å®ƒæä¾›äº†è·å–ç±»åã€åŒ…åç­‰ä¿¡æ¯çš„æ–¹æ³•ã€‚</li><li><code>java.lang.constant.MethodTypeDesc</code>ï¼šè¿™æ˜¯ä¸€ä¸ªå¸¸é‡æè¿°ç¬¦æ¥å£ï¼Œè¡¨ç¤ºæ–¹æ³•ç±»å‹çš„å¸¸é‡ã€‚å®ƒæä¾›äº†è·å–æ–¹æ³•å‚æ•°ç±»å‹å’Œè¿”å›ç±»å‹çš„æ–¹æ³•ã€‚</li><li><code>java.lang.constant.DynamicCallSiteDesc</code>ï¼šè¿™æ˜¯ä¸€ä¸ªå¸¸é‡æè¿°ç¬¦æ¥å£ï¼Œè¡¨ç¤ºä¸€ä¸ªåŠ¨æ€è°ƒç”¨ç‚¹ï¼ˆDynamic Call Siteï¼‰çš„å¸¸é‡ã€‚å®ƒæä¾›äº†è·å–è°ƒç”¨ç‚¹ä¿¡æ¯çš„æ–¹æ³•ã€‚</li><li><code>java.lang.constant.DirectMethodHandleDesc</code>ï¼šè¿™æ˜¯ä¸€ä¸ªå¸¸é‡æè¿°ç¬¦æ¥å£ï¼Œè¡¨ç¤ºä¸€ä¸ªç›´æ¥æ–¹æ³•å¥æŸ„ï¼ˆDirect Method Handleï¼‰çš„å¸¸é‡ã€‚å®ƒæä¾›äº†è·å–æ–¹æ³•å¥æŸ„ä¿¡æ¯çš„æ–¹æ³•ã€‚</li><li><code>java.lang.constant.ConstableDesc</code>ï¼šè¿™æ˜¯ä¸€ä¸ªå¸¸é‡æè¿°ç¬¦æ¥å£ï¼Œè¡¨ç¤ºä¸€ä¸ªå¸¸é‡å€¼çš„å¸¸é‡ã€‚å®ƒæä¾›äº†è·å–å¸¸é‡å€¼çš„æ–¹æ³•ã€‚</li></ol> 
<p>é™¤äº†ä¸Šè¿°æ¥å£ï¼Œè¿˜æœ‰ä¸€äº›å…¶ä»–ç±»å’Œæ¥å£ï¼Œç”¨äºæ”¯æŒä¸åŒç±»å‹çš„å¸¸é‡ï¼Œå¦‚å­—æ®µå¸¸é‡ã€æ¨¡å—å¸¸é‡ç­‰ã€‚ è¿™äº›å¸¸é‡ API çš„å¼•å…¥ä½¿å¾—å¼€å‘äººå‘˜å¯ä»¥æ›´æ–¹ä¾¿åœ°åœ¨è¿è¡Œæ—¶è®¿é—®å’Œå¤„ç† JVM ä¸­çš„å¸¸é‡ä¿¡æ¯ï¼Œä»è€Œå®ç°æ›´é«˜æ•ˆå’Œæ›´å®‰å…¨çš„ä»£ç ã€‚</p> 
<h3><a id="54__CDShttpslinkjuejincntargethttps3A2F2Fsocsdnnet2Fso2Fsearch3Fq3DCDS26spm3D1001210130017020_httpssocsdnnetsosearchqCDSspm1001210130017020__1662"></a>5.4 é»˜è®¤ <a href="https://link.juejin.cn/?target=https%3A%2F%2Fso.csdn.net%2Fso%2Fsearch%3Fq%3DCDS%26spm%3D1001.2101.3001.7020" rel="nofollow" title="https://so.csdn.net/so/search?q=CDS&amp;spm=1001.2101.3001.7020">CDS</a> æ¡£æ¡ˆ</h3> 
<p>JDK 12 å¼•å…¥äº†ä¸€ä¸ªæ–°åŠŸèƒ½ï¼Œç§°ä¸ºé»˜è®¤ CDSï¼ˆClass Data Sharingï¼‰æ¡£æ¡ˆã€‚CDS æ˜¯ä¸€é¡¹æŠ€æœ¯ï¼Œå®ƒå…è®¸åœ¨ JVM å¯åŠ¨æ—¶å°†ç±»çš„å…ƒæ•°æ®å’Œå­—èŠ‚ç é¢„å…ˆåŠ è½½åˆ°å…±äº«å­˜æ¡£æ–‡ä»¶ä¸­ï¼Œä»¥æé«˜åº”ç”¨ç¨‹åºçš„å¯åŠ¨æ—¶é—´å’Œå†…å­˜å ç”¨ã€‚ åœ¨ JDK 12 ä¸­ï¼Œé»˜è®¤ CDS æä¾›äº†ä¸€ç§ç®€åŒ–çš„æ–¹æ³•æ¥åˆ›å»ºå’Œä½¿ç”¨ CDS æ¡£æ¡ˆã€‚å®ƒå…è®¸æ‚¨ä½¿ç”¨é»˜è®¤çš„é…ç½®æ–‡ä»¶æ¥è‡ªåŠ¨åˆ›å»º CDS æ¡£æ¡ˆï¼Œè€Œæ— éœ€æ‰‹åŠ¨æŒ‡å®šç±»åˆ—è¡¨ã€‚ ä»¥ä¸‹æ˜¯ä½¿ç”¨é»˜è®¤ CDS æ¡£æ¡ˆçš„æ­¥éª¤ï¼š</p> 
<ol start="0"><li>è¿è¡Œåº”ç”¨ç¨‹åºæ—¶ï¼Œæ·»åŠ  <code>-XX:DumpLoadedClassList=&lt;classlist.txt&gt;</code> å‚æ•°ã€‚è¿™å°†åœ¨åº”ç”¨ç¨‹åºé€€å‡ºæ—¶ç”Ÿæˆä¸€ä¸ªç±»åˆ—è¡¨æ–‡ä»¶ <code>classlist.txt</code>ï¼Œå…¶ä¸­åŒ…å«äº†åº”ç”¨ç¨‹åºåŠ è½½çš„æ‰€æœ‰ç±»ã€‚</li><li>ä½¿ç”¨ <code>jlink</code> å‘½ä»¤åˆ›å»ºä¸€ä¸ªåŒ…å«é»˜è®¤ CDS æ¡£æ¡ˆçš„è‡ªå®šä¹‰è¿è¡Œæ—¶æ˜ åƒã€‚æ·»åŠ  <code>--class-list=&lt;classlist.txt&gt;</code> å‚æ•°ï¼Œå…¶ä¸­ <code>&lt;classlist.txt&gt;</code> æ˜¯ç¬¬ä¸€æ­¥ç”Ÿæˆçš„ç±»åˆ—è¡¨æ–‡ä»¶çš„è·¯å¾„ã€‚</li><li>åœ¨å¯åŠ¨åº”ç”¨ç¨‹åºæ—¶ï¼Œä½¿ç”¨ <code>java</code> å‘½ä»¤æŒ‡å®š <code>-Xshare:dump</code> å‚æ•°æ¥ç”Ÿæˆé»˜è®¤çš„ CDS æ¡£æ¡ˆã€‚è¿™å°†æ ¹æ®é»˜è®¤çš„é…ç½®æ–‡ä»¶ï¼ˆ<code>&lt;JDK&gt;/lib/classlist</code>ï¼‰è‡ªåŠ¨åˆ›å»º CDS æ¡£æ¡ˆã€‚</li><li>åœ¨åç»­å¯åŠ¨åº”ç”¨ç¨‹åºæ—¶ï¼Œä½¿ç”¨ <code>-Xshare:on</code> å‚æ•°æ¥å¯ç”¨é»˜è®¤ CDS æ¡£æ¡ˆã€‚è¿™å°†ä½¿ç”¨é¢„å…ˆç”Ÿæˆçš„ CDS æ¡£æ¡ˆæ¥åŠ é€Ÿåº”ç”¨ç¨‹åºçš„å¯åŠ¨ã€‚</li></ol> 
<p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œé»˜è®¤ CDS æ¡£æ¡ˆåŠŸèƒ½åœ¨ä¸åŒçš„å¹³å°å’Œ JDK å‘è¡Œç‰ˆä¸­å¯èƒ½æœ‰æ‰€å·®å¼‚ã€‚åœ¨ä¸€äº›å¹³å°ä¸Šï¼ŒCDS åŠŸèƒ½å¯èƒ½éœ€è¦ç‰¹å®šçš„è®¸å¯è¯ã€‚æ­¤å¤–ï¼ŒCDS æ¡£æ¡ˆçš„åˆ›å»ºå’Œä½¿ç”¨å¯èƒ½ä¼šå› åº”ç”¨ç¨‹åºçš„ç‰¹æ€§è€Œæœ‰æ‰€ä¸åŒï¼Œå› æ­¤å»ºè®®å‚è€ƒç›¸å…³çš„ JDK æ–‡æ¡£å’Œæ–‡æ¡£ä»¥è·å–è¯¦ç»†ä¿¡æ¯å’ŒæŒ‡å¯¼ã€‚</p> 
<h3><a id="55_G1__1673"></a>5.5 G1 çš„å¯æµåŠ¨æ··åˆæ”¶é›†</h3> 
<p>G1çš„ç›®æ ‡ä¹‹ä¸€æ˜¯æ»¡è¶³ç”¨æˆ·æä¾›çš„æš‚åœæ—¶é—´ç›®æ ‡ä»¥æš‚åœå…¶æ”¶é›†æš‚åœã€‚G1ä½¿ç”¨é«˜çº§åˆ†æå¼•æ“æ¥é€‰æ‹©åœ¨é›†åˆæœŸé—´ è¦å®Œæˆçš„å·¥ä½œé‡ï¼ˆè¿™éƒ¨åˆ†åŸºäºåº”ç”¨ç¨‹åºè¡Œä¸ºï¼‰ã€‚æ­¤é€‰æ‹©çš„ç»“æœæ˜¯ä¸€ç»„ç§°ä¸ºé›†åˆé›†çš„åŒºåŸŸã€‚ä¸€æ—¦ç¡®å®šäº†é›†åˆé›†å¹¶ä¸” å·²ç»å¼€å§‹é›†åˆï¼Œåˆ™G1å¿…é¡»åœ¨ä¸åœæ­¢çš„æƒ…å†µä¸‹æ”¶é›†é›†åˆé›†çš„æ‰€æœ‰åŒºåŸŸä¸­çš„æ‰€æœ‰æ´»åŠ¨å¯¹è±¡ã€‚å¦‚æœå¯å‘å¼é€‰æ‹©è¿‡å¤§çš„æ”¶ é›†ï¼Œåˆ™æ­¤è¡Œä¸ºå¯å¯¼è‡´G1è¶…è¿‡æš‚åœæ—¶é—´ç›®æ ‡ï¼Œä¾‹å¦‚ï¼Œå¦‚æœåº”ç”¨ç¨‹åºçš„è¡Œä¸ºå‘ç”Ÿå˜åŒ–ï¼Œä»¥è‡´å¯å‘å¼å·¥ä½œåœ¨â€œé™ˆæ—§â€æ•°æ® ä¸Šï¼Œåˆ™å¯èƒ½å‘ç”Ÿè¿™ç§æƒ…å†µã€‚ç‰¹åˆ«æ˜¯åœ¨æ··åˆé›†åˆæœŸé—´å¯ä»¥è§‚å¯Ÿåˆ°è¿™ç§æƒ…å†µï¼Œå…¶ä¸­é›†åˆé›†é€šå¸¸å¯ä»¥åŒ…å«å¤ªå¤šæ—§åŒºåŸŸã€‚ éœ€è¦ä¸€ç§æœºåˆ¶æ¥æ£€æµ‹å¯å‘å¼æ–¹æ³•ä½•æ—¶åå¤ä¸ºé›†åˆé€‰æ‹©é”™è¯¯çš„å·¥ä½œé‡ï¼Œå¦‚æœæ˜¯ï¼Œåˆ™è®©G1é€æ­¥é€’å¢åœ°æ‰§è¡Œæ”¶é›†å·¥ä½œï¼Œ å…¶ä¸­é›†åˆå¯ä»¥åœ¨æ¯ä¸ªæ­¥éª¤ä¹‹åä¸­æ­¢ã€‚è¿™ç§æœºåˆ¶å°†å…è®¸G1æ›´é¢‘ç¹åœ°æ»¡è¶³æš‚åœæ—¶é—´ç›®æ ‡ã€‚ å…¶ä»–è¯¦ç»†ä¿¡æ¯è¯·å‚è€ƒå®˜ç½‘</p> 
<h3><a id="_JDK13__1677"></a>å…­ JDK13 æ–°ç‰¹æ€§</h3> 
<p>å‚è€ƒå®˜ç½‘ï¼š<a href="https://link.juejin.cn/?target=https%3A%2F%2Fopenjdk.org%2Fprojects%2Fjdk%2F13%2F" rel="nofollow" title="https://openjdk.org/projects/jdk/13/">openjdk.org/projects/jdâ€¦</a></p> 
<pre><code>
350:
Dynamic CDS ArchivesåŠ¨æ€ CDS å­˜æ¡£
351:
ZGC: Uncommit Unused Memoryå–æ¶ˆæœªä½¿ç”¨å†…å­˜
353:
Reimplement the Legacy Socket APIé‡æ–°å®ç°é—ç•™å¥—æ¥å­— API
354:
Switch Expressions (Preview)å¼€å…³è¡¨è¾¾å¼(é¢„è§ˆ)
355:
Text Blocks (Preview)æ–‡æœ¬å—(é¢„è§ˆ)
</code></pre> 
<h3><a id="61_CDSDynamic_CDS_Archiving_1695"></a>6.1 åŠ¨æ€CDSå½’æ¡£ï¼ˆDynamic CDS Archivingï¼‰</h3> 
<p>åœ¨JDK 13ä¸­ï¼Œå¼•å…¥äº†ä¸€é¡¹åä¸ºåŠ¨æ€CDSå½’æ¡£ï¼ˆDynamic CDS Archivingï¼‰çš„æ–°åŠŸèƒ½ã€‚CDSï¼ˆClass Data Sharingï¼‰æ˜¯ä¸€ç§æŠ€æœ¯ï¼Œå®ƒå…è®¸å°†ç±»çš„å…ƒæ•°æ®å’Œå­—èŠ‚ç é¢„å…ˆåŠ è½½åˆ°å…±äº«å½’æ¡£æ–‡ä»¶ä¸­ï¼Œä»¥æé«˜åº”ç”¨ç¨‹åºçš„å¯åŠ¨æ—¶é—´å’Œå†…å­˜å ç”¨ã€‚åŠ¨æ€CDSå½’æ¡£è¿›ä¸€æ­¥æ‰©å±•äº†CDSçš„èƒ½åŠ›ï¼Œä½¿å¾—åœ¨åº”ç”¨ç¨‹åºè¿è¡Œæ—¶å¯ä»¥åŠ¨æ€åœ°åˆ›å»ºå’Œæ›´æ–°CDSå½’æ¡£ã€‚ åŠ¨æ€CDSå½’æ¡£çš„ä¸»è¦ä¼˜åŠ¿åœ¨äºï¼Œå®ƒå…è®¸åœ¨åº”ç”¨ç¨‹åºè¿è¡Œæ—¶æ”¶é›†å’Œè®°å½•æ­£åœ¨ä½¿ç”¨çš„ç±»å’Œåº“ï¼Œå¹¶å°†å®ƒä»¬æ·»åŠ åˆ°å·²å­˜åœ¨çš„CDSå½’æ¡£ä¸­ï¼Œä»è€Œå®ç°åŠ¨æ€çš„ç±»å…±äº«ã€‚è¿™æ ·ï¼Œåœ¨ä¸‹æ¬¡å¯åŠ¨åº”ç”¨ç¨‹åºæ—¶ï¼Œå¯ä»¥ä½¿ç”¨åŒ…å«åŠ¨æ€æ›´æ–°çš„CDSå½’æ¡£ï¼Œè¿›ä¸€æ­¥åŠ é€Ÿåº”ç”¨ç¨‹åºçš„å¯åŠ¨ã€‚ ä»¥ä¸‹æ˜¯ä½¿ç”¨åŠ¨æ€CDSå½’æ¡£çš„ä¸€èˆ¬æ­¥éª¤ï¼š</p> 
<ol start="0"><li>ä½¿ç”¨JDK 13æ„å»ºåº”ç”¨ç¨‹åºï¼Œå¹¶ç¡®ä¿å¯ç”¨CDSã€‚å¯ä»¥é€šè¿‡ä½¿ç”¨ä»¥ä¸‹å‚æ•°æ¥å¯ç”¨CDSï¼š<code>-XX:ArchiveClassesAtExit=&lt;archive-file&gt;</code>ã€‚</li><li>è¿è¡Œåº”ç”¨ç¨‹åºï¼Œè®©å®ƒè¿›è¡Œæ­£å¸¸æ“ä½œã€‚è¿™å°†å¯¼è‡´åŠ¨æ€CDSå½’æ¡£æ–‡ä»¶è¢«åˆ›å»ºã€‚</li><li>åœ¨ä¸‹æ¬¡å¯åŠ¨åº”ç”¨ç¨‹åºæ—¶ï¼Œä½¿ç”¨ä»¥ä¸‹å‚æ•°æ¥å¯ç”¨CDSå¹¶æŒ‡å®šå…ˆå‰åˆ›å»ºçš„åŠ¨æ€CDSå½’æ¡£æ–‡ä»¶ï¼š<code>-XX:SharedArchiveFile=&lt;archive-file&gt;</code>ã€‚</li></ol> 
<p>é€šè¿‡è¿™ç§æ–¹å¼ï¼Œåº”ç”¨ç¨‹åºå¯ä»¥åˆ©ç”¨å…ˆå‰æ”¶é›†çš„åŠ¨æ€CDSå½’æ¡£æ–‡ä»¶ï¼Œä»è€ŒåŠ å¿«å¯åŠ¨æ—¶é—´å’Œå‡å°‘å†…å­˜æ¶ˆè€—ã€‚ éœ€è¦æ³¨æ„çš„æ˜¯ï¼ŒåŠ¨æ€CDSå½’æ¡£åŠŸèƒ½åœ¨JDK 13ä¸­æ˜¯ä½œä¸ºå®éªŒæ€§åŠŸèƒ½å¼•å…¥çš„ã€‚å› æ­¤ï¼Œåœ¨ä½¿ç”¨æ—¶åº”è°¨æ…è¯„ä¼°å…¶åœ¨ç‰¹å®šåº”ç”¨ç¨‹åºå’Œç¯å¢ƒä¸­çš„æ•ˆæœï¼Œå¹¶ç¡®ä¿éµå¾ªå®˜æ–¹æ–‡æ¡£å’Œæœ€ä½³å®è·µã€‚</p> 
<h3><a id="62__API_1705"></a>6.2 é‡æ–°å®ç°é—ç•™å¥—æ¥å­— API</h3> 
<p>java.net.Socketå’Œjava.net.ServerSocket APIå°†æ‰€æœ‰å¥—æ¥å­—æ“ä½œå§”æ‰˜ç»™java.net.SocketImplï¼Œè¿™æ˜¯è‡ªJDK 1.0èµ·å·²ç»å­˜åœ¨çš„æœåŠ¡æä¾›ç¨‹åºæ¥å£ï¼ˆSPIï¼‰æœºåˆ¶ã€‚å†…ç½®çš„å®ç°ç§°ä¸ºâ€œæ™®é€šâ€å®ç°ï¼Œç”±éå…¬å¼€çš„PlainSocketImplé€šè¿‡æ”¯æŒç±»SocketInputStreamå’ŒSocketOutputStreamå®æ–½ã€‚ PlainSocketImplç”±å…¶ä»–ä¸¤ä¸ªJDKå†…éƒ¨å®ç°æ‰©å±•ï¼Œè¿™äº›å®ç°æ”¯æŒé€šè¿‡SOCKSå’ŒHTTPä»£ç†æœåŠ¡å™¨çš„è¿æ¥ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œä½¿ç”¨åŸºäºSOCKSçš„SocketImplåˆ›å»ºSocketå’ŒServerSocketï¼ˆæœ‰æ—¶æ˜¯å»¶è¿Ÿçš„ï¼‰ã€‚åœ¨ServerSocketçš„æƒ…å†µä¸‹ï¼Œä½¿ç”¨SOCKSå®ç°æ˜¯ä¸€ä¸ªå¤æ€ªçš„äº‹æƒ…ï¼Œå¯ä»¥è¿½æº¯åˆ°å¯¹JDK 1.4ä¸­çš„ä»£ç†æœåŠ¡å™¨è¿æ¥çš„å®éªŒæ€§ï¼ˆå¹¶ä¸”è‡ªä»åˆ é™¤ä»¥æ¥ï¼‰æ”¯æŒã€‚ æ–°çš„å®ç°NioSocketImplæ›¿ä»£äº†PlainSocketImplã€‚å®ƒè¢«å¼€å‘ä¸ºæ˜“äºç»´æŠ¤å’Œè°ƒè¯•ã€‚å®ƒä¸æ–°I / Oï¼ˆNIOï¼‰å®ç°å…±äº«ç›¸åŒçš„JDKå†…éƒ¨åŸºç¡€ç»“æ„ï¼Œå› æ­¤ä¸éœ€è¦è‡ªå·±çš„æœ¬æœºä»£ç ã€‚å®ƒä¸ç°æœ‰çš„ç¼“å†²åŒºé«˜é€Ÿç¼“å­˜æœºåˆ¶é›†æˆåœ¨ä¸€èµ·ï¼Œå› æ­¤ä¸éœ€è¦å°†çº¿ç¨‹å †æ ˆç”¨äºI / Oã€‚å®ƒä½¿ç”¨java.util.concurrenté”è€Œä¸æ˜¯åŒæ­¥æ–¹æ³•ï¼Œä»¥ä¾¿å°†æ¥å¯ä»¥åœ¨fibersä¸Šå¾ˆå¥½åœ°ä½¿ç”¨ã€‚åœ¨JDK 11ä¸­ï¼Œå¤§å¤šæ•°NIO SocketChannelå’Œå…¶ä»–SelectableChannelå®ç°éƒ½æ˜¯åœ¨å®ç°ç›¸åŒç›®æ ‡çš„æƒ…å†µä¸‹é‡æ–°å®ç°çš„ã€‚</p> 
<h3><a id="63_Switch_1709"></a>6.3 Switchè¡¨è¾¾å¼</h3> 
<p>åœ¨JDK 13ä¸­ï¼ŒSwitchè¡¨è¾¾å¼å¼•å…¥äº†ä¸€äº›æ–°çš„è¯­æ³•å’ŒåŠŸèƒ½ï¼Œä½¿å¾—åœ¨Switchè¯­å¥ä¸­ç¼–å†™æ›´ç®€æ´å’Œçµæ´»çš„ä»£ç æˆä¸ºå¯èƒ½ã€‚ä¸‹é¢æ˜¯ä¸€äº›JDK 13ä¸­Switchè¡¨è¾¾å¼çš„ç¤ºä¾‹ï¼š</p> 
<ol start="0"><li>ç®€å•çš„Switchè¡¨è¾¾å¼ï¼š</li></ol> 
<pre><code>int day = 3;
String dayName = switch (day) {
    case 1 -&gt; "Monday";
    case 2 -&gt; "Tuesday";
    case 3 -&gt; "Wednesday";
    case 4 -&gt; "Thursday";
    case 5 -&gt; "Friday";
    default -&gt; "Invalid day";
};

System.out.println(dayName);  // è¾“å‡º: Wednesday
</code></pre> 
<p>åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨Switchè¡¨è¾¾å¼æ ¹æ®ç»™å®šçš„<code>day</code>å€¼è¿”å›å¯¹åº”çš„æ˜ŸæœŸå‡ åç§°ã€‚</p> 
<ol start="2"><li>è¡¨è¾¾å¼å’Œè¯­å¥çš„ç»„åˆï¼š</li></ol> 
<pre><code>int day = 5;
String dayType = switch (day) {
    case 1, 2, 3, 4, 5 -&gt; {
        yield "Weekday";  // ä½¿ç”¨yieldè¿”å›ä¸€ä¸ªå€¼
    }
    case 6, 7 -&gt; {
        System.out.println("It's a weekend!");  // æ‰§è¡Œè¯­å¥
        yield "Weekend";
    }
    default -&gt; {
        yield "Invalid day";
    }
};

System.out.println(dayType);  // è¾“å‡º: Weekend
</code></pre> 
<p>åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œæˆ‘ä»¬æ ¹æ®ç»™å®šçš„<code>day</code>å€¼è¿”å›å¯¹åº”çš„æ—¥æœŸç±»å‹ã€‚å¦‚æœæ˜¯å·¥ä½œæ—¥ï¼ˆ1-5ï¼‰ï¼Œæˆ‘ä»¬ä½¿ç”¨<code>yield</code>è¿”å›ä¸€ä¸ªå­—ç¬¦ä¸²å€¼ã€‚å¦‚æœæ˜¯å‘¨æœ«ï¼ˆ6-7ï¼‰ï¼Œæˆ‘ä»¬é¦–å…ˆæ‰“å°ä¸€æ¡æ¶ˆæ¯ï¼Œç„¶åè¿”å›ä¸€ä¸ªå­—ç¬¦ä¸²å€¼ã€‚</p> 
<ol start="3"><li>è¡¨è¾¾å¼çš„è¿”å›ç±»å‹æ¨æ–­ï¼š</li></ol> 
<pre><code>String dayName = switch (getDayOfWeek()) {
    case 1 -&gt; "Monday";
    case 2 -&gt; "Tuesday";
    case 3 -&gt; "Wednesday";
    case 4 -&gt; "Thursday";
    case 5 -&gt; "Friday";
    default -&gt; "Invalid day";
};

System.out.println(dayName);
</code></pre> 
<p>åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œ<code>getDayOfWeek()</code>æ–¹æ³•è¿”å›ä¸€ä¸ªæ•´æ•°è¡¨ç¤ºæ˜ŸæœŸå‡ ã€‚åœ¨Switchè¡¨è¾¾å¼ä¸­ï¼Œæˆ‘ä»¬æ ¹æ®è¿™ä¸ªè¿”å›å€¼è¿›è¡ŒåŒ¹é…ï¼Œå¹¶è¿”å›å¯¹åº”çš„æ˜ŸæœŸå‡ åç§°ã€‚æ³¨æ„ï¼Œæˆ‘ä»¬æ²¡æœ‰æ˜¾å¼åœ°æŒ‡å®šSwitchè¡¨è¾¾å¼çš„è¿”å›ç±»å‹ï¼Œè€Œæ˜¯ä½¿ç”¨ç±»å‹æ¨æ–­ï¼Œç¼–è¯‘å™¨ä¼šè‡ªåŠ¨æ¨æ–­è¿”å›ç±»å‹ä¸º<code>String</code>ã€‚ è¿™äº›ç¤ºä¾‹å±•ç¤ºäº†JDK 13ä¸­Switchè¡¨è¾¾å¼çš„ä¸€äº›ç”¨æ³•ã€‚Switchè¡¨è¾¾å¼çš„å¼•å…¥ä½¿å¾—ç¼–å†™ç®€æ´ã€çµæ´»çš„æ¡ä»¶åˆ†æ”¯é€»è¾‘å˜å¾—æ›´åŠ å®¹æ˜“ã€‚</p> 
<h3><a id="64__1770"></a>6.4 æ–‡æœ¬å—</h3> 
<p>åœ¨JDK 13ä¸­ï¼Œå¼•å…¥äº†æ–‡æœ¬å—ï¼ˆText Blocksï¼‰åŠŸèƒ½ï¼Œå®ƒæä¾›äº†ä¸€ç§æ›´ç›´è§‚å’Œæ˜“è¯»çš„æ–¹å¼æ¥å®šä¹‰å¤šè¡Œå­—ç¬¦ä¸²ã€‚æ–‡æœ¬å—ä½¿å¾—åœ¨Javaä»£ç ä¸­ç¼–å†™åŒ…å«æ¢è¡Œç¬¦å’Œç¼©è¿›çš„é•¿å­—ç¬¦ä¸²å˜å¾—æ›´åŠ æ–¹ä¾¿ã€‚ä¸‹é¢æ˜¯ä¸€äº›JDK 13ä¸­æ–‡æœ¬å—çš„ç¤ºä¾‹ï¼š</p> 
<ol start="0"><li>åŸºæœ¬çš„æ–‡æœ¬å—ï¼š</li></ol> 
<pre><code>String htmlContent = """
    &lt;html&gt;
        &lt;body&gt;
            &lt;h1&gt;Hello, JDK 13!&lt;/h1&gt;
        &lt;/body&gt;
    &lt;/html&gt;
""";
</code></pre> 
<p>åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨æ–‡æœ¬å—å®šä¹‰äº†ä¸€ä¸ªåŒ…å«HTMLæ ‡è®°çš„å­—ç¬¦ä¸²ã€‚æ–‡æœ¬å—ä½¿ç”¨ä¸‰ä¸ªåŒå¼•å·ï¼ˆâ€œâ€"ï¼‰ä½œä¸ºèµ·å§‹å’Œç»“æŸæ ‡è®°ï¼Œä½¿å¾—å¯ä»¥åœ¨å­—ç¬¦ä¸²ä¸­åŒ…å«å¤šè¡Œå†…å®¹ï¼Œå¹¶ä¸”ä¿ç•™äº†æ¢è¡Œç¬¦å’Œç¼©è¿›ã€‚</p> 
<ol start="2"><li>è½¬ä¹‰å­—ç¬¦çš„å¤„ç†ï¼š</li></ol> 
<pre><code>String message = """
    This is a multiline string \
    with line continuation.
""";
</code></pre> 
<p>åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨æ–‡æœ¬å—å®šä¹‰äº†ä¸€ä¸ªåŒ…å«è½¬ä¹‰å­—ç¬¦çš„å¤šè¡Œå­—ç¬¦ä¸²ã€‚åœ¨æ–‡æœ¬å—ä¸­ï¼Œä½¿ç”¨åæ–œæ ï¼ˆ\ï¼‰æ¥è¡¨ç¤ºè¡Œè¿æ¥ç¬¦ï¼Œå¯ä»¥åœ¨å¤šè¡Œå­—ç¬¦ä¸²ä¸­å®ç°è¡Œçš„å»¶ç»­ã€‚</p> 
<ol start="3"><li>å¼•å·çš„å¤„ç†ï¼š</li></ol> 
<pre><code>String quote = """
    She said, "Java is awesome!"
""";
</code></pre> 
<p>åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨æ–‡æœ¬å—å®šä¹‰äº†ä¸€ä¸ªåŒ…å«å¼•å·çš„å¤šè¡Œå­—ç¬¦ä¸²ã€‚åœ¨æ–‡æœ¬å—ä¸­ï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨å¼•å·è€Œæ— éœ€è¿›è¡Œè½¬ä¹‰ã€‚</p> 
<ol start="4"><li>ä¿ç•™ç¼©è¿›çš„æ§åˆ¶ï¼š</li></ol> 
<pre><code>String indentedString = """
    This is an indented string.
        It has nested indentation.
    """;
</code></pre> 
<p>åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨æ–‡æœ¬å—å®šä¹‰äº†ä¸€ä¸ªå…·æœ‰ä¿ç•™ç¼©è¿›çš„å­—ç¬¦ä¸²ã€‚æ–‡æœ¬å—ä¸­çš„æ¯è¡Œä¼šä¿ç•™ä¸èµ·å§‹åŒå¼•å·çš„ç¼©è¿›çº§åˆ«ä¸€è‡´çš„ç©ºæ ¼ã€‚</p> 
<h3><a id="65_ZGC_1820"></a>6.5 ZGCæ”¹è¿›</h3> 
<p>åœ¨JDK 13ä¸­ï¼ŒZGCï¼ˆZ Garbage Collectorï¼‰åƒåœ¾æ”¶é›†å™¨è¿›è¡Œäº†ä¸€äº›æ”¹è¿›ï¼Œä»¥è¿›ä¸€æ­¥é™ä½åƒåœ¾æ”¶é›†çš„åœé¡¿æ—¶é—´å¹¶æé«˜ååé‡ã€‚ä»¥ä¸‹æ˜¯ä¸€äº›JDK 13ä¸­ZGCçš„æ”¹è¿›ï¼š</p> 
<ol start="0"><li>åœé¡¿æ—¶é—´ä¼˜åŒ–ï¼šZGCé€šè¿‡å¼•å…¥æ›´å¤šå¹¶å‘æ“ä½œæ¥å‡å°‘åƒåœ¾æ”¶é›†çš„åœé¡¿æ—¶é—´ã€‚JDK 13å¯¹ZGCè¿›è¡Œäº†ä¸€äº›ä¼˜åŒ–ï¼Œä»¥å‡å°‘å¹¶å‘æ ‡è®°å’Œå¹¶å‘æ•´ç†é˜¶æ®µçš„åœé¡¿æ—¶é—´ã€‚è¿™æ„å‘³ç€åº”ç”¨ç¨‹åºåœ¨è¿è¡Œæ—¶ä¸ä¼šå› ä¸ºåƒåœ¾æ”¶é›†è€Œå‡ºç°æ˜æ˜¾çš„åœé¡¿ã€‚</li><li>ååé‡æ”¹è¿›ï¼šZGCçš„ç›®æ ‡ä¹‹ä¸€æ˜¯åœ¨å‡å°‘åœé¡¿æ—¶é—´çš„åŒæ—¶æé«˜ååé‡ã€‚JDK 13å¼•å…¥äº†ä¸€äº›ååé‡æ–¹é¢çš„æ”¹è¿›ï¼Œä»¥æé«˜åº”ç”¨ç¨‹åºçš„æ•´ä½“æ€§èƒ½ã€‚è¿™äº›æ”¹è¿›åŒ…æ‹¬å¹¶å‘åƒåœ¾æ”¶é›†çš„å¹¶è¡Œå¤„ç†ï¼Œä»¥åŠæ›´é«˜æ•ˆçš„å†…å­˜åˆ†é…å’Œå›æ”¶ç­–ç•¥ã€‚</li><li>æ ˆä¸Šåˆ†é…ï¼šZGCåœ¨JDK 13ä¸­å¼•å…¥äº†æ ˆä¸Šåˆ†é…ï¼ˆStack Allocationï¼‰çš„ä¼˜åŒ–ã€‚æ ˆä¸Šåˆ†é…æ˜¯ä¸€ç§ä¼˜åŒ–æŠ€æœ¯ï¼Œå°†ä¸€äº›çŸ­æš‚çš„å¯¹è±¡åˆ†é…åˆ°çº¿ç¨‹çš„æ ˆä¸Šï¼Œè€Œä¸æ˜¯å †ä¸Šã€‚è¿™æ ·å¯ä»¥å‡å°‘åƒåœ¾æ”¶é›†çš„å·¥ä½œé‡ï¼Œå¹¶ä¸”å¯ä»¥æ›´å¿«åœ°å›æ”¶è¿™äº›çŸ­æš‚å¯¹è±¡ã€‚</li><li>å¹¶å‘Class Unloadingï¼šJDK 13ä¸­çš„ZGCå¼•å…¥äº†å¹¶å‘ç±»å¸è½½ï¼ˆConcurrent Class Unloadingï¼‰çš„åŠŸèƒ½ã€‚è¿™æ„å‘³ç€å½“ç±»ä¸å†ä½¿ç”¨æ—¶ï¼Œå¯ä»¥åœ¨åº”ç”¨ç¨‹åºè¿è¡Œæ—¶å¸è½½ç±»ï¼Œè€Œæ— éœ€åœæ­¢åº”ç”¨ç¨‹åºçš„æ‰§è¡Œã€‚è¿™æœ‰åŠ©äºå‡å°‘å†…å­˜å ç”¨ï¼Œå¹¶æé«˜åº”ç”¨ç¨‹åºçš„å¯ä¼¸ç¼©æ€§ã€‚</li></ol> 
<p>è¿™äº›æ”¹è¿›ä½¿å¾—ZGCåœ¨JDK 13ä¸­æ›´åŠ é€‚ç”¨äºå¤„ç†å¤§å‹å †å†…å­˜å’Œå…·æœ‰ä½å»¶è¿Ÿè¦æ±‚çš„åº”ç”¨ç¨‹åºã€‚ç„¶è€Œï¼Œéœ€è¦æ³¨æ„çš„æ˜¯ZGCå¹¶éé€‚ç”¨äºæ‰€æœ‰åœºæ™¯ï¼Œå…·ä½“çš„åƒåœ¾æ”¶é›†å™¨é€‰æ‹©åº”è¯¥æ ¹æ®åº”ç”¨ç¨‹åºçš„ç‰¹ç‚¹å’Œéœ€æ±‚è¿›è¡Œè¯„ä¼°å’Œé€‰æ‹©ã€‚ è¯·æ³¨æ„ï¼ŒZGCæ˜¯åœ¨JDK 11ä¸­é¦–æ¬¡å¼•å…¥çš„ï¼Œè€Œåœ¨JDK 13ä¸­è¿›è¡Œäº†ä¸€äº›æ”¹è¿›å’Œä¼˜åŒ–ã€‚</p> 
<h3><a id="_JDK14__1831"></a>ä¸ƒ JDK14 æ–°ç‰¹æ€§</h3> 
<p>å‚è€ƒç½‘ç«™ï¼š<a href="https://link.juejin.cn/?target=https%3A%2F%2Fopenjdk.org%2Fprojects%2Fjdk%2F14%2F" rel="nofollow" title="https://openjdk.org/projects/jdk/14/">openjdk.org/projects/jdâ€¦</a></p> 
<pre><code>
305:
Pattern Matching for instanceof (Preview)Instanceof çš„æ¨¡å¼åŒ¹é…(é¢„è§ˆ)
343:
Packaging Tool (Incubator)åŒ…è£…å·¥å…·(å­µåŒ–å™¨)
345:
NUMA-Aware Memory Allocation for G1åŸºäº NUMA çš„ G1å†…å­˜åˆ†é…
349:
JFR Event StreamingJFR äº‹ä»¶æµ
352:
Non-Volatile Mapped Byte Bufferséæ˜“å¤±æ€§æ˜ å°„å­—èŠ‚ç¼“å†²åŒº
358:
Helpful NullPointerExceptionsæœ‰ç”¨çš„ NullPointerException
359:
Records (Preview)æ¡£æ¡ˆ(é¢„è§ˆ)
361:
Switch Expressions (Standard)å¼€å…³è¡¨è¾¾å¼(æ ‡å‡†)
362:
Deprecate the Solaris and SPARC PortsåºŸå¼ƒ Solaris å’Œ SPARC ç«¯å£
363:
Remove the Concurrent Mark Sweep (CMS) Garbage Collectoråˆ é™¤å¹¶å‘æ ‡è®°æ‰«æ(CMS)åƒåœ¾æ”¶é›†å™¨
364:
ZGC on macOS
365:
ZGC on WindowsWindows ä¸Šçš„ ZGC
366:
Deprecate the ParallelScavenge + SerialOld GC Combinationä¸æ¨èä½¿ç”¨å¹¶è¡Œæ¸…é™¤ + SerialOld GC ç»„åˆ
367:
Remove the Pack200 Tools and APIåˆ é™¤ Pack200å·¥å…·å’Œ API
368:
Text Blocks (Second Preview)æ–‡æœ¬å—(ç¬¬äºŒæ¬¡é¢„è§ˆ)
370:
Foreign-Memory Access API (Incubator)å¤–éƒ¨å†…å­˜è®¿é—® API (å­µåŒ–å™¨)
</code></pre> 
<h3><a id="71_instanceof_1871"></a>7.1 instanceofæ¨¡å¼åŒ¹é…</h3> 
<p><code>instanceof</code>æ¨¡å¼åŒ¹é…æ˜¯JDK 14å¼•å…¥çš„ä¸€é¡¹æ–°ç‰¹æ€§ï¼Œç”¨äºç®€åŒ–å¯¹ç±»å‹çš„æ£€æŸ¥å’Œè½¬æ¢æ“ä½œã€‚åœ¨ä»¥å¾€çš„Javaç‰ˆæœ¬ä¸­ï¼Œä½¿ç”¨<code>instanceof</code>è¿›è¡Œç±»å‹æ£€æŸ¥åï¼Œéœ€è¦è¿›è¡Œæ˜¾å¼çš„ç±»å‹è½¬æ¢æ‰èƒ½ä½¿ç”¨è¯¥ç±»å‹çš„ç‰¹å®šæ–¹æ³•æˆ–å±æ€§ã€‚è€Œä½¿ç”¨<code>instanceof</code>æ¨¡å¼åŒ¹é…åï¼Œå¯ä»¥åœ¨åŒä¸€è¡¨è¾¾å¼ä¸­è¿›è¡Œç±»å‹æ£€æŸ¥å’Œç±»å‹è½¬æ¢ã€‚ ä¸‹é¢æ˜¯ä¸€ä¸ªä½¿ç”¨<code>instanceof</code>æ¨¡å¼åŒ¹é…çš„ç¤ºä¾‹ï¼š</p> 
<pre><code>public void processShape(Shape shape) {
    if (shape instanceof Circle c) {
        double area = Math.PI * c.getRadius() * c.getRadius();
        System.out.println("Circle area: " + area);
    } else if (shape instanceof Rectangle r) {
        double area = r.getWidth() * r.getHeight();
        System.out.println("Rectangle area: " + area);
    } else if (shape instanceof Triangle t) {
        double area = 0.5 * t.getBase() * t.getHeight();
        System.out.println("Triangle area: " + area);
    } else {
        System.out.println("Unknown shape");
    }
}
</code></pre> 
<p>åœ¨ä¸Šè¿°ç¤ºä¾‹ä¸­ï¼Œ<code>processShape</code>æ–¹æ³•æ¥æ”¶ä¸€ä¸ª<code>Shape</code>å¯¹è±¡ä½œä¸ºå‚æ•°ï¼Œå¹¶ä½¿ç”¨<code>instanceof</code>æ¨¡å¼åŒ¹é…æ¥æ£€æŸ¥å¯¹è±¡çš„å…·ä½“ç±»å‹ã€‚å¦‚æœå¯¹è±¡æ˜¯<code>Circle</code>ç±»å‹ï¼Œåˆ™åœ¨<code>if</code>è¯­å¥ä¸­çš„<code>instanceof</code>åå£°æ˜ä¸€ä¸ªæ–°çš„å˜é‡<code>c</code>ï¼Œè¡¨ç¤ºç±»å‹ä¸º<code>Circle</code>çš„å¯¹è±¡ï¼Œç„¶åå¯ä»¥ç›´æ¥ä½¿ç”¨<code>c</code>çš„æ–¹æ³•å’Œå±æ€§ã€‚åŒæ ·åœ°ï¼Œå¯¹äº<code>Rectangle</code>å’Œ<code>Triangle</code>ç±»å‹ï¼Œä¹Ÿå¯ä»¥åœ¨å¯¹åº”çš„<code>instanceof</code>è¯­å¥ä¸­å£°æ˜æ–°çš„å˜é‡å¹¶ä½¿ç”¨ã€‚ è¿™ç§æ¨¡å¼åŒ¹é…çš„è¯­æ³•å½¢å¼ä¸ºï¼š<code>instanceof ç±»å‹ å˜é‡</code>ï¼Œå…¶ä¸­<code>ç±»å‹</code>æ˜¯è¦æ£€æŸ¥çš„ç±»å‹ï¼Œ<code>å˜é‡</code>æ˜¯åœ¨è¯¥åˆ†æ”¯ä¸­è¡¨ç¤ºè¯¥ç±»å‹çš„å¯¹è±¡ã€‚è¿™æ ·å¯ä»¥é¿å…äº†æ˜¾å¼çš„ç±»å‹è½¬æ¢ï¼Œä½¿ä»£ç æ›´åŠ ç®€æ´å’Œå¯è¯»æ€§æ›´é«˜ã€‚ éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œ<code>instanceof</code>æ¨¡å¼åŒ¹é…åªåœ¨å¯¹åº”çš„<code>if</code>è¯­å¥åˆ†æ”¯ä¸­æœ‰æ•ˆï¼Œå¦‚æœæƒ³åœ¨åç»­çš„ä»£ç ä¸­ç»§ç»­ä½¿ç”¨å·²ç»å£°æ˜çš„å˜é‡ï¼Œéœ€è¦å°†å…¶æå‡åˆ°å¤–éƒ¨ä½œç”¨åŸŸã€‚</p> 
<h3><a id="72_Records_1894"></a>7.2 Recordsï¼ˆè®°å½•ç±»å‹ï¼‰</h3> 
<p>Recordsï¼ˆè®°å½•ç±»å‹ï¼‰æ˜¯JDK 14å¼•å…¥çš„ä¸€é¡¹æ–°ç‰¹æ€§ï¼Œå®ƒç®€åŒ–äº†åˆ›å»ºä¸å¯å˜ï¼ˆimmutableï¼‰æ•°æ®å¯¹è±¡çš„è¿‡ç¨‹ã€‚é€šè¿‡ä½¿ç”¨<code>record</code>å…³é”®å­—ï¼Œå¯ä»¥å®šä¹‰ä¸€ä¸ªè®°å½•ç±»å‹ï¼Œè¯¥ç±»å‹è‡ªåŠ¨ç”Ÿæˆäº†ä¸€äº›æ ‡å‡†çš„æ–¹æ³•ï¼Œå¦‚æ„é€ å‡½æ•°ã€getteræ–¹æ³•ã€equals()ã€hashCode()å’ŒtoString()ç­‰æ–¹æ³•ã€‚ ä»¥ä¸‹æ˜¯ä¸€ä¸ªä½¿ç”¨è®°å½•ç±»å‹çš„ç¤ºä¾‹ï¼š</p> 
<pre><code>public record Person(String name, int age) {
    // è‡ªåŠ¨ç”Ÿæˆäº†æ„é€ å‡½æ•°å’Œgetteræ–¹æ³•
}

// åˆ›å»ºè®°å½•ç±»å‹çš„å®ä¾‹
Person person = new Person("John Doe", 30);

// è®¿é—®è®°å½•ç±»å‹çš„å±æ€§
String name = person.name();
int age = person.age();

// è‡ªåŠ¨ç”Ÿæˆçš„toString()æ–¹æ³•
System.out.println(person);
</code></pre> 
<p>åœ¨ä¸Šè¿°ç¤ºä¾‹ä¸­ï¼Œä½¿ç”¨<code>record</code>å…³é”®å­—å®šä¹‰äº†ä¸€ä¸ªåä¸º<code>Person</code>çš„è®°å½•ç±»å‹ï¼Œå®ƒæœ‰ä¸¤ä¸ªå±æ€§ï¼š<code>name</code>å’Œ<code>age</code>ã€‚é€šè¿‡å®šä¹‰è®°å½•ç±»å‹ï¼Œæˆ‘ä»¬å¯ä»¥é¿å…æ‰‹åŠ¨ç¼–å†™æ„é€ å‡½æ•°å’Œgetteræ–¹æ³•ï¼Œè¿™äº›æ–¹æ³•ä¼šè‡ªåŠ¨ç”Ÿæˆå¹¶ä¸è®°å½•ç±»å‹ç»‘å®šã€‚ æˆ‘ä»¬å¯ä»¥ä½¿ç”¨è®°å½•ç±»å‹çš„æ„é€ å‡½æ•°æ¥åˆ›å»ºå®ä¾‹ï¼Œç„¶åé€šè¿‡è‡ªåŠ¨ç”Ÿæˆçš„getteræ–¹æ³•è®¿é—®å±æ€§ã€‚ä¾‹å¦‚ï¼Œ<code>person.name()</code>è¿”å›è®°å½•ç±»å‹å®ä¾‹çš„<code>name</code>å±æ€§å€¼ã€‚ æ­¤å¤–ï¼Œè®°å½•ç±»å‹è¿˜æä¾›äº†è‡ªåŠ¨ç”Ÿæˆçš„<code>equals()</code>å’Œ<code>hashCode()</code>æ–¹æ³•ï¼Œç”¨äºæ¯”è¾ƒè®°å½•ç±»å‹çš„ç›¸ç­‰æ€§å’Œç”Ÿæˆå“ˆå¸Œç ã€‚åŒæ—¶ï¼Œå®ƒè¿˜æä¾›äº†è‡ªåŠ¨ç”Ÿæˆçš„<code>toString()</code>æ–¹æ³•ï¼Œç”¨äºä»¥å­—ç¬¦ä¸²å½¢å¼è¡¨ç¤ºè®°å½•ç±»å‹çš„å†…å®¹ã€‚ éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œè®°å½•ç±»å‹æ˜¯ä¸å¯å˜çš„ï¼Œå³ä¸€æ—¦åˆ›å»ºï¼Œå°±ä¸èƒ½ä¿®æ”¹å…¶å±æ€§çš„å€¼ã€‚å¦‚æœéœ€è¦ä¿®æ”¹å±æ€§ï¼Œéœ€è¦åˆ›å»ºä¸€ä¸ªæ–°çš„è®°å½•ç±»å‹å®ä¾‹ã€‚ è®°å½•ç±»å‹çš„å¼•å…¥ç®€åŒ–äº†åˆ›å»ºç®€å•æ•°æ®å¯¹è±¡çš„è¿‡ç¨‹ï¼Œå‡å°‘äº†æ ·æ¿ä»£ç ï¼Œæé«˜äº†ä»£ç çš„å¯è¯»æ€§å’Œå¯ç»´æŠ¤æ€§ï¼Œå°¤å…¶é€‚ç”¨äºé‚£äº›åªåŒ…å«æ•°æ®çš„ç®€å•å¯¹è±¡ã€‚</p> 
<h3><a id="73_Switch_1916"></a>7.3 Switchè¡¨è¾¾å¼æ‰©å±•</h3> 
<p>JDK 14å¯¹switchè¡¨è¾¾å¼è¿›è¡Œäº†æ‰©å±•ï¼Œä½¿å…¶æ›´åŠ å¼ºå¤§å’Œçµæ´»ã€‚ä»¥ä¸‹æ˜¯ä¸€äº›switchè¡¨è¾¾å¼çš„æ‰©å±•ç‰¹æ€§ï¼š</p> 
<ol start="0"><li>ä½¿ç”¨ç®­å¤´è¯­æ³•ï¼ˆArrow Syntaxï¼‰ï¼šåœ¨JDK 14ä¹‹å‰ï¼Œswitchè¯­å¥ä½¿ç”¨å†’å·ï¼ˆ:ï¼‰æ¥åˆ†éš”æ ‡ç­¾å’Œç›¸åº”çš„ä»£ç å—ã€‚ä½†åœ¨JDK 14ä¸­ï¼Œå¼•å…¥äº†ç®­å¤´ï¼ˆ-&gt;ï¼‰æ¥æ›¿ä»£å†’å·ï¼Œä½¿å¾—switchè¯­å¥æ›´åŠ ç®€æ´å’Œæ˜“è¯»ã€‚ ç¤ºä¾‹ï¼š</li></ol> 
<pre><code>int dayOfWeek = 3;
String dayType = switch (dayOfWeek) {
    case 1, 2, 3, 4, 5 -&gt; "Weekday";
    case 6, 7 -&gt; "Weekend";
    default -&gt; throw new IllegalArgumentException("Invalid day of the week: " + dayOfWeek);
};
</code></pre> 
<ol start="2"><li>ä½¿ç”¨å¤šä¸ªæ ‡ç­¾ï¼ˆMultiple Labelsï¼‰ï¼šåœ¨JDK 14ä¸­ï¼Œå¯ä»¥åœ¨ä¸€ä¸ªcaseè¯­å¥ä¸­ä½¿ç”¨å¤šä¸ªæ ‡ç­¾ï¼Œä»¥é€—å·åˆ†éš”ã€‚è¿™æ ·å¯ä»¥å°†å¤šä¸ªæ ‡ç­¾æ˜ å°„åˆ°åŒä¸€æ®µä»£ç ï¼Œé¿å…äº†é‡å¤çš„ä»£ç å—ã€‚ ç¤ºä¾‹ï¼š</li></ol> 
<pre><code>int number = 2;
switch (number) {
    case 1, 2, 3:
        System.out.println("Number is between 1 and 3");
        break;
    case 4, 5, 6:
        System.out.println("Number is between 4 and 6");
        break;
    default:
        System.out.println("Number is out of range");
        break;
}
</code></pre> 
<ol start="3"><li>ä½¿ç”¨yieldè¯­å¥è¿”å›å€¼ï¼ˆYield Statementï¼‰ï¼šåœ¨JDK 14ä¸­ï¼Œå¯ä»¥åœ¨switchè¡¨è¾¾å¼çš„æ¯ä¸ªåˆ†æ”¯ä¸­ä½¿ç”¨yieldè¯­å¥è¿”å›ä¸€ä¸ªå€¼ã€‚è¿™æ ·å¯ä»¥æ›´æ–¹ä¾¿åœ°ä»switchè¡¨è¾¾å¼ä¸­è¿”å›ç»“æœã€‚ ç¤ºä¾‹ï¼š</li></ol> 
<pre><code>int number = 2;
String numberType = switch (number) {
    case 0:
    case 1:
        yield "Even";
    case 2:
    case 3:
        yield "Odd";
    default:
        yield "Unknown";
};
</code></pre> 
<p>è¿™äº›æ‰©å±•ä½¿å¾—switchè¡¨è¾¾å¼æ›´åŠ å¼ºå¤§å’Œçµæ´»ï¼Œèƒ½å¤Ÿæ›´æ¸…æ™°åœ°è¡¨è¾¾ä»£ç é€»è¾‘ï¼Œå¹¶å‡å°‘å†—ä½™ä»£ç ã€‚</p> 
<h3><a id="74_Garbage_Collectors_1966"></a>7.4 åƒåœ¾å›æ”¶å™¨ï¼ˆGarbage Collectorsï¼‰å¢å¼º</h3> 
<p>åœ¨JDK 14ä¸­ï¼Œå¼•å…¥äº†ä¸¤ä¸ªæ–°çš„åƒåœ¾å›æ”¶å™¨ï¼šZGCï¼ˆZ Garbage Collectorï¼‰å’ŒShenandoahï¼Œä»¥å¢å¼ºJavaåº”ç”¨ç¨‹åºçš„åƒåœ¾å›æ”¶æ€§èƒ½ã€‚ä»¥ä¸‹æ˜¯å¯¹å®ƒä»¬çš„ç®€è¦ä»‹ç»ï¼š</p> 
<ol start="0"><li>ZGCï¼ˆZ Garbage Collectorï¼‰ï¼šZGCæ˜¯ä¸€ç§ä½å»¶è¿Ÿçš„åƒåœ¾å›æ”¶å™¨ï¼Œæ—¨åœ¨å‡å°‘Javaåº”ç”¨ç¨‹åºçš„åœé¡¿æ—¶é—´ã€‚å®ƒæ˜¯ä¸€ç§å¹¶å‘åƒåœ¾å›æ”¶å™¨ï¼Œå¯ä»¥åœ¨éå¸¸çŸ­æš‚çš„æš‚åœæ—¶é—´å†…æ‰§è¡Œå¤§éƒ¨åˆ†çš„åƒåœ¾å›æ”¶æ“ä½œã€‚ZGCçš„ç›®æ ‡æ˜¯ä½¿å¾—åƒåœ¾å›æ”¶åœé¡¿æ—¶é—´ä¸è¶…è¿‡10æ¯«ç§’ï¼Œå¹¶ä¸”åœ¨å‡ ç™¾å…†å­—èŠ‚è‡³å‡ ä¸ªå¤ªå­—èŠ‚çš„å †å¤§å°ä¸‹å…·æœ‰å¯æ‰©å±•æ€§ã€‚</li><li>Shenandoahï¼šShenandoahæ˜¯å¦ä¸€ç§ä½å»¶è¿Ÿçš„åƒåœ¾å›æ”¶å™¨ï¼Œä¸“æ³¨äºæœ€å°åŒ–åº”ç”¨ç¨‹åºçš„åœé¡¿æ—¶é—´ã€‚å®ƒæ˜¯ä¸€ç§å¹¶å‘æ ‡è®°-æ¸…é™¤åƒåœ¾å›æ”¶å™¨ï¼Œå®ƒçš„ä¸»è¦ç›®æ ‡æ˜¯åœ¨å †å¤§å°ä¸ºå‡ ç™¾å…†å­—èŠ‚åˆ°å‡ ä¸ªå¤ªå­—èŠ‚ä¹‹é—´ï¼Œæä¾›å¯æ¥å—çš„åƒåœ¾å›æ”¶åœé¡¿æ—¶é—´ã€‚Shenandoahé‡‡ç”¨äº†ä¸€ç§å…¨å±€å¹¶å‘æ ‡è®°ç®—æ³•ï¼Œä½¿å¾—æ ‡è®°é˜¶æ®µä¸åº”ç”¨ç¨‹åºçº¿ç¨‹å¹¶å‘æ‰§è¡Œï¼Œä»è€Œå‡å°‘äº†åœé¡¿æ—¶é—´ã€‚</li></ol> 
<p>è¿™ä¸¤ä¸ªåƒåœ¾å›æ”¶å™¨çš„å…±åŒç›®æ ‡æ˜¯å‡å°‘Javaåº”ç”¨ç¨‹åºçš„åœé¡¿æ—¶é—´ï¼Œä»¥æé«˜åº”ç”¨ç¨‹åºçš„å“åº”æ€§èƒ½ã€‚å®ƒä»¬é‡‡ç”¨äº†ä¸åŒçš„åƒåœ¾å›æ”¶ç®—æ³•å’ŒæŠ€æœ¯ï¼Œé€‚ç”¨äºä¸åŒçš„åº”ç”¨åœºæ™¯å’Œå †å¤§å°ã€‚é€‰æ‹©ä½¿ç”¨å“ªä¸ªåƒåœ¾å›æ”¶å™¨å–å†³äºåº”ç”¨ç¨‹åºçš„ç‰¹æ€§ã€æ€§èƒ½éœ€æ±‚ä»¥åŠç¡¬ä»¶é…ç½®ã€‚ éœ€è¦æ³¨æ„çš„æ˜¯ï¼ŒZGCå’ŒShenandoahåœ¨JDK 14ä¸­è¢«æ ‡è®°ä¸ºå®éªŒæ€§åŠŸèƒ½ï¼Œå¯ä»¥é€šè¿‡å‘½ä»¤è¡Œé€‰é¡¹æ¥å¯ç”¨å®ƒä»¬ã€‚åœ¨åç»­çš„JDKç‰ˆæœ¬ä¸­ï¼Œè¿™äº›åƒåœ¾å›æ”¶å™¨å¯èƒ½ä¼šç»§ç»­æ”¹è¿›å’Œä¼˜åŒ–ï¼Œä»¥æä¾›æ›´å¥½çš„æ€§èƒ½å’Œç¨³å®šæ€§ã€‚</p> 
<h3><a id="75_Numeral_Formatting_1975"></a>7.5 Numeral Formatting</h3> 
<p>åœ¨JDK 14ä¸­ï¼Œå¼•å…¥äº†å¯¹Numeral Formattingçš„å¢å¼ºï¼Œä¸»è¦é€šè¿‡<code>java.text.NumberFormat</code>ç±»çš„æ–°æ–¹æ³•å’ŒåŠŸèƒ½è¿›è¡Œæ”¹è¿›ã€‚ä»¥ä¸‹æ˜¯JDK 14ä¸­Numeral Formattingçš„ä¸€äº›æ–°ç‰¹æ€§ï¼š</p> 
<ol start="0"><li>ä½¿ç”¨<code>CompactNumberFormat</code>ç±»ï¼š JDK 14å¼•å…¥äº†<code>CompactNumberFormat</code>ç±»ï¼Œå®ƒæ˜¯<code>NumberFormat</code>çš„å­ç±»ï¼Œç”¨äºåœ¨æ ¼å¼åŒ–æ•°å­—æ—¶ä»¥ç´§å‡‘å½¢å¼æ˜¾ç¤ºã€‚å®ƒå¯ä»¥æ ¹æ®æ•°å­—çš„å¤§å°è‡ªåŠ¨é€‰æ‹©åˆé€‚çš„å•ä½ï¼ˆå¦‚Kã€Mã€Bç­‰ï¼‰æ¥æ˜¾ç¤ºæ•°å­—ã€‚ ç¤ºä¾‹ï¼š</li></ol> 
<pre><code>double value = 12345678;
NumberFormat nf = NumberFormat.getCompactNumberInstance();
String formattedValue = nf.format(value);
System.out.println(formattedValue); // è¾“å‡ºï¼š12M
</code></pre> 
<ol start="2"><li>æ–°çš„<code>toLocalizedPattern()</code>å’Œ<code>toPattern()</code>æ–¹æ³•ï¼š åœ¨JDK 14ä¸­ï¼Œ<code>NumberFormat</code>ç±»æ–°å¢äº†<code>toLocalizedPattern()</code>å’Œ<code>toPattern()</code>æ–¹æ³•ï¼Œç”¨äºè·å–æ•°å­—æ ¼å¼åŒ–æ¨¡å¼çš„æœ¬åœ°åŒ–å­—ç¬¦ä¸²è¡¨ç¤ºå’ŒåŸå§‹å­—ç¬¦ä¸²è¡¨ç¤ºã€‚ ç¤ºä¾‹ï¼š</li></ol> 
<pre><code>NumberFormat nf = NumberFormat.getInstance();
String localizedPattern = nf.toLocalizedPattern();
String pattern = nf.toPattern();
System.out.println(localizedPattern);
System.out.println(pattern);
</code></pre> 
<ol start="3"><li>å¢å¼ºçš„å°æ•°ä½æ•°æ§åˆ¶ï¼š åœ¨JDK 14ä¸­ï¼Œ<code>NumberFormat</code>ç±»çš„<code>setMaximumFractionDigits()</code>å’Œ<code>setMinimumFractionDigits()</code>æ–¹æ³•æ”¯æŒè´Ÿæ•°å‚æ•°ï¼Œç”¨äºè®¾ç½®å°æ•°ä½æ•°çš„ä¸Šé™å’Œä¸‹é™ã€‚è´Ÿæ•°å€¼è¡¨ç¤ºä¿ç•™å°½å¯èƒ½å¤šçš„å°æ•°ä½æ•°ï¼Œä½†è‡³å°‘ä¿ç•™æŒ‡å®šçš„æ•°ç›®ã€‚ ç¤ºä¾‹ï¼š</li></ol> 
<pre><code>double value = 1234.56789;
NumberFormat nf = NumberFormat.getInstance();
nf.setMaximumFractionDigits(-1); // ä¿ç•™å°½å¯èƒ½å¤šçš„å°æ•°ä½æ•°
nf.setMinimumFractionDigits(2); // è‡³å°‘ä¿ç•™2ä½å°æ•°
String formattedValue = nf.format(value);
System.out.println(formattedValue); // è¾“å‡ºï¼š1,234.56789
</code></pre> 
<p>è¿™äº›å¢å¼ºä½¿å¾—åœ¨JDK 14ä¸­è¿›è¡ŒNumeral Formattingæ›´åŠ æ–¹ä¾¿å’Œçµæ´»ã€‚å¯ä»¥æ ¹æ®éœ€æ±‚ä½¿ç”¨ç´§å‡‘å½¢å¼ã€è·å–æ ¼å¼åŒ–æ¨¡å¼çš„æœ¬åœ°åŒ–å­—ç¬¦ä¸²è¡¨ç¤ºä»¥åŠå¯¹å°æ•°ä½æ•°è¿›è¡Œæ›´ç²¾ç»†çš„æ§åˆ¶ã€‚</p> 
<h3><a id="_JDK15_2011"></a>å…« JDK15æ–°ç‰¹æ€§</h3> 
<p>å‚è€ƒç½‘ç«™ï¼š<a href="https://link.juejin.cn/?target=https%3A%2F%2Fopenjdk.org%2Fprojects%2Fjdk%2F15%2F" rel="nofollow" title="https://openjdk.org/projects/jdk/15/">openjdk.org/projects/jdâ€¦</a></p> 
<pre><code>
339:
Edwards-Curve Digital Signature Algorithm (EdDSA)æ›²çº¿æ•°å­—ç­¾åç®—æ³•
360:
Sealed Classes (Preview)å¯†å°ç±»(é¢„è§ˆ)
371:
Hidden Classeséšè—ç±»åˆ«
372:
Remove the Nashorn JavaScript Engineåˆ é™¤ Nashorn JavaScript å¼•æ“
373:
Reimplement the Legacy DatagramSocket APIé‡æ–°å®ç°é—ç•™ DatagramSocket API
374:
Disable and Deprecate Biased Lockingç¦ç”¨å’Œå–æ¶ˆåå·®é”å®š
375:
Pattern Matching for instanceof (Second Preview)æ¨¡å¼åŒ¹é…(ç¬¬äºŒæ¬¡é¢„è§ˆ)
377:
ZGC: A Scalable Low-Latency Garbage CollectorZGC: ä¸€ä¸ªå¯ä¼¸ç¼©çš„ä½å»¶è¿Ÿåƒåœ¾æ”¶é›†å™¨
378:
Text Blocksæ–‡æœ¬å—
379:
Shenandoah: A Low-Pause-Time Garbage CollectorShenandoah: ä¸€ä¸ªä½æš‚åœæ—¶é—´çš„åƒåœ¾æ”¶é›†å™¨
381:
Remove the Solaris and SPARC Portsåˆ é™¤ Solaris å’Œ SPARC ç«¯å£
383:
Foreign-Memory Access API (Second Incubator)å¤–éƒ¨å†…å­˜è®¿é—® API (ç¬¬äºŒä¸ªå­µåŒ–å™¨)
384:
Records (Second Preview)çºªå½•(ç¬¬äºŒæ¬¡é¢„è§ˆ)
385:
Deprecate RMI Activation for Removalä¸æ¨èæ¿€æ´» RMI ä»¥ä¾¿åˆ é™¤
</code></pre> 
<h3><a id="81_Sealed_Classes_2047"></a>8.1 Sealed Classesï¼ˆå¯†å°ç±»ï¼‰</h3> 
<p>å¯†å°ç±»ï¼ˆSealed Classesï¼‰æ˜¯JDK 15å¼•å…¥çš„ä¸€é¡¹é‡è¦ç‰¹æ€§ï¼Œå®ƒæ˜¯ä¸€ç§æ–°çš„ç±»å’Œæ¥å£ä¿®é¥°ç¬¦ï¼Œç”¨äºæ§åˆ¶ç±»çš„ç»§æ‰¿å…³ç³»ã€‚é€šè¿‡å°†ç±»æˆ–æ¥å£å£°æ˜ä¸ºå¯†å°ç±»ï¼Œå¯ä»¥é™åˆ¶å“ªäº›ç±»å¯ä»¥ç»§æ‰¿æˆ–å®ç°è¯¥å¯†å°ç±» å¯†å°ç±»çš„ä¸»è¦ç›®çš„æ˜¯æä¾›æ›´ä¸¥æ ¼çš„è®¿é—®æ§åˆ¶ï¼Œä»¥ç¡®ä¿ç»§æ‰¿å±‚æ¬¡ç»“æ„çš„å®Œæ•´æ€§å’Œå®‰å…¨æ€§ã€‚åœ¨ä½¿ç”¨å¯†å°ç±»æ—¶ï¼Œå¼€å‘è€…å¯ä»¥æ˜ç¡®æŒ‡å®šå…è®¸ç»§æ‰¿çš„ç±»çš„èŒƒå›´ï¼Œè¿™æ ·å¯ä»¥é˜²æ­¢ä¸å—æ§åˆ¶çš„æ‰©å±•å’Œç»§æ‰¿ã€‚ è¦å°†ä¸€ä¸ªç±»å£°æ˜ä¸ºå¯†å°ç±»ï¼Œéœ€è¦ä½¿ç”¨<code>sealed</code>å…³é”®å­—è¿›è¡Œä¿®é¥°ã€‚ä¾‹å¦‚ï¼š</p> 
<pre><code>sealed class Shape permits Circle, Square, Triangle {
    // Class body
}
</code></pre> 
<p>åœ¨ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œ<code>Shape</code>æ˜¯ä¸€ä¸ªå¯†å°ç±»ï¼Œå®ƒå…è®¸ç»§æ‰¿çš„ç±»æœ‰<code>Circle</code>ã€<code>Square</code>å’Œ<code>Triangle</code>ã€‚è¿™æ„å‘³ç€åªæœ‰è¿™ä¸‰ä¸ªç±»å¯ä»¥ç›´æ¥ç»§æ‰¿<code>Shape</code>ï¼Œå…¶ä»–ç±»æ— æ³•ç»§æ‰¿å®ƒã€‚å¦‚æœå…¶ä»–ç±»å°è¯•ç»§æ‰¿<code>Shape</code>ï¼Œç¼–è¯‘å™¨å°†æŠ¥é”™ã€‚ é€šè¿‡ä½¿ç”¨å¯†å°ç±»ï¼Œå¯ä»¥æœ‰æ•ˆåœ°æ§åˆ¶ç»§æ‰¿å…³ç³»ï¼Œå¹¶å‡å°‘æ„å¤–çš„æ‰©å±•ã€‚è¿™å¯¹äºæ¡†æ¶å’Œåº“çš„è®¾è®¡éå¸¸æœ‰ç”¨ï¼Œå¯ä»¥ç¡®ä¿åªæœ‰å—ä¿¡ä»»çš„ç±»å¯ä»¥æ‰©å±•æˆ–å®ç°å¯†å°ç±»ã€‚ æ­¤å¤–ï¼Œå¯†å°ç±»ä¸æ¨¡å¼åŒ¹é…ï¼ˆPattern Matchingï¼‰åŠŸèƒ½ç›¸ç»“åˆï¼Œå¯ä»¥æ›´æ–¹ä¾¿åœ°å¤„ç†å¯†å°ç±»çš„å®ä¾‹ã€‚æ¨¡å¼åŒ¹é…å¯ä»¥æ ¹æ®å®ä¾‹çš„ç±»å‹è¿›è¡ŒåŒ¹é…ï¼Œå¹¶æ ¹æ®åŒ¹é…çš„ç»“æœæ‰§è¡Œç›¸åº”çš„æ“ä½œï¼Œä»è€Œç®€åŒ–äº†ç±»å‹æ£€æŸ¥å’Œè½¬æ¢çš„ä»£ç ã€‚ æ€»ä¹‹ï¼Œå¯†å°ç±»æ˜¯JDK 15å¼•å…¥çš„ä¸€é¡¹é‡è¦ç‰¹æ€§ï¼Œå®ƒé€šè¿‡æ§åˆ¶ç»§æ‰¿å…³ç³»æ¥æä¾›æ›´ä¸¥æ ¼çš„è®¿é—®æ§åˆ¶å’Œå®‰å…¨æ€§ã€‚å®ƒå¯ä»¥å¸®åŠ©å¼€å‘è€…æ›´å¥½åœ°è®¾è®¡ç±»å±‚æ¬¡ç»“æ„ï¼Œå¹¶å‡å°‘æ„å¤–çš„æ‰©å±•ã€‚</p> 
<h3><a id="82_Text_Blocks_2059"></a>8.2 Text Blocksï¼ˆæ–‡æœ¬å—ï¼‰</h3> 
<p>æ–‡æœ¬å—ï¼ˆText Blocksï¼‰æ˜¯JDK 15å¼•å…¥çš„ä¸€é¡¹é‡è¦ç‰¹æ€§ï¼Œå®ƒæä¾›äº†ä¸€ç§æ›´è‡ªç„¶ã€æ›´æ˜“è¯»çš„å¤šè¡Œå­—ç¬¦ä¸²è¡¨ç¤ºå½¢å¼ï¼Œä»¥å‡å°‘åœ¨ä»£ç ä¸­ç¼–å†™é•¿å­—ç¬¦ä¸²æ—¶çš„è½¬ä¹‰å­—ç¬¦å’Œæ ¼å¼åŒ–é—®é¢˜ã€‚</p> 
<p>åœ¨ä¼ ç»Ÿçš„Javaä¸­ï¼Œå¦‚æœè¦ç¼–å†™ä¸€ä¸ªåŒ…å«å¤šè¡Œæ–‡æœ¬çš„å­—ç¬¦ä¸²ï¼Œéœ€è¦ä½¿ç”¨è½¬ä¹‰å­—ç¬¦ï¼ˆä¾‹å¦‚<code>\n</code>ï¼‰æˆ–è¿æ¥æ“ä½œç¬¦ï¼ˆ<code>+</code>ï¼‰å°†å¤šè¡Œå­—ç¬¦ä¸²æ‹¼æ¥åœ¨ä¸€èµ·ã€‚è¿™æ ·çš„å†™æ³•ä¸ä»…å†—é•¿è€Œä¸”éš¾ä»¥é˜…è¯»å’Œç»´æŠ¤ã€‚</p> 
<p>ä½¿ç”¨æ–‡æœ¬å—ï¼Œå¯ä»¥æ›´ç®€æ´åœ°è¡¨ç¤ºå¤šè¡Œå­—ç¬¦ä¸²ï¼Œè€Œæ— éœ€ä½¿ç”¨è½¬ä¹‰å­—ç¬¦æˆ–è¿æ¥æ“ä½œç¬¦ã€‚æ–‡æœ¬å—ä½¿ç”¨ä¸‰ä¸ªå¼•å·ï¼ˆâ€œâ€"ï¼‰å°†å¤šè¡Œå­—ç¬¦ä¸²åŒ…è£¹èµ·æ¥ï¼Œå¹¶é€šè¿‡ç¼©è¿›æ¥å®šä¹‰å­—ç¬¦ä¸²çš„å†…å®¹ã€‚ä¾‹å¦‚ï¼š</p> 
<pre><code>String textBlock = """
    Hello,
    This is a multi-line
    text block.
    """;
</code></pre> 
<p>åœ¨ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œ<code>textBlock</code>æ˜¯ä¸€ä¸ªæ–‡æœ¬å—ï¼ŒåŒ…å«äº†ä¸‰è¡Œæ–‡æœ¬ã€‚é€šè¿‡ä½¿ç”¨æ–‡æœ¬å—ï¼Œæˆ‘ä»¬å¯ä»¥ç›´è§‚åœ°çœ‹åˆ°å­—ç¬¦ä¸²çš„æ ¼å¼å’Œç»“æ„ï¼Œè€Œæ— éœ€æ‹…å¿ƒè½¬ä¹‰å­—ç¬¦å’Œæ ¼å¼åŒ–é—®é¢˜ã€‚ æ–‡æœ¬å—è¿˜æ”¯æŒä¸€äº›é¢å¤–çš„ç‰¹æ€§ï¼Œä¾‹å¦‚å»é™¤å‰å¯¼ç©ºæ ¼å’Œå°¾éšç©ºæ ¼ã€‚å¯ä»¥ä½¿ç”¨<code>~</code>å­—ç¬¦æ¥æŒ‡å®šæ–‡æœ¬å—çš„ç¼©è¿›çº§åˆ«ï¼Œä»è€Œæ§åˆ¶æ–‡æœ¬å—ä¸­çš„ç©ºæ ¼ã€‚</p> 
<pre><code>String indentedBlock = """
        This is an indented block
        with leading and trailing spaces.
        """.stripIndent();
</code></pre> 
<p>åœ¨ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œ<code>stripIndent()</code>æ–¹æ³•ä¼šè‡ªåŠ¨å»é™¤å‰å¯¼ç©ºæ ¼ï¼Œç”Ÿæˆä¸€ä¸ªä¸åŒ…å«ç¼©è¿›çš„æ–‡æœ¬å—ã€‚ æ–‡æœ¬å—åœ¨è®¸å¤šåœºæ™¯ä¸­éƒ½éå¸¸æœ‰ç”¨ï¼Œç‰¹åˆ«æ˜¯åœ¨ç¼–å†™HTMLã€JSONã€SQLæˆ–å…¶ä»–æ ¼å¼åŒ–å­—ç¬¦ä¸²æ—¶ã€‚å®ƒæä¾›äº†æ›´æ¸…æ™°å’Œæ˜“äºç»´æŠ¤çš„ä»£ç ï¼Œæé«˜äº†å¼€å‘æ•ˆç‡ã€‚ éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œæ–‡æœ¬å—æ˜¯åœ¨ç¼–è¯‘æ—¶è¿›è¡Œå¤„ç†çš„ï¼Œå¹¶ä¸ä¼šåœ¨è¿è¡Œæ—¶å½±å“å­—ç¬¦ä¸²å¯¹è±¡çš„è¡¨ç¤ºæ–¹å¼ã€‚å› æ­¤ï¼Œæ–‡æœ¬å—å¹¶ä¸æ”¹å˜å­—ç¬¦ä¸²çš„åŸºæœ¬æ€§è´¨å’Œæ“ä½œã€‚</p> 
<h3><a id="83_Hidden_Classes_2086"></a>8.3 Hidden Classesï¼ˆéšè—ç±»ï¼‰</h3> 
<p>éšè—ç±»ï¼ˆHidden Classesï¼‰æ˜¯JDK 15å¼•å…¥çš„ä¸€é¡¹ç‰¹æ€§ï¼Œå®ƒå…è®¸åœ¨è¿è¡Œæ—¶åŠ¨æ€ç”Ÿæˆç±»ï¼ŒåŒæ—¶ä¸ä¼šå¯¹ç¨‹åºçš„æ€§èƒ½äº§ç”Ÿè´Ÿé¢å½±å“ã€‚éšè—ç±»å¯¹äºæŸäº›ç‰¹å®šçš„åº”ç”¨åœºæ™¯éå¸¸æœ‰ç”¨ï¼Œå¦‚åŠ¨æ€ä»£ç†ã€ä»£ç ç”Ÿæˆå’ŒJavaè™šæ‹Ÿæœºçš„å®ç°ã€‚ éšè—ç±»çš„ä¸»è¦ç›®çš„æ˜¯åœ¨ä¸æš´éœ²ç±»çš„å­—èŠ‚ç çš„æƒ…å†µä¸‹ï¼Œå…è®¸ç”Ÿæˆå’Œä½¿ç”¨ç±»ã€‚è¿™å¯¹äºä¸€äº›æ¶‰åŠæ•æ„Ÿé€»è¾‘æˆ–éœ€è¦åŠ¨æ€ç”Ÿæˆå’ŒåŠ è½½ç±»çš„åº”ç”¨ç¨‹åºéå¸¸æœ‰ç”¨ã€‚ éšè—ç±»çš„ç”Ÿæˆå’Œä½¿ç”¨æ˜¯é€šè¿‡Javaè™šæ‹Ÿæœºçš„<code>Lookup</code>å¯¹è±¡å’Œ<code>MethodHandles</code> APIè¿›è¡Œçš„ã€‚<code>Lookup</code>å¯¹è±¡æä¾›äº†å¯¹ç±»çš„ç§æœ‰æˆå‘˜è®¿é—®çš„æƒé™ï¼Œå¹¶å¯ä»¥ç”¨äºåˆ›å»ºéšè—ç±»ã€‚<code>MethodHandles</code> APIæä¾›äº†å¯¹æ–¹æ³•å¥æŸ„çš„æ“ä½œå’Œè°ƒç”¨ã€‚ ç”Ÿæˆéšè—ç±»çš„è¿‡ç¨‹å¯ä»¥æ¦‚æ‹¬ä¸ºä»¥ä¸‹å‡ ä¸ªæ­¥éª¤ï¼š</p> 
<ol start="0"><li>è·å–<code>Lookup</code>å¯¹è±¡ï¼šé€šè¿‡åå°„æˆ–å…¶ä»–æ–¹å¼è·å–<code>Lookup</code>å¯¹è±¡ï¼Œè¯¥å¯¹è±¡å…·æœ‰è¶³å¤Ÿçš„æƒé™æ¥åˆ›å»ºéšè—ç±»ã€‚</li><li>å®šä¹‰ç±»çš„ç»“æ„ï¼šä½¿ç”¨<code>Lookup</code>å¯¹è±¡çš„<code>defineHiddenClass()</code>æ–¹æ³•å®šä¹‰ç±»çš„ç»“æ„ï¼ŒåŒ…æ‹¬ç±»çš„åç§°ã€çˆ¶ç±»ã€æ¥å£ç­‰ã€‚</li><li>åŠ è½½å’Œé“¾æ¥ç±»ï¼šä½¿ç”¨<code>Lookup</code>å¯¹è±¡çš„<code>lookupClass()</code>æ–¹æ³•åŠ è½½å’Œé“¾æ¥éšè—ç±»ã€‚</li><li>åˆ›å»ºå®ä¾‹å’Œè°ƒç”¨æ–¹æ³•ï¼šä½¿ç”¨<code>MethodHandles</code> APIå’Œéšè—ç±»çš„å¥æŸ„æ¥åˆ›å»ºå®ä¾‹å’Œè°ƒç”¨æ–¹æ³•ã€‚</li></ol> 
<p>éšè—ç±»çš„ä¸»è¦ä¼˜åŠ¿åœ¨äºï¼Œå®ƒä»¬å¯ä»¥åœ¨è¿è¡Œæ—¶åŠ¨æ€ç”Ÿæˆå’ŒåŠ è½½ï¼Œè€Œæ— éœ€äº‹å…ˆç¼–å†™å’Œç¼–è¯‘ç±»çš„å­—èŠ‚ç ã€‚è¿™å¯¹äºæŸäº›åœºæ™¯ï¼Œå¦‚å®ç°åŠ¨æ€ä»£ç†ã€æ’ä»¶ç³»ç»Ÿã€ä»£ç ç”Ÿæˆå’Œçƒ­éƒ¨ç½²ç­‰ï¼Œæä¾›äº†æ›´å¤§çš„çµæ´»æ€§å’Œæ‰©å±•æ€§ã€‚ éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œéšè—ç±»æ˜¯ä¸€é¡¹é«˜çº§ç‰¹æ€§ï¼Œé€šå¸¸åœ¨ç‰¹å®šçš„åº”ç”¨ç¨‹åºæ¡†æ¶å’Œåº“ä¸­ä½¿ç”¨ï¼Œè€Œä¸æ˜¯æ™®é€šçš„åº”ç”¨ç¨‹åºå¼€å‘ä¸­ã€‚ä½¿ç”¨éšè—ç±»éœ€è¦è°¨æ…ï¼Œç¡®ä¿äº†è§£å…¶å·¥ä½œåŸç†å’Œé€‚ç”¨åœºæ™¯ã€‚</p> 
<h3><a id="84_Records_2097"></a>8.4 Recordsï¼ˆè®°å½•ç±»ï¼‰</h3> 
<p>JDK 15å¯¹è®°å½•ç±»è¿›è¡Œäº†ä¸€äº›æ”¹è¿›ï¼Œä¸»è¦åŒ…æ‹¬ï¼š</p> 
<ol start="0"><li>æ‰©å±•æ€§æ„é€ å‡½æ•°ï¼ˆExtended Constructorï¼‰ï¼šåœ¨JDK 15ä¹‹å‰ï¼Œè®°å½•ç±»åªæœ‰ä¸€ä¸ªéšå¼çš„æ„é€ å‡½æ•°ï¼Œå®ƒæ¥å—æ‰€æœ‰å±æ€§ä½œä¸ºå‚æ•°ã€‚åœ¨JDK 15ä¸­ï¼Œè®°å½•ç±»å¼•å…¥äº†æ‰©å±•æ€§æ„é€ å‡½æ•°ï¼Œå…è®¸å¼€å‘è€…è‡ªå®šä¹‰æ„é€ å‡½æ•°ï¼ŒåŒæ—¶ä¿ç•™éšå¼æ„é€ å‡½æ•°çš„åŠŸèƒ½ã€‚</li><li>@Overrideæ”¯æŒï¼šåœ¨JDK 15ä¹‹å‰ï¼Œç”±äºè®°å½•ç±»çš„æ–¹æ³•æ˜¯ç”±ç¼–è¯‘å™¨è‡ªåŠ¨ç”Ÿæˆçš„ï¼Œå› æ­¤æ— æ³•ä½¿ç”¨@Overrideæ³¨è§£æ¥æ ‡è®°è¦†ç›–çˆ¶ç±»æ–¹æ³•ã€‚åœ¨JDK 15ä¸­ï¼Œæ”¯æŒåœ¨è®°å½•ç±»æ–¹æ³•ä¸Šä½¿ç”¨@Overrideæ³¨è§£ï¼Œä»¥ä¾¿æ›´å¥½åœ°è¡¨ç¤ºå…¶è¦†ç›–å…³ç³»ã€‚</li></ol> 
<h3><a id="85_Pattern_Matching_for_instanceofinstanceof_2104"></a>8.5 Pattern Matching for instanceofï¼ˆinstanceofçš„æ¨¡å¼åŒ¹é…ï¼‰</h3> 
<p>JDK 15å¼•å…¥äº†ä¸€é¡¹é‡è¦çš„ç‰¹æ€§ï¼Œå³"Pattern Matching for instanceof"ï¼ˆinstanceofçš„æ¨¡å¼åŒ¹é…ï¼‰ã€‚è¿™ä¸ªç‰¹æ€§é€šè¿‡ç®€åŒ–å¯¹ç±»å‹çš„æ£€æŸ¥å’Œè½¬æ¢æ¥æé«˜ä»£ç çš„å¯è¯»æ€§å’Œç®€æ´æ€§ã€‚ åœ¨Javaä¸­ï¼Œæˆ‘ä»¬é€šå¸¸ä½¿ç”¨<code>instanceof</code>è¿ç®—ç¬¦æ¥æ£€æŸ¥å¯¹è±¡æ˜¯å¦å±äºæŸä¸ªç‰¹å®šç±»å‹ã€‚åœ¨JDK 15ä¹‹å‰ï¼Œè¿™é€šå¸¸éœ€è¦å°†æ£€æŸ¥é€šè¿‡åçš„å¯¹è±¡å¼ºåˆ¶è½¬æ¢ä¸ºç›®æ ‡ç±»å‹ï¼Œä»¥ä¾¿åœ¨åç»­çš„ä»£ç ä¸­ä½¿ç”¨ã€‚è¿™æ ·çš„ä»£ç æ¨¡å¼éå¸¸æ™®éã€‚ è€Œåœ¨JDK 15ä¸­ï¼Œå¼•å…¥äº†æ¨¡å¼åŒ¹é…çš„åŠŸèƒ½ï¼Œå¯ä»¥å°†<code>instanceof</code>ä¸ç±»å‹è½¬æ¢ç»“åˆèµ·æ¥ï¼Œä»¥æ›´ç®€æ´çš„æ–¹å¼å®Œæˆç±»å‹æ£€æŸ¥å’Œè½¬æ¢ã€‚ä¸‹é¢æ˜¯ä¸€ä¸ªä½¿ç”¨æ¨¡å¼åŒ¹é…çš„ç¤ºä¾‹ï¼š</p> 
<pre><code>if (obj instanceof String str) {
    System.out.println(str.length());
}
</code></pre> 
<p>åœ¨ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨<code>instanceof</code>è¿ç®—ç¬¦æ£€æŸ¥<code>obj</code>æ˜¯å¦æ˜¯<code>String</code>ç±»å‹ã€‚å¦‚æœæ˜¯ï¼Œé‚£ä¹ˆæˆ‘ä»¬å¯ä»¥åœ¨æ¡ä»¶å—å†…éƒ¨ç›´æ¥ä½¿ç”¨<code>str</code>ä½œä¸º<code>String</code>ç±»å‹çš„å¯¹è±¡ï¼Œå¹¶ä¸”ç¼–è¯‘å™¨ä¼šè‡ªåŠ¨å°†å…¶è§†ä¸º<code>String</code>ç±»å‹ã€‚è¿™æ ·ï¼Œæˆ‘ä»¬å°±å¯ä»¥ç›´æ¥è°ƒç”¨<code>str</code>ä¸Šçš„æ–¹æ³•æˆ–è®¿é—®å…¶å±æ€§ï¼Œè€Œæ— éœ€è¿›è¡Œé¢å¤–çš„å¼ºåˆ¶ç±»å‹è½¬æ¢ã€‚ è¿™ç§æ¨¡å¼åŒ¹é…çš„è¯­æ³•å¯ä»¥å¸®åŠ©å¼€å‘è€…æ›´ç›´æ¥åœ°å¤„ç†ç±»å‹æ£€æŸ¥å’Œç±»å‹è½¬æ¢ï¼Œå¹¶å‡å°‘äº†æ ·æ¿ä»£ç çš„ç¼–å†™ã€‚å®ƒæä¾›äº†æ›´ç®€æ´å’Œæ˜“è¯»çš„æ–¹å¼æ¥å¤„ç†å¤æ‚çš„ç±»å‹åˆ¤æ–­å’Œè½¬æ¢é€»è¾‘ã€‚ éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œæ¨¡å¼åŒ¹é…çš„ä½œç”¨åŸŸä»…é™äºæ¡ä»¶å—å†…éƒ¨ï¼Œè¶…å‡ºè¯¥èŒƒå›´åï¼Œå˜é‡å°†ä¸å†è¢«è§†ä¸ºç‰¹å®šç±»å‹ã€‚</p> 
<h3><a id="_JDK16_2116"></a>ä¹ JDK16æ–°ç‰¹æ€§</h3> 
<p>å‚è€ƒç½‘ç«™ï¼š<a href="https://link.juejin.cn/?target=https%3A%2F%2Fopenjdk.org%2Fprojects%2Fjdk%2F16%2F" rel="nofollow" title="https://openjdk.org/projects/jdk/16/">openjdk.org/projects/jdâ€¦</a></p> 
<pre><code>
338:
Vector API (Incubator)çŸ¢é‡ API (å­µåŒ–å™¨)
347:
Enable C++14 Language Featureså¯ç”¨ C + + 14è¯­è¨€ç‰¹æ€§
357:
Migrate from Mercurial to Gitä» Mercurial è¿ç§»åˆ° Git
369:
Migrate to GitHubè¿ç§»åˆ° GitHub
376:
ZGC: Concurrent Thread-Stack ProcessingZGC: å¹¶å‘çº¿ç¨‹å †æ ˆå¤„ç†
380:
Unix-Domain Socket ChannelsUnix åŸŸå¥—æ¥å­—é€šé“
386:
Alpine Linux Porté«˜å±± Linux ç«¯å£
387:
Elastic Metaspaceå¼¹æ€§å…ƒç©ºé—´
388:
Windows/AArch64 PortWindows/AArch64ç«¯å£
389:
Foreign Linker API (Incubator)å¤–éƒ¨è¿æ¥å™¨ API (å­µåŒ–å™¨)
390:
Warnings for Value-Based ClassesåŸºäºå€¼çš„ç±»çš„è­¦å‘Š
392:
Packaging ToolåŒ…è£…å·¥å…·
393:
Foreign-Memory Access API (Third Incubator)å¤–éƒ¨å†…å­˜è®¿é—® API (ç¬¬ä¸‰å­µåŒ–å™¨)
394:
Pattern Matching for instanceofæ¨¡å¼åŒ¹é…
395:
Recordsè®°å½•
396:
Strongly Encapsulate JDK Internals by Defaulté»˜è®¤æƒ…å†µä¸‹å¼ºå°è£… JDK å†…éƒ¨
397:
Sealed Classes (Second Preview)å¯†å°ç±»(ç¬¬äºŒæ¬¡é¢„è§ˆ)
</code></pre> 
<h3><a id="91_Foreign_Function__Memory_API_API_2158"></a>9.1 Foreign Function &amp; Memory APIï¼ˆå¤–éƒ¨å‡½æ•°å’Œå†…å­˜ APIï¼‰</h3> 
<p>Foreign Function &amp; Memory APIï¼ˆå¤–éƒ¨å‡½æ•°å’Œå†…å­˜ APIï¼‰æ˜¯ JDK 16 ä¸­å¼•å…¥çš„ä¸€ä¸ªç‰¹æ€§ï¼Œå®ƒæä¾›äº†ä¸€ç§æ ‡å‡†åŒ–çš„æœºåˆ¶ï¼Œç”¨äºä¸å¤–éƒ¨æœ¬æœºä»£ç è¿›è¡Œäº¤äº’ã€‚è¯¥ API æ—¨åœ¨æ”¹å–„ Java ä¸æœ¬æœºä»£ç é›†æˆçš„ä½“éªŒï¼Œå¹¶ç®€åŒ–æœ¬æœºä»£ç è®¿é—®å’Œæ“ä½œã€‚ Foreign Function &amp; Memory API çš„ä¸»è¦ç»„æˆéƒ¨åˆ†åŒ…æ‹¬ä»¥ä¸‹å†…å®¹ï¼š</p> 
<ol start="0"><li>Foreign Linker APIï¼ˆå¤–éƒ¨é“¾æ¥å™¨ APIï¼‰ï¼šè¯¥ API æä¾›äº†ä¸€ç»„æ¥å£å’Œç±»ï¼Œç”¨äºå£°æ˜å’Œæ“ä½œä¸æœ¬æœºå‡½æ•°çš„é“¾æ¥ã€‚é€šè¿‡ Foreign Linker APIï¼Œå¯ä»¥å®šä¹‰æœ¬æœºå‡½æ•°çš„ç­¾åã€è®¿é—®æœ¬æœºåº“ä¸­çš„å‡½æ•°ï¼Œå¹¶åœ¨ Java ä»£ç ä¸­è°ƒç”¨æœ¬æœºå‡½æ•°ã€‚</li><li>Foreign Memory Access APIï¼ˆå¤–éƒ¨å†…å­˜è®¿é—® APIï¼‰ï¼šè¯¥ API å…è®¸ç›´æ¥è®¿é—®æœ¬æœºå†…å­˜ï¼Œä»¥ä¾¿åœ¨ Java ä»£ç ä¸­é«˜æ•ˆåœ°å¤„ç†æœ¬æœºæ•°æ®ã€‚é€šè¿‡ Foreign Memory Access APIï¼Œå¯ä»¥åˆ†é…æœ¬æœºå†…å­˜ã€è¯»å†™æœ¬æœºå†…å­˜çš„å€¼ï¼Œå¹¶æ‰§è¡Œæœ¬æœºå†…å­˜çš„é‡Šæ”¾æ“ä½œã€‚</li><li>Foreign Memory Segment APIï¼ˆå¤–éƒ¨å†…å­˜æ®µ APIï¼‰ï¼šè¯¥ API æä¾›äº†å¯¹è¿ç»­å†…å­˜æ®µçš„æŠ½è±¡ï¼Œå¯ä»¥åœ¨ Java ä»£ç ä¸­è¡¨ç¤ºå’Œæ“ä½œæœ¬æœºå†…å­˜å—ã€‚å®ƒåŒ…æ‹¬æ“ä½œå†…å­˜æ®µçš„æ–¹æ³•ï¼Œå¦‚å¤åˆ¶ã€å¡«å……ã€ç§»åŠ¨å’Œæ¯”è¾ƒç­‰ã€‚</li></ol> 
<p>Foreign Function &amp; Memory API ä½¿å¾— Java å¼€å‘äººå‘˜èƒ½å¤Ÿæ›´åŠ çµæ´»åœ°ä¸æœ¬æœºä»£ç è¿›è¡Œäº¤äº’ï¼Œå¹¶ä¸”å¯ä»¥æé«˜æ€§èƒ½å’Œé™ä½ä¸æœ¬æœºä»£ç é›†æˆçš„å¤æ‚æ€§ã€‚å®ƒåœ¨ä¸æœ¬æœºåº“ã€æ“ä½œç³»ç»Ÿæ¥å£ã€ç¡¬ä»¶åŠ é€Ÿç­‰æ–¹é¢æœ‰å¹¿æ³›çš„åº”ç”¨åœºæ™¯ã€‚ è¯·æ³¨æ„ï¼Œä½¿ç”¨ Foreign Function &amp; Memory API éœ€è¦è°¨æ…å¤„ç†æœ¬æœºä»£ç å’Œå†…å­˜çš„è®¿é—®ï¼Œä»¥ç¡®ä¿å®‰å…¨æ€§å’Œç¨³å®šæ€§ã€‚åœ¨ä½¿ç”¨è¯¥ API æ—¶ï¼Œå»ºè®®å‚è€ƒå®˜æ–¹æ–‡æ¡£å’Œç¤ºä¾‹ï¼Œä»¥ä¾¿æ­£ç¡®åœ°ä½¿ç”¨å’Œç®¡ç†æœ¬æœºå‡½æ•°å’Œå†…å­˜ã€‚</p> 
<h3><a id="92_UnixDomain_Socket_ChannelUnix__2168"></a>9.2 Unix-Domain Socket Channelï¼ˆUnix åŸŸå¥—æ¥å­—é€šé“ï¼‰</h3> 
<p>Unix-Domain Socket Channelï¼ˆUnix åŸŸå¥—æ¥å­—é€šé“ï¼‰æ˜¯ JDK 16 ä¸­å¼•å…¥çš„ä¸€ä¸ªç‰¹æ€§ï¼Œå®ƒå…è®¸ Java ç¨‹åºé€šè¿‡ Unix åŸŸå¥—æ¥å­—è¿›è¡Œæœ¬æœºè¿›ç¨‹é—´é€šä¿¡ï¼ˆIPCï¼‰ã€‚ Unix åŸŸå¥—æ¥å­—æ˜¯ä¸€ç§åœ¨åŒä¸€å°æœºå™¨ä¸Šçš„è¿›ç¨‹ä¹‹é—´è¿›è¡Œé€šä¿¡çš„æœºåˆ¶ï¼Œç±»ä¼¼äºç½‘ç»œå¥—æ¥å­—ï¼Œä½†åœ¨å†…éƒ¨ä½¿ç”¨æ–‡ä»¶ç³»ç»Ÿè·¯å¾„ä½œä¸ºé€šä¿¡ç«¯ç‚¹è€Œä¸æ˜¯ IP åœ°å€å’Œç«¯å£å·ã€‚ Unix-Domain Socket Channel æä¾›äº†ä¸€ç§ä¸æœ¬æœº Unix åŸŸå¥—æ¥å­—è¿›è¡Œäº¤äº’çš„æ ‡å‡†åŒ–æ–¹å¼ï¼Œä½¿å¼€å‘äººå‘˜èƒ½å¤Ÿä½¿ç”¨ Java ç¨‹åºè¿›è¡Œè¿›ç¨‹é—´é€šä¿¡ã€‚ä½¿ç”¨ Unix-Domain Socket Channelï¼Œå¯ä»¥åˆ›å»ºã€ç»‘å®šã€è¿æ¥å’Œè¿›è¡Œè¯»å†™æ“ä½œç­‰ã€‚ ä»¥ä¸‹æ˜¯ä½¿ç”¨ Unix-Domain Socket Channel çš„ä¸€äº›å…³é”®æ“ä½œï¼š</p> 
<ol start="0"><li>åˆ›å»º Unix-Domain Socket Channelï¼šä½¿ç”¨é™æ€å·¥å‚æ–¹æ³• <code>UnixDomainSocketAddress.of(String path)</code> åˆ›å»ºä¸€ä¸ª Unix åŸŸå¥—æ¥å­—åœ°å€ï¼Œå¹¶ä½¿ç”¨ <code>UnixDomainSocketChannel.open()</code> åˆ›å»ºä¸€ä¸ª Unix-Domain Socket Channelã€‚</li><li>ç»‘å®šå’Œè¿æ¥ï¼šé€šè¿‡è°ƒç”¨ <code>bind(UnixDomainSocketAddress address)</code> æ–¹æ³•ç»‘å®š Unix-Domain Socket Channel åˆ°æŒ‡å®šçš„åœ°å€ï¼Œæˆ–ä½¿ç”¨ <code>connect(UnixDomainSocketAddress address)</code> æ–¹æ³•è¿æ¥åˆ°è¿œç¨‹åœ°å€ã€‚</li><li>è¯»å†™æ“ä½œï¼šå¯ä»¥ä½¿ç”¨ <code>read(ByteBuffer dst)</code> å’Œ <code>write(ByteBuffer src)</code> æ–¹æ³•è¿›è¡Œè¯»å–å’Œå†™å…¥æ“ä½œï¼Œè¯»å†™çš„æ•°æ®å°†åœ¨æœ¬æœºå¥—æ¥å­—é€šé“å’Œå¯¹åº”çš„æœ¬æœºè¿›ç¨‹ä¹‹é—´ä¼ è¾“ã€‚</li><li>å…³é—­é€šé“ï¼šé€šè¿‡è°ƒç”¨ <code>close()</code> æ–¹æ³•å…³é—­ Unix-Domain Socket Channelï¼Œé‡Šæ”¾ç›¸å…³çš„èµ„æºã€‚</li></ol> 
<p>Unix-Domain Socket Channel æä¾›äº†ä¸€ç§åœ¨ Java ä¸­è¿›è¡Œæœ¬æœºè¿›ç¨‹é—´é€šä¿¡çš„é«˜çº§æœºåˆ¶ï¼Œç‰¹åˆ«é€‚ç”¨äºéœ€è¦é«˜æ€§èƒ½ã€ä½å»¶è¿Ÿå’Œå®‰å…¨æ€§çš„åº”ç”¨åœºæ™¯ï¼Œå¦‚è¿›ç¨‹é—´åä½œã€æœåŠ¡å™¨å’Œå®¢æˆ·ç«¯é€šä¿¡ç­‰ã€‚ è¯·æ³¨æ„ï¼ŒUnix-Domain Socket Channel åªèƒ½åœ¨æ”¯æŒ Unix åŸŸå¥—æ¥å­—çš„æ“ä½œç³»ç»Ÿä¸Šä½¿ç”¨ï¼Œå¦‚ Linuxã€Unix å’Œ macOS ç­‰ã€‚</p> 
<h3><a id="93_Vector_API_API_2179"></a>9.3 Vector APIï¼ˆå‘é‡ APIï¼‰</h3> 
<p>Vector APIï¼ˆå‘é‡ APIï¼‰æ˜¯ JDK 16 ä¸­å¼•å…¥çš„ä¸€ä¸ªç‰¹æ€§ï¼Œå®ƒæä¾›äº†ä¸€ç»„ç±»å’Œæ¥å£ï¼Œç”¨äºåœ¨ Java ä¸­æ‰§è¡Œæ•°æ®å¹¶è¡Œè®¡ç®—å’ŒçŸ¢é‡åŒ–æ“ä½œã€‚é€šè¿‡ä½¿ç”¨å‘é‡ APIï¼Œå¼€å‘äººå‘˜å¯ä»¥æ›´é«˜æ•ˆåœ°åˆ©ç”¨ç°ä»£ç¡¬ä»¶çš„çŸ¢é‡åŒ–æŒ‡ä»¤é›†æ‰§è¡Œå¹¶è¡Œè®¡ç®—ã€‚ ä»¥ä¸‹æ˜¯ Vector API çš„ä¸€äº›å…³é”®ç‰¹æ€§å’Œæ¦‚å¿µï¼š</p> 
<ol start="0"><li>å‘é‡åŒ–æ•°æ®ç±»å‹ï¼šå‘é‡ API å¼•å…¥äº†ä¸€ç»„æ–°çš„æ•°æ®ç±»å‹ï¼Œå¦‚ Vector128ã€Vector256 ç­‰ï¼Œç”¨äºè¡¨ç¤ºå‘é‡åŒ–æ•°æ®ã€‚è¿™äº›æ•°æ®ç±»å‹å¯ä»¥å­˜å‚¨å’Œæ“ä½œå¤šä¸ªæ•°æ®å…ƒç´ ï¼Œå¹¶åˆ©ç”¨ç¡¬ä»¶çš„çŸ¢é‡åŒ–æŒ‡ä»¤é›†è¿›è¡Œå¹¶è¡Œè®¡ç®—ã€‚</li><li>å‘é‡æ“ä½œæ–¹æ³•ï¼šå‘é‡ API æä¾›äº†ä¸€ç»„ç”¨äºæ‰§è¡Œå‘é‡æ“ä½œçš„æ–¹æ³•ï¼Œå¦‚åŠ æ³•ã€å‡æ³•ã€ä¹˜æ³•ã€é™¤æ³•ã€é€å…ƒç´ æ“ä½œç­‰ã€‚è¿™äº›æ–¹æ³•å¯ä»¥åœ¨å‘é‡æ•°æ®ç±»å‹ä¸Šè¿›è¡Œæ“ä½œï¼Œå¹¶è‡ªåŠ¨åˆ©ç”¨åº•å±‚ç¡¬ä»¶çš„çŸ¢é‡åŒ–æŒ‡ä»¤é›†è¿›è¡Œå¹¶è¡Œè®¡ç®—ã€‚</li><li>å‘é‡æ©ç ï¼šå‘é‡ API å¼•å…¥äº†ä¸€ç§å‘é‡æ©ç çš„æ¦‚å¿µï¼Œç”¨äºé€‰æ‹©æ€§åœ°åº”ç”¨å‘é‡æ“ä½œã€‚é€šè¿‡æŒ‡å®šä¸€ä¸ªæ©ç ï¼Œå¯ä»¥å¯¹å‘é‡æ•°æ®çš„éƒ¨åˆ†å…ƒç´ è¿›è¡Œæ“ä½œï¼Œè€Œä¸å½±å“å…¶ä»–å…ƒç´ ã€‚è¿™æ ·å¯ä»¥æ›´çµæ´»åœ°å¤„ç†ä¸è§„åˆ™æ•°æ®é›†å’Œæ¡ä»¶æ“ä½œã€‚</li><li>å¹¶è¡Œè¿­ä»£ï¼šå‘é‡ API æ”¯æŒå¹¶è¡Œè¿­ä»£æ“ä½œï¼Œå…è®¸å¼€å‘äººå‘˜ä»¥å‘é‡åŒ–çš„æ–¹å¼å¤„ç†æ•°ç»„å’Œæ•°æ®é›†ã€‚é€šè¿‡æä¾›è¿­ä»£å™¨å’Œå¹¶è¡Œæµç­‰æœºåˆ¶ï¼Œå¯ä»¥é«˜æ•ˆåœ°åœ¨å¤šä¸ªå‘é‡æ•°æ®ä¸Šæ‰§è¡Œæ“ä½œã€‚</li><li>ä¸ç°æœ‰ API é›†æˆï¼šå‘é‡ API ä¸ç°æœ‰çš„ Java API é›†æˆè‰¯å¥½ï¼Œå¯ä»¥ä¸ Stream APIã€å¹¶è¡Œæµã€å¹¶å‘é›†åˆç­‰å…¶ä»–å¹¶è¡Œè®¡ç®—æœºåˆ¶ä¸€èµ·ä½¿ç”¨ã€‚è¿™æ ·å¯ä»¥åœ¨ç°æœ‰ä»£ç ä¸­æ— ç¼åœ°åŠ å…¥å‘é‡åŒ–æ“ä½œï¼Œæé«˜æ€§èƒ½å’Œå¹¶è¡Œåº¦ã€‚</li></ol> 
<p>å‘é‡ API çš„ç›®æ ‡æ˜¯æä¾›ä¸€ç§ç®€å•ã€ç›´è§‚çš„æ–¹å¼æ¥åˆ©ç”¨ç¡¬ä»¶çš„çŸ¢é‡åŒ–æŒ‡ä»¤é›†è¿›è¡Œæ•°æ®å¹¶è¡Œè®¡ç®—ã€‚å®ƒå¯ä»¥åœ¨å„ç§åœºæ™¯ä¸­å‘æŒ¥ä½œç”¨ï¼Œå¦‚ç§‘å­¦è®¡ç®—ã€å›¾åƒå¤„ç†ã€æœºå™¨å­¦ä¹ ç­‰éœ€è¦å¤§é‡æ•°æ®æ“ä½œå’Œå¹¶è¡Œè®¡ç®—çš„é¢†åŸŸã€‚</p> 
<h3><a id="94_Alpine_Linux__2191"></a>9.4 Alpine Linux æ”¯æŒ</h3> 
<p>åœ¨ JDK 16 ä¸­ï¼Œå¼•å…¥äº†å¯¹ Alpine Linux çš„å®˜æ–¹æ”¯æŒã€‚Alpine Linux æ˜¯ä¸€ä¸ªè½»é‡çº§çš„ Linux å‘è¡Œç‰ˆï¼Œä¸»è¦ç”¨äºå®¹å™¨åŒ–åº”ç”¨ç¨‹åºã€‚é€šè¿‡åœ¨ JDK 16 ä¸­æ·»åŠ å¯¹ Alpine Linux çš„æ”¯æŒï¼ŒJava å¼€å‘äººå‘˜å¯ä»¥æ›´æ–¹ä¾¿åœ°åœ¨ Alpine Linux ä¸Šéƒ¨ç½²å’Œè¿è¡Œä»–ä»¬çš„ Java åº”ç”¨ã€‚ Alpine Linux çš„ç‰¹ç‚¹æ˜¯å…·æœ‰æå°çš„é•œåƒå¤§å°ã€ç®€åŒ–çš„è½¯ä»¶åŒ…ç®¡ç†å’ŒåŸºäº musl libc çš„è½»é‡çº§ C åº“ã€‚å®ƒä¸“æ³¨äºæä¾›ä¸€ä¸ªå°å·§ã€é«˜åº¦å¯å®šåˆ¶å’Œå®‰å…¨çš„åŸºç¡€æ“ä½œç³»ç»Ÿç¯å¢ƒã€‚ åœ¨ JDK 16 ä¸­ï¼Œé€šè¿‡æ·»åŠ å¯¹ musl libc çš„æ”¯æŒï¼ŒJava ç¨‹åºå¯ä»¥ç›´æ¥åœ¨ Alpine Linux ä¸Šè¿è¡Œï¼Œè€Œæ— éœ€ä¾èµ–ä¼ ç»Ÿçš„ glibcï¼ˆGNU C Libraryï¼‰ã€‚è¿™ä½¿å¾— Java åº”ç”¨ç¨‹åºå¯ä»¥åœ¨æ›´å°çš„å®¹å™¨é•œåƒä¸­è¿è¡Œï¼Œå¹¶ä¸”å¯ä»¥æ›´å¿«åœ°å¯åŠ¨å’Œéƒ¨ç½²ã€‚ Alpine Linux æ”¯æŒå¯¹ Java å¼€å‘äººå‘˜æ¥è¯´æ˜¯ä¸€ä¸ªå¥½æ¶ˆæ¯ï¼Œå°¤å…¶æ˜¯åœ¨å®¹å™¨åŒ–å’Œäº‘åŸç”Ÿåº”ç”¨ç¨‹åºçš„åœºæ™¯ä¸‹ã€‚å®ƒæä¾›äº†æ›´è½»é‡çº§çš„åŸºç¡€æ“ä½œç³»ç»Ÿé€‰æ‹©ï¼Œå¹¶ä¸”ä¸ JDK 16 ä¸€èµ·ä½¿ç”¨ï¼Œå¯ä»¥æä¾›æ›´é«˜çš„çµæ´»æ€§å’Œæ€§èƒ½ã€‚ éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå°½ç®¡ JDK 16 æä¾›äº†å¯¹ Alpine Linux çš„å®˜æ–¹æ”¯æŒï¼Œä½†ä»ç„¶éœ€è¦éµå¾ªæœ€ä½³å®è·µå’Œé€‚å½“çš„é…ç½®ï¼Œä»¥ç¡®ä¿åœ¨ Alpine Linux ä¸Šçš„ Java åº”ç”¨ç¨‹åºçš„æ­£å¸¸è¿è¡Œã€‚</p> 
<h3><a id="_JDK17__2195"></a>å JDK17 æ–°ç‰¹æ€§</h3> 
<p>å‚è€ƒç½‘ç«™ï¼š<a href="https://link.juejin.cn/?target=https%3A%2F%2Fopenjdk.org%2Fprojects%2Fjdk%2F17%2F" rel="nofollow" title="https://openjdk.org/projects/jdk/17/">openjdk.org/projects/jdâ€¦</a></p> 
<pre><code>
306:
Restore Always-Strict Floating-Point Semanticsæ¢å¤å§‹ç»ˆä¸¥æ ¼çš„æµ®ç‚¹è¯­ä¹‰
356:
Enhanced Pseudo-Random Number Generatorså¢å¼ºå‹ä¼ªéšæœºæ•°å‘ç”Ÿå™¨
382:
New macOS Rendering Pipelineæ–°çš„ macOS æ¸²æŸ“ç®¡é“
391:
macOS/AArch64 PortMacOS/AArch64ç«¯å£
398:
Deprecate the Applet API for RemovalåºŸå¼ƒ Applet API ä»¥ä¾¿åˆ é™¤
403:
Strongly Encapsulate JDK Internalså¼ºå°è£… JDK å†…éƒ¨ç»“æ„
406:
Pattern Matching for switch (Preview)å¼€å…³æ¨¡å¼åŒ¹é…(é¢„è§ˆ)
407:
Remove RMI Activationåˆ é™¤ RMI æ¿€æ´»
409:
Sealed Classeså¯†å°ç±»
410:
Remove the Experimental AOT and JIT Compileråˆ é™¤å®éªŒæ€§ AOT å’Œ JIT ç¼–è¯‘å™¨
411:
Deprecate the Security Manager for Removalå–æ¶ˆå®‰å…¨ç®¡ç†å™¨ä»¥ä¾¿åˆ é™¤
412:
Foreign Function &amp; Memory API (Incubator)å¤–éƒ¨å‡½æ•°å’Œå†…å­˜ API (å­µåŒ–å™¨)
414:
Vector API (Second Incubator)çŸ¢é‡ API (ç¬¬äºŒä¸ªå­µåŒ–å™¨)
415:
Context-Specific Deserialization Filtersç‰¹å®šäºä¸Šä¸‹æ–‡çš„ååºåˆ—åŒ–è¿‡æ»¤å™¨
JDK 17 will be a long-term support (LTS) release from most vendors. For a complete list of the JEPs integrated since the previous LTS release, JDK 11, please see here.
JDK 17å°†æ˜¯æ¥è‡ªå¤§å¤šæ•°ä¾›åº”å•†çš„é•¿æœŸæ”¯æŒ(LTS)ç‰ˆæœ¬ã€‚æœ‰å…³è‡ªä¸Šä¸€ä¸ª LTS ç‰ˆæœ¬ JDK 11ä»¥æ¥é›†æˆçš„ JEP çš„å®Œæ•´åˆ—è¡¨ï¼Œè¯·å‚é˜…è¿™é‡Œã€‚
</code></pre> 
<h3><a id="101_ContextSpecific_Deserialization_Filters_2233"></a>10.1 Context-Specific Deserialization Filtersï¼ˆä¸Šä¸‹æ–‡ç‰¹å®šçš„ååºåˆ—åŒ–è¿‡æ»¤å™¨ï¼‰</h3> 
<p>Context-Specific Deserialization Filtersï¼ˆä¸Šä¸‹æ–‡ç‰¹å®šçš„ååºåˆ—åŒ–è¿‡æ»¤å™¨ï¼‰æ˜¯ JDK 17 ä¸­å¼•å…¥çš„ä¸€ä¸ªç‰¹æ€§ï¼Œç”¨äºå¢å¼º Java åº”ç”¨ç¨‹åºå¯¹ååºåˆ—åŒ–è¿‡ç¨‹çš„æ§åˆ¶å’Œå®‰å…¨æ€§ã€‚ åœ¨ Java ä¸­ï¼Œååºåˆ—åŒ–æ˜¯å°†å¯¹è±¡ä»å­—èŠ‚åºåˆ—è¿˜åŸä¸ºå†…å­˜ä¸­çš„å¯¹è±¡çš„è¿‡ç¨‹ã€‚ç„¶è€Œï¼Œååºåˆ—åŒ–æ“ä½œå¯èƒ½å­˜åœ¨å®‰å…¨é£é™©ï¼Œå› ä¸ºæ¶æ„åºåˆ—åŒ–æ•°æ®å¯ä»¥è§¦å‘æœªç»æˆæƒçš„ä»£ç æ‰§è¡Œæˆ–å¯¹è±¡åˆ›å»ºã€‚ Context-Specific Deserialization Filters å…è®¸å¼€å‘äººå‘˜å®šä¹‰ç‰¹å®šäºä¸Šä¸‹æ–‡çš„ååºåˆ—åŒ–è¿‡æ»¤å™¨ï¼Œä»¥é™åˆ¶å“ªäº›ç±»å¯ä»¥è¢«ååºåˆ—åŒ–ã€‚å¼€å‘äººå‘˜å¯ä»¥åœ¨ç‰¹å®šçš„ä¸Šä¸‹æ–‡ä¸­è®¾ç½®ååºåˆ—åŒ–è¿‡æ»¤å™¨ï¼Œä¾‹å¦‚åœ¨åº”ç”¨ç¨‹åºçš„å®‰å…¨ç®¡ç†å™¨ä¸­ã€åœ¨ RMI è¿œç¨‹è°ƒç”¨ä¸­ã€åœ¨å¯¹è±¡è¾“å…¥æµçš„ç‰¹å®šå®ä¾‹ä¸Šç­‰ã€‚ é€šè¿‡å®šä¹‰ä¸Šä¸‹æ–‡ç‰¹å®šçš„ååºåˆ—åŒ–è¿‡æ»¤å™¨ï¼Œå¼€å‘äººå‘˜å¯ä»¥å®ç°ä»¥ä¸‹ç›®æ ‡ï¼š</p> 
<ol start="0"><li>ç±»è¿‡æ»¤ï¼šå¯ä»¥å®šä¹‰ç™½åå•æˆ–é»‘åå•ï¼Œåªå…è®¸æˆ–ç¦æ­¢ç‰¹å®šçš„ç±»è¿›è¡Œååºåˆ—åŒ–ã€‚è¿™æœ‰åŠ©äºé™åˆ¶æ½œåœ¨çš„å®‰å…¨é£é™©å’Œä¸å—ä¿¡ä»»çš„ç±»çš„ååºåˆ—åŒ–ã€‚</li><li>å†…å®¹æ£€æŸ¥ï¼šå¯ä»¥å¯¹ååºåˆ—åŒ–çš„å¯¹è±¡è¿›è¡Œæ›´ä¸¥æ ¼çš„éªŒè¯å’Œæ£€æŸ¥ï¼Œä»¥ç¡®ä¿æ•°æ®çš„å®Œæ•´æ€§å’Œåˆæ³•æ€§ã€‚</li><li>å®‰å…¨ç­–ç•¥å®æ–½ï¼šå¯ä»¥é€šè¿‡ä¸Šä¸‹æ–‡ç‰¹å®šçš„ååºåˆ—åŒ–è¿‡æ»¤å™¨å®æ–½ç‰¹å®šçš„å®‰å…¨ç­–ç•¥ï¼Œä»¥æ»¡è¶³åº”ç”¨ç¨‹åºçš„éœ€æ±‚å’Œè¦æ±‚ã€‚</li></ol> 
<p>é€šè¿‡ä½¿ç”¨ Context-Specific Deserialization Filtersï¼Œå¼€å‘äººå‘˜å¯ä»¥åœ¨ååºåˆ—åŒ–è¿‡ç¨‹ä¸­æ›´ç»†ç²’åº¦åœ°æ§åˆ¶å’ŒéªŒè¯å¯¹è±¡çš„åˆ›å»ºå’Œå†…å®¹ã€‚è¿™æœ‰åŠ©äºæé«˜åº”ç”¨ç¨‹åºçš„å®‰å…¨æ€§ï¼Œå‡å°‘æ½œåœ¨çš„å®‰å…¨æ¼æ´å’Œæ”»å‡»é¢ã€‚</p> 
<h3><a id="102_Strong_encapsulation_of_JDK_internalsJDK__2243"></a>10.2 Strong encapsulation of JDK internalsï¼ˆJDK å†…éƒ¨æ¨¡å—çš„å¼ºå°è£…ï¼‰</h3> 
<p>Strong encapsulation of JDK internalsï¼ˆJDK å†…éƒ¨æ¨¡å—çš„å¼ºå°è£…ï¼‰æ˜¯ JDK 17 ä¸­å¼•å…¥çš„ä¸€ä¸ªç‰¹æ€§ï¼Œæ—¨åœ¨è¿›ä¸€æ­¥é™åˆ¶å’Œå°è£… JDK å†…éƒ¨æ¨¡å—çš„è®¿é—®ã€‚ åœ¨ Java 9 ä¸­ï¼Œå¼•å…¥äº†æ¨¡å—ç³»ç»Ÿï¼ˆModule Systemï¼‰ï¼Œé€šè¿‡å°† JDK åˆ†ä¸ºä¸€ç»„æ¨¡å—æ¥æä¾›æ›´ä¸¥æ ¼çš„è®¿é—®æ§åˆ¶å’Œæ¨¡å—åŒ–ã€‚ç„¶è€Œï¼Œåœ¨è¾ƒæ—©ç‰ˆæœ¬çš„ JDK ä¸­ï¼ŒæŸäº› JDK å†…éƒ¨æ¨¡å—çš„è®¿é—®çº§åˆ«ä»ç„¶æ¯”è¾ƒå®½æ¾ï¼Œå¯èƒ½ä¼šå¯¼è‡´æ½œåœ¨çš„ä¸å®‰å…¨å’Œä¸ç¨³å®šçš„ä»£ç ä¾èµ–å…³ç³»ã€‚ JDK 17 å¼•å…¥äº† Strong encapsulation ç‰¹æ€§ï¼Œé€šè¿‡è¿›ä¸€æ­¥é™åˆ¶å’Œå°è£… JDK å†…éƒ¨æ¨¡å—çš„è®¿é—®ï¼Œä»¥æé«˜ç³»ç»Ÿçš„å®‰å…¨æ€§å’Œç¨³å®šæ€§ã€‚å…·ä½“æ¥è¯´ï¼Œå®ƒåŒ…æ‹¬ä»¥ä¸‹æ–¹é¢ï¼š</p> 
<ol start="0"><li>JDK å†…éƒ¨ API çš„å¼ºå°è£…ï¼šè®¸å¤š JDK å†…éƒ¨ API åœ¨ JDK 17 ä¸­è¢«æ ‡è®°ä¸ºå¼ºå°è£…ï¼Œä¸å†å…¬å¼€ä¸ºå…¬å…± APIã€‚è¿™äº› API çš„è®¿é—®çº§åˆ«è¢«é™åˆ¶åœ¨ JDK å†…éƒ¨ï¼Œå¼€å‘äººå‘˜ä¸åº”ç›´æ¥è®¿é—®æˆ–ä¾èµ–è¿™äº› APIã€‚</li><li>æ¨¡å—çš„å¼ºå°è£…ï¼šJDK 17 å¼ºåŒ–äº†ä¸€äº› JDK å†…éƒ¨æ¨¡å—çš„å°è£…ï¼Œä»¥é˜²æ­¢å¤–éƒ¨æ¨¡å—ç›´æ¥è®¿é—®è¿™äº›å†…éƒ¨æ¨¡å—ã€‚è¿™å¢åŠ äº†å¯¹ JDK å†…éƒ¨å®ç°ç»†èŠ‚çš„ä¿æŠ¤ï¼Œé™ä½äº†å¯¹å†…éƒ¨æ¨¡å—çš„ç›´æ¥ä¾èµ–ã€‚</li></ol> 
<p>é€šè¿‡å¼ºå°è£… JDK å†…éƒ¨æ¨¡å—ï¼Œå¯ä»¥å‡å°‘å¯¹ä¸ç¨³å®šçš„å’Œéæ­£å¼çš„ API çš„ä¾èµ–ï¼Œå¹¶æé«˜åº”ç”¨ç¨‹åºçš„å¯é æ€§å’Œå¯ç§»æ¤æ€§ã€‚è¿™ä¹Ÿä¿ƒä½¿å¼€å‘äººå‘˜ä½¿ç”¨å…¬å…±å’Œç¨³å®šçš„ APIï¼Œä»¥ç¡®ä¿åº”ç”¨ç¨‹åºåœ¨ä¸åŒç‰ˆæœ¬çš„ JDK ä¸Šçš„å…¼å®¹æ€§ã€‚ éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œåœ¨ä½¿ç”¨ JDK 17 æ—¶ï¼Œå¦‚æœåº”ç”¨ç¨‹åºä¾èµ–äº JDK å†…éƒ¨çš„ API æˆ–æ¨¡å—ï¼Œå¯èƒ½ä¼šå—åˆ°è¿™ç§å¼ºå°è£…çš„å½±å“ã€‚</p> 
<h3><a id="103_Sealed_JNI_JNI_2252"></a>10.3 Sealed JNIï¼ˆå¯†å° JNIï¼‰</h3> 
<p>Sealed JNIï¼ˆå¯†å° JNIï¼‰æ˜¯ JDK 17 ä¸­å¼•å…¥çš„ä¸€ä¸ªç‰¹æ€§ï¼Œæ—¨åœ¨é™åˆ¶æœ¬æœºæ¥å£ï¼ˆJNIï¼‰çš„å®ç°ï¼Œä»¥æé«˜æœ¬æœºä»£ç çš„å®‰å…¨æ€§ã€‚ JNI æ˜¯ Java Native Interface çš„ç¼©å†™ï¼Œå®ƒå…è®¸ Java ç¨‹åºä¸æœ¬æœºä»£ç è¿›è¡Œäº¤äº’ã€‚é€šè¿‡ JNIï¼ŒJava ç¨‹åºå¯ä»¥è°ƒç”¨æœ¬æœºåº“ä¸­çš„å‡½æ•°ï¼Œä¹Ÿå¯ä»¥ä»æœ¬æœºä»£ç ä¸­è°ƒç”¨ Java æ–¹æ³•ã€‚ç„¶è€Œï¼ŒJNI ä¹Ÿå¸¦æ¥äº†ä¸€äº›å®‰å…¨é£é™©ï¼Œå› ä¸ºä¸å—ä¿¡ä»»çš„æœ¬æœºä»£ç å¯èƒ½ä¼šè®¿é—®å’Œä¿®æ”¹ Java ç¨‹åºçš„å†…éƒ¨çŠ¶æ€ã€‚ Sealed JNI å¼•å…¥äº†å¯†å° JNI çš„æ¦‚å¿µï¼Œé€šè¿‡é™åˆ¶æœ¬æœºæ¥å£çš„å®ç°æ¥æé«˜æœ¬æœºä»£ç çš„å®‰å…¨æ€§ã€‚å…·ä½“æ¥è¯´ï¼ŒSealed JNI å¯ä»¥é€šè¿‡ä»¥ä¸‹æ–¹å¼å®ç°ï¼š</p> 
<ol start="0"><li>å¯†å°æœ¬æœºæ¥å£åº“ï¼šå¼€å‘äººå‘˜å¯ä»¥å°†æœ¬æœºæ¥å£åº“æ ‡è®°ä¸ºå¯†å°ï¼ˆsealedï¼‰ï¼Œä»¥é™åˆ¶å®ƒçš„å®ç°ã€‚å¯†å°æœ¬æœºæ¥å£åº“åªèƒ½åœ¨ç‰¹å®šçš„ä¸Šä¸‹æ–‡ä¸­ä½¿ç”¨ï¼Œä¾‹å¦‚æŒ‡å®šçš„æ¨¡å—ã€ç±»åŠ è½½å™¨æˆ–å…¶ä»–æ¡ä»¶ã€‚</li><li>å®‰å…¨ç­–ç•¥çš„å¼ºåˆ¶æ‰§è¡Œï¼šé€šè¿‡å¯†å° JNIï¼Œå¯ä»¥å¼ºåˆ¶æ‰§è¡Œå®‰å…¨ç­–ç•¥ï¼Œåªå…è®¸å—ä¿¡ä»»çš„æœ¬æœºæ¥å£åº“è¿›è¡Œè°ƒç”¨ã€‚è¿™å¯ä»¥å‡å°‘æ½œåœ¨çš„æ¶æ„æˆ–ä¸å®‰å…¨çš„æœ¬æœºä»£ç å¯¹ Java ç¨‹åºçš„å½±å“ã€‚</li></ol> 
<p>Sealed JNI çš„ç›®æ ‡æ˜¯æé«˜æœ¬æœºä»£ç çš„å®‰å…¨æ€§ï¼Œå¹¶å‡å°‘ä¸ä¸å—ä¿¡ä»»çš„æœ¬æœºä»£ç ç›¸å…³çš„æ½œåœ¨é£é™©ã€‚å¼€å‘äººå‘˜å¯ä»¥ä½¿ç”¨å¯†å° JNI æ¥é™åˆ¶æœ¬æœºæ¥å£åº“çš„ä½¿ç”¨èŒƒå›´ï¼Œå¹¶ç¡®ä¿åªæœ‰å—ä¿¡ä»»çš„ä»£ç å¯ä»¥è°ƒç”¨æœ¬æœºæ–¹æ³•ã€‚</p> 
<h3><a id="104__2261"></a>10.4 æ”¹è¿›çš„åƒåœ¾æ”¶é›†å™¨</h3> 
<p>åœ¨ JDK 17 ä¸­ï¼Œè¿›è¡Œäº†ä¸€äº›æ”¹è¿›å’Œä¼˜åŒ–ï¼Œä»¥æä¾›æ›´å¥½çš„åƒåœ¾æ”¶é›†å™¨æ€§èƒ½å’Œç¨³å®šæ€§ã€‚ä»¥ä¸‹æ˜¯ä¸€äº›ä¸åƒåœ¾æ”¶é›†å™¨ç›¸å…³çš„æ”¹è¿›ï¼š</p> 
<ol start="0"><li>ZGCï¼šZGC æ˜¯ä¸€ç§ä½å»¶è¿Ÿçš„åƒåœ¾æ”¶é›†å™¨ï¼Œæ—¨åœ¨å‡å°‘åº”ç”¨ç¨‹åºçš„åœé¡¿æ—¶é—´ã€‚åœ¨ JDK 17 ä¸­ï¼ŒZGC è¿›è¡Œäº†ä¸€äº›æ”¹è¿›ï¼ŒåŒ…æ‹¬æ”¹è¿›çš„å†…å­˜åˆ†é…ã€å¢å¼ºçš„å¹¶å‘å¤„ç†å’Œæ›´å¥½çš„æ€§èƒ½ã€‚</li><li>Shenandoah GCï¼šShenandoah GC æ˜¯å¦ä¸€ç§ä½å»¶è¿Ÿçš„åƒåœ¾æ”¶é›†å™¨ï¼Œé€‚ç”¨äºå¤§å†…å­˜å †çš„åº”ç”¨ç¨‹åºã€‚åœ¨ JDK 17 ä¸­ï¼ŒShenandoah GC è¿›è¡Œäº†ä¸€äº›æ”¹è¿›ï¼ŒåŒ…æ‹¬æ›´å¥½çš„åƒåœ¾æ”¶é›†ç®—æ³•ã€å¹¶å‘å¤„ç†å’Œæ€§èƒ½ä¼˜åŒ–ã€‚</li><li>G1 GC æ”¹è¿›ï¼šG1ï¼ˆGarbage-Firstï¼‰æ˜¯ä¸€ç§é¢å‘å¤§å †å’Œä½åœé¡¿çš„åƒåœ¾æ”¶é›†å™¨ã€‚åœ¨ JDK 17 ä¸­ï¼Œå¯¹ G1 GC è¿›è¡Œäº†ä¸€äº›æ”¹è¿›ï¼ŒåŒ…æ‹¬æ€§èƒ½ä¼˜åŒ–ã€å†…å­˜åˆ†é…æ”¹è¿›å’Œæ›´å¥½çš„å¹¶å‘å¤„ç†ã€‚</li><li>åƒåœ¾æ”¶é›†å™¨æ¥å£ï¼šJDK 17 å¼•å…¥äº†ä¸€ç»„æ–°çš„åƒåœ¾æ”¶é›†å™¨æ¥å£ï¼Œå…è®¸å¼€å‘äººå‘˜å®ç°è‡ªå®šä¹‰çš„åƒåœ¾æ”¶é›†å™¨ã€‚è¿™æ ·ï¼Œå¼€å‘äººå‘˜å¯ä»¥æ ¹æ®è‡ªå·±çš„éœ€æ±‚å’Œåœºæ™¯å¼€å‘å®šåˆ¶çš„åƒåœ¾æ”¶é›†å™¨ã€‚</li></ol> 
<p>è¿™äº›æ”¹è¿›å’Œä¼˜åŒ–æ—¨åœ¨æä¾›æ›´å¥½çš„åƒåœ¾æ”¶é›†å™¨æ€§èƒ½ã€é™ä½åœé¡¿æ—¶é—´ï¼Œå¹¶æé«˜å¤§å †å’Œä½å»¶è¿Ÿåº”ç”¨ç¨‹åºçš„ååé‡ã€‚å…·ä½“çš„æ”¹è¿›å’Œä¼˜åŒ–ç»†èŠ‚å¯ä»¥åœ¨ JDK 17 çš„å‘è¡Œè¯´æ˜å’Œç›¸å…³æ–‡æ¡£ä¸­æ‰¾åˆ°ã€‚</p> 
<h2><a id="3_volitail_2274"></a>3. volitailå…³é”®å­—çš„ä½œç”¨ï¼Œå’Œé”æ¯”èµ·æ¥æ€§èƒ½å¦‚ä½•ï¼Ÿ</h2> 
<p><code>volatile</code>æ˜¯Javaä¸­çš„ä¸€ä¸ªå…³é”®å­—ï¼Œå®ƒä¸»è¦ç”¨äºç¡®ä¿å˜é‡çš„å¯è§æ€§å’Œæœ‰åºæ€§ã€‚å½“ä¸€ä¸ªå­—æ®µè¢«å£°æ˜ä¸º<code>volatile</code>æ—¶ï¼ŒJVMä¿è¯æ‰€æœ‰çº¿ç¨‹éƒ½èƒ½çœ‹åˆ°è¯¥å­—æ®µçš„æœ€æ–°å€¼ã€‚æ­¤å¤–ï¼Œ<code>volatile</code>è¿˜é˜²æ­¢æŒ‡ä»¤é‡æ’åºï¼Œç¡®ä¿åœ¨å…¶ä¹‹å‰çš„æ‰€æœ‰å†™æ“ä½œéƒ½åœ¨å…¶ä¹‹åçš„è¯»æ“ä½œä¹‹å‰å®Œæˆã€‚</p> 
<p>ä»¥ä¸‹æ˜¯<code>volatile</code>å…³é”®å­—çš„ä¸€ä¸ªç®€å•ç¤ºä¾‹ï¼š</p> 
<pre><code class="prism language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">SharedObject</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">private</span> <span class="token keyword">volatile</span> <span class="token keyword">int</span> counter <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">incrementCounter</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        counter<span class="token operator">++</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">getCounter</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> counter<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œ<code>counter</code>å­—æ®µè¢«å£°æ˜ä¸º<code>volatile</code>ï¼Œè¿™æ„å‘³ç€å¦‚æœæœ‰å¤šä¸ªçº¿ç¨‹åŒæ—¶è®¿é—®å’Œä¿®æ”¹<code>counter</code>ï¼Œæ¯ä¸ªçº¿ç¨‹éƒ½èƒ½çœ‹åˆ°æœ€æ–°çš„<code>counter</code>å€¼ï¼Œè€Œä¸æ˜¯å®ƒä»¬å„è‡ªç¼“å­˜ä¸­çš„å€¼ã€‚</p> 
<p>ç„¶è€Œï¼Œ<code>volatile</code>å¹¶ä¸èƒ½æä¾›äº’æ–¥æ€§ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œå®ƒä¸èƒ½é˜²æ­¢å¤šä¸ªçº¿ç¨‹åŒæ—¶ä¿®æ”¹åŒä¸€ä¸ªå˜é‡ï¼Œå¯¼è‡´çš„æ•°æ®ä¸ä¸€è‡´é—®é¢˜ã€‚è¿™å°±æ˜¯æ‰€è°“çš„åŸå­æ€§é—®é¢˜ã€‚åœ¨ä¸Šè¿°ä¾‹å­ä¸­ï¼Œ<code>incrementCounter</code>æ–¹æ³•å¹¶ä¸æ˜¯çº¿ç¨‹å®‰å…¨çš„ï¼Œå› ä¸º<code>counter++</code>è¿™ä¸ªæ“ä½œä¸æ˜¯åŸå­çš„ã€‚</p> 
<p>ç›¸æ¯”ä¹‹ä¸‹ï¼Œé”ï¼ˆå¦‚<code>synchronized</code>å…³é”®å­—æˆ–<code>ReentrantLock</code>ç±»ï¼‰å¯ä»¥æä¾›äº’æ–¥æ€§ï¼Œç¡®ä¿åŒä¸€æ—¶é—´åªæœ‰ä¸€ä¸ªçº¿ç¨‹å¯ä»¥æ‰§è¡Œç‰¹å®šçš„ä»£ç å—ï¼Œä»è€Œè§£å†³åŸå­æ€§é—®é¢˜ã€‚ä½†æ˜¯ï¼Œé”çš„å¼€é”€é€šå¸¸æ¯”<code>volatile</code>å¤§ï¼Œå› ä¸ºå®ƒæ¶‰åŠåˆ°çº¿ç¨‹ä¸Šä¸‹æ–‡çš„åˆ‡æ¢å’Œè°ƒåº¦ã€‚</p> 
<p>æ€»çš„æ¥è¯´ï¼Œ<code>volatile</code>å’Œé”åœ¨æ€§èƒ½å’Œç”¨é€”ä¸Šéƒ½æœ‰å„è‡ªçš„ä¼˜ç¼ºç‚¹ã€‚<code>volatile</code>é€‚ç”¨äºåªéœ€è¦ç¡®ä¿å¯è§æ€§å’Œæœ‰åºæ€§ï¼Œä½†ä¸éœ€è¦äº’æ–¥æ€§çš„åœºæ™¯ï¼Œè€Œé”åˆ™é€‚ç”¨äºéœ€è¦ç¡®ä¿äº’æ–¥æ€§çš„åœºæ™¯ã€‚åœ¨é€‰æ‹©ä½¿ç”¨<code>volatile</code>è¿˜æ˜¯é”æ—¶ï¼Œéœ€è¦æ ¹æ®å…·ä½“çš„éœ€æ±‚å’Œåœºæ™¯æ¥å†³å®šã€‚</p> 
<h2><a id="4_hashMap_2304"></a>4. hashMapå­˜å–æ•°æ®çš„æ—¶é—´å¤æ‚åº¦æ˜¯å¤šå°‘ï¼Ÿ</h2> 
<p>HashMapæ˜¯Javaä¸­çš„ä¸€ä¸ªåŸºäºå“ˆå¸Œè¡¨å®ç°çš„æ•°æ®ç»“æ„ï¼Œå®ƒæä¾›äº†å¿«é€Ÿçš„é”®å€¼å¯¹å­˜å‚¨å’Œè®¿é—®ã€‚HashMapçš„ä¸»è¦æ“ä½œï¼ˆå¦‚<code>put</code>ã€<code>get</code>å’Œ<code>remove</code>ï¼‰çš„å¹³å‡æ—¶é—´å¤æ‚åº¦æ˜¯O(1)ã€‚</p> 
<p>è¿™æ˜¯å› ä¸ºHashMapä½¿ç”¨å“ˆå¸Œå‡½æ•°å°†é”®æ˜ å°„åˆ°å“ˆå¸Œè¡¨çš„ç‰¹å®šç´¢å¼•ï¼Œç„¶ååœ¨è¯¥ç´¢å¼•å¤„å­˜å‚¨æˆ–æŸ¥æ‰¾ç›¸åº”çš„å€¼ã€‚ç†æƒ³æƒ…å†µä¸‹ï¼Œå“ˆå¸Œå‡½æ•°å°†é”®å‡åŒ€åœ°åˆ†å¸ƒåœ¨å“ˆå¸Œè¡¨ä¸­ï¼Œä»è€Œä½¿å¾—æ¯ä¸ªç´¢å¼•ä½ç½®çš„å…ƒç´ æ•°é‡è¾ƒå°‘ï¼Œè¿™æ ·åœ¨æ‰§è¡Œæ“ä½œæ—¶ï¼Œåªéœ€è¦æ£€æŸ¥å¾ˆå°‘çš„å…ƒç´ ã€‚</p> 
<p>ç„¶è€Œï¼Œåœ¨å®é™…åº”ç”¨ä¸­ï¼Œå¯èƒ½ä¼šå‡ºç°å“ˆå¸Œå†²çªï¼Œå³å¤šä¸ªé”®æ˜ å°„åˆ°åŒä¸€ä¸ªç´¢å¼•ã€‚ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼ŒHashMapä½¿ç”¨é“¾è¡¨æˆ–çº¢é»‘æ ‘ï¼ˆå½“é“¾è¡¨é•¿åº¦è¶…è¿‡ä¸€å®šé˜ˆå€¼æ—¶ï¼‰æ¥å­˜å‚¨å…·æœ‰ç›¸åŒç´¢å¼•çš„é”®å€¼å¯¹ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼ŒHashMapçš„æ“ä½œæ—¶é—´å¤æ‚åº¦å¯èƒ½ä¼šé€€åŒ–åˆ°O(n)ï¼Œå…¶ä¸­næ˜¯å…·æœ‰ç›¸åŒç´¢å¼•çš„é”®å€¼å¯¹çš„æ•°é‡ã€‚</p> 
<p>æ€»çš„æ¥è¯´ï¼ŒHashMapçš„å­˜å–æ•°æ®çš„å¹³å‡æ—¶é—´å¤æ‚åº¦æ˜¯O(1)ï¼Œä½†åœ¨æœ€åæƒ…å†µä¸‹ï¼Œå¯èƒ½ä¼šé€€åŒ–åˆ°O(n)ã€‚ä¸ºäº†é¿å…æ€§èƒ½é€€åŒ–ï¼Œå¯ä»¥é€šè¿‡è°ƒæ•´HashMapçš„åˆå§‹å®¹é‡å’Œè´Ÿè½½å› å­æ¥ä¼˜åŒ–å“ˆå¸Œè¡¨çš„å¤§å°å’Œæ‰©å®¹ç­–ç•¥ã€‚</p> 
<h2><a id="5_springboot_2314"></a>5. åœ¨springbootå¯åŠ¨é˜¶æ®µæˆ–è€…åˆå§‹é˜¶æ®µå»è·å–å¤–éƒ¨çš„é…ç½®æ•°æ®æ¥å¯åŠ¨é¡¹ç›®ï¼Œæ€ä¹ˆå»å®ç°ï¼Ÿ</h2> 
<p>åœ¨Spring Bootä¸­ï¼Œæœ‰å¤šç§æ–¹å¼å¯ä»¥åœ¨å¯åŠ¨é˜¶æ®µæˆ–åˆå§‹é˜¶æ®µè·å–å¤–éƒ¨çš„é…ç½®æ•°æ®æ¥å¯åŠ¨é¡¹ç›®ã€‚ä»¥ä¸‹æ˜¯ä¸€ç§å¸¸è§çš„æ–¹æ³•ï¼š</p> 
<ol><li>ä½¿ç”¨Spring Bootçš„<code>@ConfigurationProperties</code>æ³¨è§£ã€‚è¿™ä¸ªæ³¨è§£å¯ä»¥å°†å¤–éƒ¨çš„é…ç½®æ–‡ä»¶ï¼ˆå¦‚application.propertiesæˆ–application.ymlï¼‰ä¸­çš„å±æ€§ç»‘å®šåˆ°ä¸€ä¸ªBeanä¸Šã€‚ä¾‹å¦‚ï¼š</li></ol> 
<pre><code class="prism language-java"><span class="token annotation punctuation">@ConfigurationProperties</span><span class="token punctuation">(</span>prefix <span class="token operator">=</span> <span class="token string">"custom"</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">CustomProperties</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> property<span class="token punctuation">;</span>

    <span class="token comment">// getter and setter methods</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œ<code>custom.property</code>çš„å€¼å°†è¢«ç»‘å®šåˆ°<code>CustomProperties</code>ç±»çš„<code>property</code>å­—æ®µä¸Šã€‚</p> 
<ol start="2"><li>åˆ›å»ºä¸€ä¸ª<code>@Configuration</code>ç±»ï¼Œç„¶ååœ¨è¿™ä¸ªç±»ä¸­æ³¨å…¥ä½ çš„<code>CustomProperties</code>ç±»ã€‚ä¾‹å¦‚ï¼š</li></ol> 
<pre><code class="prism language-java"><span class="token annotation punctuation">@Configuration</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">AppConfig</span> <span class="token punctuation">{<!-- --></span>
    <span class="token annotation punctuation">@Autowired</span>
    <span class="token keyword">private</span> <span class="token class-name">CustomProperties</span> customProperties<span class="token punctuation">;</span>

    <span class="token comment">// use customProperties here</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œ<code>AppConfig</code>ç±»å¯ä»¥è®¿é—®<code>CustomProperties</code>ç±»ä¸­çš„å±æ€§ï¼Œè¿™äº›å±æ€§çš„å€¼æ¥è‡ªå¤–éƒ¨çš„é…ç½®æ–‡ä»¶ã€‚</p> 
<ol start="3"><li>å¦‚æœä½ éœ€è¦åœ¨åº”ç”¨å¯åŠ¨æ—¶ç«‹å³ä½¿ç”¨è¿™äº›é…ç½®æ•°æ®ï¼Œä½ å¯ä»¥å®ç°<code>ApplicationRunner</code>æˆ–<code>CommandLineRunner</code>æ¥å£ï¼Œå¹¶åœ¨<code>run</code>æ–¹æ³•ä¸­ä½¿ç”¨ä½ çš„é…ç½®æ•°æ®ã€‚ä¾‹å¦‚ï¼š</li></ol> 
<pre><code class="prism language-java"><span class="token annotation punctuation">@Component</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">StartupRunner</span> <span class="token keyword">implements</span> <span class="token class-name">ApplicationRunner</span> <span class="token punctuation">{<!-- --></span>
    <span class="token annotation punctuation">@Autowired</span>
    <span class="token keyword">private</span> <span class="token class-name">CustomProperties</span> customProperties<span class="token punctuation">;</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">run</span><span class="token punctuation">(</span><span class="token class-name">ApplicationArguments</span> args<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token comment">// use customProperties here</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œ<code>StartupRunner</code>ç±»å°†åœ¨åº”ç”¨å¯åŠ¨æ—¶è¿è¡Œï¼Œä½ å¯ä»¥åœ¨<code>run</code>æ–¹æ³•ä¸­ä½¿ç”¨ä½ çš„é…ç½®æ•°æ®ã€‚</p> 
<p>ä»¥ä¸Šå°±æ˜¯åœ¨Spring Bootå¯åŠ¨é˜¶æ®µæˆ–åˆå§‹é˜¶æ®µè·å–å¤–éƒ¨çš„é…ç½®æ•°æ®çš„ä¸€ç§æ–¹æ³•ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œè¿™ç§æ–¹æ³•ä¾èµ–äºSpring Bootçš„è‡ªåŠ¨é…ç½®ç‰¹æ€§ï¼Œä½ éœ€è¦ç¡®ä¿ä½ çš„é…ç½®æ–‡ä»¶è¢«æ­£ç¡®åœ°æ”¾åœ¨äº†ç±»è·¯å¾„çš„æ­£ç¡®ä½ç½®ï¼ˆé€šå¸¸æ˜¯<code>src/main/resources</code>ç›®å½•ï¼‰ã€‚</p> 
<h2><a id="6starterspringboot_2366"></a>6.ä½ ä¼šæ€ä¹ˆå»å¼€å‘ä¸€ä¸ªstarterï¼Œè¿ç”¨äº†springbootçš„ä»€ä¹ˆæœºåˆ¶ï¼Ÿ</h2> 
<p>å¼€å‘ä¸€ä¸ªSpring Boot Starterä¸»è¦æ¶‰åŠåˆ°Spring Bootçš„è‡ªåŠ¨é…ç½®æœºåˆ¶ã€‚ä»¥ä¸‹æ˜¯å¼€å‘ä¸€ä¸ªSpring Boot Starterçš„åŸºæœ¬æ­¥éª¤ï¼š</p> 
<ol><li> <p>åˆ›å»ºä¸€ä¸ªæ–°çš„Mavené¡¹ç›®ï¼Œè¿™å°†æ˜¯ä½ çš„Starteré¡¹ç›®ã€‚</p> </li><li> <p>åœ¨ä½ çš„Starteré¡¹ç›®ä¸­ï¼Œæ·»åŠ ä½ éœ€è¦çš„ä¾èµ–ã€‚è¿™äº›ä¾èµ–å°†è¢«åŒ…å«åœ¨ä½¿ç”¨ä½ çš„Starterçš„é¡¹ç›®ä¸­ã€‚</p> </li><li> <p>åˆ›å»ºä¸€ä¸ªè‡ªåŠ¨é…ç½®ç±»ã€‚è¿™ä¸ªç±»åº”è¯¥è¢«æ ‡æ³¨ä¸º<code>@Configuration</code>ï¼Œå¹¶ä¸”é€šå¸¸è¢«å‘½åä¸º<code>*AutoConfiguration</code>ã€‚åœ¨è¿™ä¸ªç±»ä¸­ï¼Œä½ å¯ä»¥å®šä¹‰Beanï¼Œè¿™äº›Beanå°†åœ¨ä½¿ç”¨ä½ çš„Starterçš„é¡¹ç›®ä¸­è¢«è‡ªåŠ¨é…ç½®ã€‚</p> </li></ol> 
<pre><code class="prism language-java"><span class="token annotation punctuation">@Configuration</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MyStarterAutoConfiguration</span> <span class="token punctuation">{<!-- --></span>
    <span class="token annotation punctuation">@Bean</span>
    <span class="token keyword">public</span> <span class="token class-name">MyService</span> <span class="token function">myService</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">MyService</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<ol start="4"><li>åœ¨<code>src/main/resources/META-INF</code>ç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ªåä¸º<code>spring.factories</code>çš„æ–‡ä»¶ã€‚åœ¨è¿™ä¸ªæ–‡ä»¶ä¸­ï¼Œä½ éœ€è¦æŒ‡å®šä½ çš„è‡ªåŠ¨é…ç½®ç±»ã€‚</li></ol> 
<pre><code class="prism language-properties">org.springframework.boot.autoconfigure.EnableAutoConfiguration=\
com.example.mystarter.MyStarterAutoConfiguration
</code></pre> 
<ol start="5"><li>æœ€åï¼Œæ‰“åŒ…ä½ çš„Starteré¡¹ç›®ï¼Œå¹¶å°†å…¶å‘å¸ƒåˆ°ä¸€ä¸ªMavenä»“åº“ï¼ˆå¦‚Maven Centralæˆ–ä½ çš„ç§æœ‰ä»“åº“ï¼‰ã€‚</li></ol> 
<p>åœ¨ä½¿ç”¨ä½ çš„Starterçš„é¡¹ç›®ä¸­ï¼Œåªéœ€è¦æ·»åŠ å¯¹ä½ çš„Starterçš„ä¾èµ–ï¼Œç„¶åSpring Bootçš„è‡ªåŠ¨é…ç½®æœºåˆ¶å°±ä¼šè‡ªåŠ¨é…ç½®ä½ çš„Starteræä¾›çš„Beanã€‚</p> 
<p>è¿™å°±æ˜¯å¼€å‘ä¸€ä¸ªSpring Boot Starterçš„åŸºæœ¬æ­¥éª¤ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œä½ çš„è‡ªåŠ¨é…ç½®ç±»å’Œ<code>spring.factories</code>æ–‡ä»¶çš„ä½ç½®å¿…é¡»æ˜¯å‡†ç¡®çš„ï¼Œå¦åˆ™Spring Bootå°†æ— æ³•æ‰¾åˆ°å¹¶è‡ªåŠ¨é…ç½®ä½ çš„Starterã€‚</p> 
<h2><a id="7_mysqlstarterkafkastarter_2401"></a>7. è®²è®²å¼•å…¥ä¸€ä¸ªmysqlçš„starteræˆ–è€…kafkaçš„starterï¼Œä»–æ˜¯æ€ä¹ˆå»åŠ è½½çš„ï¼Ÿå¯åŠ¨åŸç†æ˜¯ä»€ä¹ˆï¼Ÿ</h2> 
<p>å½“ä½ åœ¨Spring Booté¡¹ç›®ä¸­å¼•å…¥ä¸€ä¸ªå¦‚MySQLæˆ–Kafkaçš„Starteræ—¶ï¼ŒSpring Bootçš„è‡ªåŠ¨é…ç½®æœºåˆ¶ä¼šè¢«è§¦å‘ã€‚ä»¥ä¸‹æ˜¯è¿™ä¸ªè¿‡ç¨‹çš„å¤§è‡´æ­¥éª¤ï¼š</p> 
<ol><li>å½“ä½ åœ¨é¡¹ç›®çš„pom.xmlæ–‡ä»¶ä¸­æ·»åŠ äº†ä¸€ä¸ªStarterçš„ä¾èµ–åï¼ŒMavenä¼šä»ä»“åº“ä¸­ä¸‹è½½è¿™ä¸ªStarteråŠå…¶ä¾èµ–çš„åº“ã€‚</li></ol> 
<pre><code class="prism language-xml"><span class="token comment">&lt;!-- ä¾‹å¦‚ï¼Œæ·»åŠ Spring Boot Starter for MySQL --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-boot-starter-data-jpa<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>mysql<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>mysql-connector-java<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
<ol start="2"><li> <p>åœ¨Spring Bootåº”ç”¨å¯åŠ¨æ—¶ï¼Œå®ƒä¼šè¯»å–æ‰€æœ‰åœ¨ç±»è·¯å¾„ä¸‹çš„<code>META-INF/spring.factories</code>æ–‡ä»¶ã€‚è¿™äº›æ–‡ä»¶ä¸­å®šä¹‰äº†æ‰€æœ‰çš„è‡ªåŠ¨é…ç½®ç±»ã€‚</p> </li><li> <p>Spring Bootä¼šåˆ›å»ºå¹¶é…ç½®åœ¨<code>spring.factories</code>æ–‡ä»¶ä¸­å®šä¹‰çš„æ‰€æœ‰Beanã€‚ä¾‹å¦‚ï¼Œå¦‚æœä½ æ·»åŠ äº†MySQLçš„Starterï¼Œé‚£ä¹ˆSpring Bootä¼šè‡ªåŠ¨é…ç½®ä¸€ä¸ª<code>DataSource</code> Beanï¼Œè¿™ä¸ªBeanç”¨äºè¿æ¥åˆ°MySQLæ•°æ®åº“ã€‚</p> </li><li> <p>åœ¨è‡ªåŠ¨é…ç½®è¿‡ç¨‹ä¸­ï¼ŒSpring Bootä¼šæ£€æŸ¥ä½ çš„åº”ç”¨ç¯å¢ƒä»¥å†³å®šæ˜¯å¦åº”è¯¥é…ç½®æŸä¸ªBeanã€‚ä¾‹å¦‚ï¼Œå¦‚æœä½ æ·»åŠ äº†MySQLçš„Starterï¼Œä½†æ˜¯æ²¡æœ‰åœ¨ä½ çš„é…ç½®æ–‡ä»¶ä¸­æä¾›MySQLçš„è¿æ¥ä¿¡æ¯ï¼Œé‚£ä¹ˆ<code>DataSource</code> Beanå°†ä¸ä¼šè¢«é…ç½®ã€‚</p> </li><li> <p>ä¸€æ—¦æ‰€æœ‰çš„Beanéƒ½è¢«é…ç½®å®Œæˆï¼Œä½ çš„åº”ç”¨å°±å¯ä»¥ä½¿ç”¨è¿™äº›Beanäº†ã€‚ä¾‹å¦‚ï¼Œä½ å¯ä»¥æ³¨å…¥<code>JdbcTemplate</code> Beanæ¥æ‰§è¡ŒSQLæŸ¥è¯¢ã€‚</p> </li></ol> 
<p>è¿™å°±æ˜¯Spring Boot Starterçš„åŠ è½½å’Œå¯åŠ¨åŸç†ã€‚é€šè¿‡è¿™ç§æ–¹å¼ï¼ŒSpring Boot Starterå¯ä»¥å¤§å¤§ç®€åŒ–Springåº”ç”¨çš„é…ç½®ï¼Œä½¿ä½ å¯ä»¥æ›´ä¸“æ³¨äºå¼€å‘ä¸šåŠ¡é€»è¾‘ã€‚</p> 
<h2><a id="8__unionunion__all_2435"></a>8. unionå’Œunion allçš„åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿ</h2> 
<p><code>UNION</code>å’Œ<code>UNION ALL</code>éƒ½æ˜¯SQLä¸­ç”¨äºåˆå¹¶ä¸¤ä¸ªæˆ–å¤šä¸ª<code>SELECT</code>æŸ¥è¯¢ç»“æœçš„æ“ä½œç¬¦ï¼Œä½†å®ƒä»¬ä¹‹é—´æœ‰ä¸€äº›é‡è¦çš„åŒºåˆ«ï¼š</p> 
<ol><li> <p><code>UNION</code>ä¼šè‡ªåŠ¨å»é™¤ç»“æœé›†ä¸­çš„é‡å¤è¡Œï¼Œè€Œ<code>UNION ALL</code>ä¸ä¼šã€‚è¿™æ„å‘³ç€ï¼Œå¦‚æœä¸¤ä¸ªæŸ¥è¯¢çš„ç»“æœé›†ä¸­æœ‰é‡å¤çš„è¡Œï¼Œä½¿ç”¨<code>UNION</code>çš„ç»“æœé›†ä¸­åªä¼šåŒ…å«ä¸€è¡Œï¼Œè€Œä½¿ç”¨<code>UNION ALL</code>çš„ç»“æœé›†ä¸­ä¼šåŒ…å«æ‰€æœ‰çš„é‡å¤è¡Œã€‚</p> </li><li> <p>ç”±äº<code>UNION</code>éœ€è¦è¿›è¡Œé¢å¤–çš„å»é‡æ“ä½œï¼Œæ‰€ä»¥åœ¨å¤„ç†å¤§é‡æ•°æ®æ—¶ï¼Œ<code>UNION</code>å¯èƒ½ä¼šæ¯”<code>UNION ALL</code>æ…¢ã€‚</p> </li><li> <p><code>UNION</code>ä¼šå¯¹ç»“æœé›†è¿›è¡Œæ’åºï¼Œè€Œ<code>UNION ALL</code>ä¸ä¼šã€‚è¿™æ„å‘³ç€ï¼Œä½¿ç”¨<code>UNION</code>çš„ç»“æœé›†æ˜¯æœ‰åºçš„ï¼Œè€Œä½¿ç”¨<code>UNION ALL</code>çš„ç»“æœé›†çš„é¡ºåºæ˜¯ä¸ç¡®å®šçš„ã€‚</p> </li></ol> 
<p>è¿™å°±æ˜¯<code>UNION</code>å’Œ<code>UNION ALL</code>çš„ä¸»è¦åŒºåˆ«ã€‚åœ¨å®é™…ä½¿ç”¨æ—¶ï¼Œåº”æ ¹æ®å…·ä½“éœ€æ±‚é€‰æ‹©ä½¿ç”¨å“ªä¸€ä¸ªã€‚å¦‚æœéœ€è¦å»é™¤é‡å¤è¡Œï¼Œæˆ–è€…éœ€è¦æœ‰åºçš„ç»“æœé›†ï¼Œå¯ä»¥ä½¿ç”¨<code>UNION</code>ã€‚å¦‚æœä¸éœ€è¦å»é™¤é‡å¤è¡Œï¼Œæˆ–è€…å¯¹æ€§èƒ½æœ‰è¾ƒé«˜è¦æ±‚ï¼Œå¯ä»¥ä½¿ç”¨<code>UNION ALL</code>ã€‚</p> 
<h2><a id="9__2449"></a>9. è¯·æ±‚å¤´é‡Œé¢æœ‰å“ªäº›ä¿¡æ¯ï¼Ÿ</h2> 
<p>è¯·æ±‚å¤´ï¼ˆRequest Headerï¼‰æ˜¯HTTPè¯·æ±‚çš„ä¸€éƒ¨åˆ†ï¼Œå®ƒåŒ…å«äº†è®¸å¤šå…³äºå®¢æˆ·ç«¯å’Œè¯·æ±‚çš„ä¿¡æ¯ã€‚ä»¥ä¸‹æ˜¯ä¸€äº›å¸¸è§çš„è¯·æ±‚å¤´å­—æ®µï¼š</p> 
<ol><li><code>Host</code>: è¯·æ±‚çš„ç›®æ ‡æœåŠ¡å™¨çš„åœ°å€ã€‚</li><li><code>User-Agent</code>: å‘èµ·è¯·æ±‚çš„å®¢æˆ·ç«¯ä¿¡æ¯ï¼Œå¦‚æµè§ˆå™¨ç±»å‹å’Œç‰ˆæœ¬ã€‚</li><li><code>Accept</code>: å®¢æˆ·ç«¯èƒ½å¤Ÿå¤„ç†çš„åª’ä½“ç±»å‹ã€‚</li><li><code>Accept-Language</code>: å®¢æˆ·ç«¯æ¥å—çš„è¯­è¨€ç±»å‹ã€‚</li><li><code>Accept-Encoding</code>: å®¢æˆ·ç«¯æ¥å—çš„å†…å®¹ç¼–ç ç±»å‹ã€‚</li><li><code>Connection</code>: æ§åˆ¶ç½‘ç»œè¿æ¥çš„é€‰é¡¹ï¼Œå¦‚<code>keep-alive</code>æˆ–<code>close</code>ã€‚</li><li><code>Content-Type</code>: è¯·æ±‚ä½“çš„åª’ä½“ç±»å‹ï¼Œå¦‚<code>application/json</code>æˆ–<code>text/html</code>ã€‚</li><li><code>Content-Length</code>: è¯·æ±‚ä½“çš„é•¿åº¦ã€‚</li><li><code>Authorization</code>: ç”¨äºèº«ä»½éªŒè¯çš„å‡­è¯ã€‚</li><li><code>Cookie</code>: æœåŠ¡å™¨å‘é€ç»™å®¢æˆ·ç«¯çš„cookieã€‚</li><li><code>Referer</code>: å‘èµ·è¯·æ±‚çš„é¡µé¢çš„URLã€‚</li></ol> 
<p>è¿™äº›åªæ˜¯è¯·æ±‚å¤´ä¸­å¯èƒ½åŒ…å«çš„ä¸€éƒ¨åˆ†ä¿¡æ¯ï¼Œå®é™…çš„è¯·æ±‚å¤´å¯èƒ½ä¼šåŒ…å«æ›´å¤šçš„å­—æ®µï¼Œå…·ä½“å–å†³äºå®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨çš„éœ€æ±‚ã€‚</p> 
<h2><a id="10__SQL_2471"></a>10. æ€ä¹ˆä¼˜åŒ–ä¸€ä¸ªæ…¢SQLï¼Ÿé¢˜ï¼Ÿ</h2> 
<p>ä¼˜åŒ–æ…¢SQLçš„æ–¹æ³•æœ‰å¾ˆå¤šï¼Œå…·ä½“å–å†³äºSQLæŸ¥è¯¢çš„å…·ä½“æƒ…å†µã€‚ä»¥ä¸‹æ˜¯ä¸€äº›å¸¸è§çš„ä¼˜åŒ–æ–¹æ³•ï¼š</p> 
<ol><li> <p><strong>åˆ›å»ºç´¢å¼•</strong>ï¼šå¦‚æœæŸ¥è¯¢çš„å­—æ®µæ²¡æœ‰ç´¢å¼•ï¼Œé‚£ä¹ˆæ•°æ®åº“éœ€è¦å…¨è¡¨æ‰«ææ¥æŸ¥æ‰¾æ•°æ®ï¼Œè¿™æ˜¯éå¸¸è€—æ—¶çš„ã€‚ä¸ºè¿™äº›å­—æ®µåˆ›å»ºç´¢å¼•å¯ä»¥å¤§å¤§æé«˜æŸ¥è¯¢é€Ÿåº¦ã€‚</p> </li><li> <p><strong>ä¼˜åŒ–æŸ¥è¯¢è¯­å¥</strong>ï¼šé¿å…åœ¨æŸ¥è¯¢ä¸­ä½¿ç”¨å…¨è¡¨æ‰«æçš„æ“ä½œï¼Œå¦‚<code>LIKE '%value%'</code>ã€‚å°½é‡ä½¿ç”¨ä¸»é”®è¿›è¡ŒæŸ¥è¯¢ï¼Œé¿å…ä½¿ç”¨<code>SELECT *</code>ï¼Œåªé€‰æ‹©éœ€è¦çš„å­—æ®µã€‚</p> </li><li> <p><strong>ä½¿ç”¨åˆ†é¡µ</strong>ï¼šå¦‚æœæŸ¥è¯¢è¿”å›å¤§é‡æ•°æ®ï¼Œå¯ä»¥è€ƒè™‘ä½¿ç”¨åˆ†é¡µæ¥å‡å°‘æ¯æ¬¡æŸ¥è¯¢è¿”å›çš„æ•°æ®é‡ã€‚</p> </li><li> <p><strong>ä½¿ç”¨æ‚²è§‚é”æˆ–ä¹è§‚é”</strong>ï¼šåœ¨å¹¶å‘æƒ…å†µä¸‹ï¼Œå¯ä»¥ä½¿ç”¨æ‚²è§‚é”æˆ–ä¹è§‚é”æ¥é¿å…æ•°æ®å†²çªã€‚</p> </li><li> <p><strong>æ•°æ®åº“è¡¨ç»“æ„ä¼˜åŒ–</strong>ï¼šå¦‚ä½¿ç”¨åˆç†çš„æ•°æ®ç±»å‹ï¼Œé¿å…nullå€¼ç­‰ã€‚</p> </li><li> <p><strong>ä½¿ç”¨é¢„ç¼–è¯‘è¯­å¥</strong>ï¼šé¢„ç¼–è¯‘è¯­å¥å¯ä»¥å‡å°‘SQLè§£æçš„æ—¶é—´ï¼Œæé«˜æ‰§è¡Œæ•ˆç‡ã€‚</p> </li><li> <p><strong>ä½¿ç”¨EXPLAINå‘½ä»¤</strong>ï¼šMySQLçš„EXPLAINå‘½ä»¤å¯ä»¥å¸®åŠ©æˆ‘ä»¬ç†è§£MySQLå¦‚ä½•æ‰§è¡ŒSQLè¯­å¥ï¼Œä»è€Œæ‰¾å‡ºæ€§èƒ½ç“¶é¢ˆã€‚</p> </li><li> <p><strong>æ•°æ®åº“å‚æ•°è°ƒä¼˜</strong>ï¼šå¦‚è°ƒæ•´å†…å­˜å‚æ•°ï¼Œè¿æ¥æ•°ç­‰ã€‚</p> </li><li> <p><strong>ä½¿ç”¨ç¼“å­˜</strong>ï¼šå¯¹äºè¯»å¤šå†™å°‘çš„åœºæ™¯ï¼Œå¯ä»¥è€ƒè™‘ä½¿ç”¨ç¼“å­˜æ¥å‡å°‘æ•°æ®åº“çš„å‹åŠ›ã€‚</p> </li></ol> 
<p>ä»¥ä¸Šåªæ˜¯ä¸€äº›åŸºæœ¬çš„ä¼˜åŒ–æ–¹æ³•ï¼Œå®é™…çš„ä¼˜åŒ–è¿‡ç¨‹éœ€è¦æ ¹æ®å…·ä½“çš„SQLè¯­å¥å’Œæ•°æ®åº“æƒ…å†µè¿›è¡Œã€‚</p>
                </div>
</body>
</html>
